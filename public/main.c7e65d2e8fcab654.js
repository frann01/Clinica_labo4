"use strict";(self.webpackChunkTPClinica=self.webpackChunkTPClinica||[]).push([[179],{2011:(ft,Se,F)=>{F.d(Se,{Dh:()=>fe,GT:()=>_e,cc:()=>Fe,hO:()=>Ge,on:()=>W,pX:()=>le,xv:()=>ve});var l=F(4650),H=F(127),P=F(5813);ft=F.hmd(ft);const oe=["ngOnDestroy"],le=(me,nt,et,Ue={})=>new Proxy(me,{get:(Re,De)=>et.runOutsideAngular(()=>{var Ke;if(me[De])return!(null===(Ke=Ue?.spy)||void 0===Ke)&&Ke.get&&Ue.spy.get(De,me[De]),me[De];if(oe.indexOf(De)>-1)return()=>{};const ie=nt.toPromise().then(ue=>{const be=ue&&ue[De];return"function"==typeof be?be.bind(ue):be&&be.then?be.then(Q=>et.run(()=>Q)):et.run(()=>be)});return new Proxy(()=>{},{get:(ue,be)=>ie[be],apply:(ue,be,Q)=>ie.then(te=>{var ge;const ae=te&&te(...Q);return!(null===(ge=Ue?.spy)||void 0===ge)&&ge.apply&&Ue.spy.apply(De,Q,ae),ae})})})}),_e=(me,nt)=>{nt.forEach(et=>{Object.getOwnPropertyNames(et.prototype||et).forEach(Ue=>{Object.defineProperty(me.prototype,Ue,Object.getOwnPropertyDescriptor(et.prototype||et,Ue))})})};class de{constructor(nt){return nt}}const fe=new l.OlP("angularfire2.app.options"),ve=new l.OlP("angularfire2.app.name");function W(me,nt,et){const Re="object"==typeof et&&et||{};Re.name=Re.name||"string"==typeof et&&et||"[DEFAULT]";const Ke=H.Z.apps.filter(ie=>ie&&ie.name===Re.name)[0]||nt.runOutsideAngular(()=>H.Z.initializeApp(me,Re));try{JSON.stringify(me)!==JSON.stringify(Ke.options)&&z("error",`${Ke.name} Firebase App already initialized with different options${ft.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new de(Ke)}const z=(me,...nt)=>{(0,l.X6Q)()&&typeof console<"u"&&console[me](...nt)},ee={provide:de,useFactory:W,deps:[fe,l.R0b,[new l.FiY,ve]]};let Ge=(()=>{class me{constructor(et){H.Z.registerVersion("angularfire",P.q4.full,"core"),H.Z.registerVersion("angularfire",P.q4.full,"app-compat"),H.Z.registerVersion("angular",l.q4F.full,et.toString())}static initializeApp(et,Ue){return{ngModule:me,providers:[{provide:fe,useValue:et},{provide:ve,useValue:Ue}]}}}return me.\u0275fac=function(et){return new(et||me)(l.LFG(l.Lbi))},me.\u0275mod=l.oAB({type:me}),me.\u0275inj=l.cJS({providers:[ee]}),me})();function Fe(me,nt,et,Ue,Re){const[,De,Ke]=globalThis.\u0275AngularfireInstanceCache.find(ie=>ie[0]===me)||[];if(De)return function Ce(me,nt){try{return me.toString()===nt.toString()}catch{return me===nt}}(Re,Ke)||(we("error",`${nt} was already initialized on the ${et} Firebase App with different settings.${at?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:Re,was:Ke})),De;{const ie=Ue();return globalThis.\u0275AngularfireInstanceCache.push([me,ie,Re]),ie}}const at=!!ft.hot,we=(me,...nt)=>{(0,l.X6Q)()&&typeof console<"u"&&console[me](...nt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(ft,Se,F)=>{F.d(Se,{q4:()=>Yl,iC:()=>Dd,HU:()=>wd,vb:()=>ec,JM:()=>Xl,u3:()=>Cd});var l=F(4650),H=F(5867),P=F(5861),oe=F(9681),le=F(2090),_e=F(4859),de=F(1877),fe=F(8766);const ve="@firebase/installations",W="0.5.15",ee=`w:${W}`,Ge="FIS_v2",nt=new le.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function et(T){return T instanceof le.ZR&&T.code.includes("request-failed")}function Ue({projectId:T}){return`https://firebaseinstallations.googleapis.com/v1/projects/${T}/installations`}function Re(T){return{token:T.token,requestStatus:2,expiresIn:te(T.expiresIn),creationTime:Date.now()}}function De(T,I){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,P.Z)(function*(T,I){const V=(yield I.json()).error;return nt.create("request-failed",{requestName:T,serverCode:V.code,serverMessage:V.message,serverStatus:V.status})})).apply(this,arguments)}function ie({apiKey:T}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T})}function ue(T,{refreshToken:I}){const x=ie(T);return x.append("Authorization",function ge(T){return`${Ge} ${T}`}(I)),x}function be(T){return Q.apply(this,arguments)}function Q(){return(Q=(0,P.Z)(function*(T){const I=yield T();return I.status>=500&&I.status<600?T():I})).apply(this,arguments)}function te(T){return Number(T.replace("s","000"))}function ae(T,I){return $e.apply(this,arguments)}function $e(){return($e=(0,P.Z)(function*({appConfig:T,heartbeatServiceProvider:I},{fid:x}){const V=Ue(T),X=ie(T),ce=I.getImmediate({optional:!0});if(ce){const $t=yield ce.getHeartbeatsHeader();$t&&X.append("x-firebase-client",$t)}const Ye={method:"POST",headers:X,body:JSON.stringify({fid:x,authVersion:Ge,appId:T.appId,sdkVersion:ee})},vt=yield be(()=>fetch(V,Ye));if(vt.ok){const $t=yield vt.json();return{fid:$t.fid||x,registrationStatus:2,refreshToken:$t.refreshToken,authToken:Re($t.authToken)}}throw yield De("Create Installation",vt)})).apply(this,arguments)}function He(T){return new Promise(I=>{setTimeout(I,T)})}const cn=/^[cdef][\w-]{21}$/;function Qe(){try{const T=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(T),T[0]=112+T[0]%16;const x=function fn(T){return function bt(T){return btoa(String.fromCharCode(...T)).replace(/\+/g,"-").replace(/\//g,"_")}(T).substr(0,22)}(T);return cn.test(x)?x:""}catch{return""}}function En(T){return`${T.appName}!${T.appId}`}const on=new Map;function an(T,I){const x=En(T);Nr(x,I),function Yi(T,I){const x=function Fn(){return!Br&&"BroadcastChannel"in self&&(Br=new BroadcastChannel("[Firebase] FID Change"),Br.onmessage=T=>{Nr(T.data.key,T.data.fid)}),Br}();x&&x.postMessage({key:T,fid:I}),function hs(){0===on.size&&Br&&(Br.close(),Br=null)}()}(x,I)}function Nr(T,I){const x=on.get(T);if(x)for(const V of x)V(I)}let Br=null;const qn="firebase-installations-store";let Ri=null;function ps(){return Ri||(Ri=(0,fe.X3)("firebase-installations-database",1,{upgrade:(T,I)=>{0===I&&T.createObjectStore(qn)}})),Ri}function tt(T,I){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,P.Z)(function*(T,I){const x=En(T),X=(yield ps()).transaction(qn,"readwrite"),ce=X.objectStore(qn),xe=yield ce.get(x);return yield ce.put(I,x),yield X.done,(!xe||xe.fid!==I.fid)&&an(T,I.fid),I})).apply(this,arguments)}function Wn(T){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,P.Z)(function*(T){const I=En(T),V=(yield ps()).transaction(qn,"readwrite");yield V.objectStore(qn).delete(I),yield V.done})).apply(this,arguments)}function mr(T,I){return uo.apply(this,arguments)}function uo(){return(uo=(0,P.Z)(function*(T,I){const x=En(T),X=(yield ps()).transaction(qn,"readwrite"),ce=X.objectStore(qn),xe=yield ce.get(x),Ye=I(xe);return void 0===Ye?yield ce.delete(x):yield ce.put(Ye,x),yield X.done,Ye&&(!xe||xe.fid!==Ye.fid)&&an(T,Ye.fid),Ye})).apply(this,arguments)}function Tn(T){return In.apply(this,arguments)}function In(){return(In=(0,P.Z)(function*(T){let I;const x=yield mr(T.appConfig,V=>{const X=bn(V),ce=_t(T,X);return I=ce.registrationPromise,ce.installationEntry});return""===x.fid?{installationEntry:yield I}:{installationEntry:x,registrationPromise:I}})).apply(this,arguments)}function bn(T){return Ot(T||{fid:Qe(),registrationStatus:0})}function _t(T,I){if(0===I.registrationStatus){if(!navigator.onLine)return{installationEntry:I,registrationPromise:Promise.reject(nt.create("app-offline"))};const x={fid:I.fid,registrationStatus:1,registrationTime:Date.now()},V=function yt(T,I){return Pt.apply(this,arguments)}(T,x);return{installationEntry:x,registrationPromise:V}}return 1===I.registrationStatus?{installationEntry:I,registrationPromise:Jr(T)}:{installationEntry:I}}function Pt(){return(Pt=(0,P.Z)(function*(T,I){try{const x=yield ae(T,I);return tt(T.appConfig,x)}catch(x){throw et(x)&&409===x.customData.serverCode?yield Wn(T.appConfig):yield tt(T.appConfig,{fid:I.fid,registrationStatus:0}),x}})).apply(this,arguments)}function Jr(T){return er.apply(this,arguments)}function er(){return(er=(0,P.Z)(function*(T){let I=yield xr(T.appConfig);for(;1===I.registrationStatus;)yield He(100),I=yield xr(T.appConfig);if(0===I.registrationStatus){const{installationEntry:x,registrationPromise:V}=yield Tn(T);return V||x}return I})).apply(this,arguments)}function xr(T){return mr(T,I=>{if(!I)throw nt.create("installation-not-found");return Ot(I)})}function Ot(T){return function jr(T){return 1===T.registrationStatus&&T.registrationTime+1e4<Date.now()}(T)?{fid:T.fid,registrationStatus:0}:T}function jt(T,I){return gi.apply(this,arguments)}function gi(){return(gi=(0,P.Z)(function*({appConfig:T,heartbeatServiceProvider:I},x){const V=Qt(T,x),X=ue(T,x),ce=I.getImmediate({optional:!0});if(ce){const $t=yield ce.getHeartbeatsHeader();$t&&X.append("x-firebase-client",$t)}const Ye={method:"POST",headers:X,body:JSON.stringify({installation:{sdkVersion:ee,appId:T.appId}})},vt=yield be(()=>fetch(V,Ye));if(vt.ok)return Re(yield vt.json());throw yield De("Generate Auth Token",vt)})).apply(this,arguments)}function Qt(T,{fid:I}){return`${Ue(T)}/${I}/authTokens:generate`}function lr(T){return xn.apply(this,arguments)}function xn(){return(xn=(0,P.Z)(function*(T,I=!1){let x;const V=yield mr(T.appConfig,ce=>{if(!tn(ce))throw nt.create("not-registered");const xe=ce.authToken;if(!I&&q(xe))return ce;if(1===xe.requestStatus)return x=it(T,I),ce;{if(!navigator.onLine)throw nt.create("app-offline");const Ye=Y(ce);return x=Et(T,Ye),Ye}});return x?yield x:V.authToken})).apply(this,arguments)}function it(T,I){return Ie.apply(this,arguments)}function Ie(){return(Ie=(0,P.Z)(function*(T,I){let x=yield st(T.appConfig);for(;1===x.authToken.requestStatus;)yield He(100),x=yield st(T.appConfig);const V=x.authToken;return 0===V.requestStatus?lr(T,I):V})).apply(this,arguments)}function st(T){return mr(T,I=>{if(!tn(I))throw nt.create("not-registered");return function j(T){return 1===T.requestStatus&&T.requestTime+1e4<Date.now()}(I.authToken)?Object.assign(Object.assign({},I),{authToken:{requestStatus:0}}):I})}function Et(T,I){return It.apply(this,arguments)}function It(){return(It=(0,P.Z)(function*(T,I){try{const x=yield jt(T,I),V=Object.assign(Object.assign({},I),{authToken:x});return yield tt(T.appConfig,V),x}catch(x){if(!et(x)||401!==x.customData.serverCode&&404!==x.customData.serverCode){const V=Object.assign(Object.assign({},I),{authToken:{requestStatus:0}});yield tt(T.appConfig,V)}else yield Wn(T.appConfig);throw x}})).apply(this,arguments)}function tn(T){return void 0!==T&&2===T.registrationStatus}function q(T){return 2===T.requestStatus&&!function G(T){const I=Date.now();return I<T.creationTime||T.creationTime+T.expiresIn<I+36e5}(T)}function Y(T){const I={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},T),{authToken:I})}function B(){return(B=(0,P.Z)(function*(T){const I=T,{installationEntry:x,registrationPromise:V}=yield Tn(I);return V?V.catch(console.error):lr(I).catch(console.error),x.fid})).apply(this,arguments)}function Le(){return(Le=(0,P.Z)(function*(T,I=!1){const x=T;return yield ct(x),(yield lr(x,I)).token})).apply(this,arguments)}function ct(T){return ut.apply(this,arguments)}function ut(){return(ut=(0,P.Z)(function*(T){const{registrationPromise:I}=yield Tn(T);I&&(yield I)})).apply(this,arguments)}function ho(T){return nt.create("missing-app-config-values",{valueName:T})}const Fo="installations",fo=T=>{const I=T.getProvider("app").getImmediate(),x=function Sn(T){if(!T||!T.options)throw ho("App Configuration");if(!T.name)throw ho("App Name");const I=["projectId","apiKey","appId"];for(const x of I)if(!T.options[x])throw ho(x);return{appName:T.name,projectId:T.options.projectId,apiKey:T.options.apiKey,appId:T.options.appId}}(I);return{app:I,appConfig:x,heartbeatServiceProvider:(0,oe._getProvider)(I,"heartbeat"),_delete:()=>Promise.resolve()}},po=T=>{const I=T.getProvider("app").getImmediate(),x=(0,oe._getProvider)(I,Fo).getImmediate();return{getId:()=>function O(T){return B.apply(this,arguments)}(x),getToken:X=>function re(T){return Le.apply(this,arguments)}(x,X)}};(function kl(){(0,oe._registerComponent)(new _e.wA(Fo,fo,"PUBLIC")),(0,oe._registerComponent)(new _e.wA("installations-internal",po,"PRIVATE"))})(),(0,oe.registerVersion)(ve,W),(0,oe.registerVersion)(ve,W,"esm2017");const ms="@firebase/remote-config",Kn=new le.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Lc{constructor(I,x,V,X){this.client=I,this.storage=x,this.storageCache=V,this.logger=X}isCachedDataFresh(I,x){if(!x)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const V=Date.now()-x,X=V<=I;return this.logger.debug(`Config fetch cache check. Cache age millis: ${V}. Cache max age millis (minimumFetchIntervalMillis setting): ${I}. Is cache hit: ${X}.`),X}fetch(I){var x=this;return(0,P.Z)(function*(){const[V,X]=yield Promise.all([x.storage.getLastSuccessfulFetchTimestampMillis(),x.storage.getLastSuccessfulFetchResponse()]);if(X&&x.isCachedDataFresh(I.cacheMaxAgeMillis,V))return X;I.eTag=X&&X.eTag;const ce=yield x.client.fetch(I),xe=[x.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ce.status&&xe.push(x.storage.setLastSuccessfulFetchResponse(ce)),yield Promise.all(xe),ce})()}}function ys(T=navigator){return T.languages&&T.languages[0]||T.language}class yo{constructor(I,x,V,X,ce,xe){this.firebaseInstallations=I,this.sdkVersion=x,this.namespace=V,this.projectId=X,this.apiKey=ce,this.appId=xe}fetch(I){var x=this;return(0,P.Z)(function*(){var V,X,ce;const[xe,Ye]=yield Promise.all([x.firebaseInstallations.getId(),x.firebaseInstallations.getToken()]),$t=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${x.projectId}/namespaces/${x.namespace}:fetch?key=${x.apiKey}`,Gt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":I.eTag||"*"},Dt={sdk_version:x.sdkVersion,app_instance_id:xe,app_instance_id_token:Ye,app_id:x.appId,language_code:ys()},Qn={method:"POST",headers:Gt,body:JSON.stringify(Dt)},zr=fetch($t,Qn),cl=new Promise((rs,is)=>{I.signal.addEventListener(()=>{const ru=new Error("The operation was aborted.");ru.name="AbortError",is(ru)})});let ul;try{yield Promise.race([zr,cl]),ul=yield zr}catch(rs){let is="fetch-client-network";throw"AbortError"===(null===(V=rs)||void 0===V?void 0:V.name)&&(is="fetch-timeout"),Kn.create(is,{originalErrorMessage:null===(X=rs)||void 0===X?void 0:X.message})}let Ci=ul.status;const As=ul.headers.get("ETag")||void 0;let ns,dl;if(200===ul.status){let rs;try{rs=yield ul.json()}catch(is){throw Kn.create("fetch-client-parse",{originalErrorMessage:null===(ce=is)||void 0===ce?void 0:ce.message})}ns=rs.entries,dl=rs.state}if("INSTANCE_STATE_UNSPECIFIED"===dl?Ci=500:"NO_CHANGE"===dl?Ci=304:("NO_TEMPLATE"===dl||"EMPTY_CONFIG"===dl)&&(ns={}),304!==Ci&&200!==Ci)throw Kn.create("fetch-status",{httpStatus:Ci});return{status:Ci,eTag:As,config:ns}})()}}class vs{constructor(I,x){this.client=I,this.storage=x}fetch(I){var x=this;return(0,P.Z)(function*(){const V=(yield x.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return x.attemptFetch(I,V)})()}attemptFetch(I,{throttleEndTimeMillis:x,backoffCount:V}){var X=this;return(0,P.Z)(function*(){yield function yi(T,I){return new Promise((x,V)=>{const X=Math.max(I-Date.now(),0),ce=setTimeout(x,X);T.addEventListener(()=>{clearTimeout(ce),V(Kn.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}(I.signal,x);try{const ce=yield X.client.fetch(I);return yield X.storage.deleteThrottleMetadata(),ce}catch(ce){if(!function Dg(T){if(!(T instanceof le.ZR&&T.customData))return!1;const I=Number(T.customData.httpStatus);return 429===I||500===I||503===I||504===I}(ce))throw ce;const xe={throttleEndTimeMillis:Date.now()+(0,le.$s)(V),backoffCount:V+1};return yield X.storage.setThrottleMetadata(xe),X.attemptFetch(I,xe)}})()}}class Eg{constructor(I,x,V,X,ce){this.app=I,this._client=x,this._storageCache=V,this._storage=X,this._logger=ce,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function ja(T,I){var x;const V=T.target.error||void 0;return Kn.create(I,{originalErrorMessage:V&&(null===(x=V)||void 0===x?void 0:x.message)})}const Uo="app_namespace_store";class Yu{constructor(I,x,V,X=function Ig(){return new Promise((T,I)=>{var x;try{const V=indexedDB.open("firebase_remote_config",1);V.onerror=X=>{I(ja(X,"storage-open"))},V.onsuccess=X=>{T(X.target.result)},V.onupgradeneeded=X=>{0===X.oldVersion&&X.target.result.createObjectStore(Uo,{keyPath:"compositeKey"})}}catch(V){I(Kn.create("storage-open",{originalErrorMessage:null===(x=V)||void 0===x?void 0:x.message}))}})}()){this.appId=I,this.appName=x,this.namespace=V,this.openDbPromise=X}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(I){return this.set("last_fetch_status",I)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(I){return this.set("last_successful_fetch_timestamp_millis",I)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(I){return this.set("last_successful_fetch_response",I)}getActiveConfig(){return this.get("active_config")}setActiveConfig(I){return this.set("active_config",I)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(I){return this.set("active_config_etag",I)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(I){return this.set("throttle_metadata",I)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(I){var x=this;return(0,P.Z)(function*(){const V=yield x.openDbPromise;return new Promise((X,ce)=>{var xe;const vt=V.transaction([Uo],"readonly").objectStore(Uo),$t=x.createCompositeKey(I);try{const Gt=vt.get($t);Gt.onerror=Dt=>{ce(ja(Dt,"storage-get"))},Gt.onsuccess=Dt=>{const Qn=Dt.target.result;X(Qn?Qn.value:void 0)}}catch(Gt){ce(Kn.create("storage-get",{originalErrorMessage:null===(xe=Gt)||void 0===xe?void 0:xe.message}))}})})()}set(I,x){var V=this;return(0,P.Z)(function*(){const X=yield V.openDbPromise;return new Promise((ce,xe)=>{var Ye;const $t=X.transaction([Uo],"readwrite").objectStore(Uo),Gt=V.createCompositeKey(I);try{const Dt=$t.put({compositeKey:Gt,value:x});Dt.onerror=Qn=>{xe(ja(Qn,"storage-set"))},Dt.onsuccess=()=>{ce()}}catch(Dt){xe(Kn.create("storage-set",{originalErrorMessage:null===(Ye=Dt)||void 0===Ye?void 0:Ye.message}))}})})()}delete(I){var x=this;return(0,P.Z)(function*(){const V=yield x.openDbPromise;return new Promise((X,ce)=>{var xe;const vt=V.transaction([Uo],"readwrite").objectStore(Uo),$t=x.createCompositeKey(I);try{const Gt=vt.delete($t);Gt.onerror=Dt=>{ce(ja(Dt,"storage-delete"))},Gt.onsuccess=()=>{X()}}catch(Gt){ce(Kn.create("storage-delete",{originalErrorMessage:null===(xe=Gt)||void 0===xe?void 0:xe.message}))}})})()}createCompositeKey(I){return[this.appId,this.appName,this.namespace,I].join()}}class Bo{constructor(I){this.storage=I}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var I=this;return(0,P.Z)(function*(){const x=I.storage.getLastFetchStatus(),V=I.storage.getLastSuccessfulFetchTimestampMillis(),X=I.storage.getActiveConfig(),ce=yield x;ce&&(I.lastFetchStatus=ce);const xe=yield V;xe&&(I.lastSuccessfulFetchTimestampMillis=xe);const Ye=yield X;Ye&&(I.activeConfig=Ye)})()}setLastFetchStatus(I){return this.lastFetchStatus=I,this.storage.setLastFetchStatus(I)}setLastSuccessfulFetchTimestampMillis(I){return this.lastSuccessfulFetchTimestampMillis=I,this.storage.setLastSuccessfulFetchTimestampMillis(I)}setActiveConfig(I){return this.activeConfig=I,this.storage.setActiveConfig(I)}}function oy(){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,P.Z)(function*(){if(!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}!function Qu(){(0,oe._registerComponent)(new _e.wA("remote-config",function T(I,{instanceIdentifier:x}){const V=I.getProvider("app").getImmediate(),X=I.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Kn.create("registration-window");if(!(0,le.hl)())throw Kn.create("indexed-db-unavailable");const{projectId:ce,apiKey:xe,appId:Ye}=V.options;if(!ce)throw Kn.create("registration-project-id");if(!xe)throw Kn.create("registration-api-key");if(!Ye)throw Kn.create("registration-app-id");const vt=new Yu(Ye,V.name,x=x||"firebase"),$t=new Bo(vt),Gt=new de.Yd(ms);Gt.logLevel=de.in.ERROR;const Dt=new yo(X,oe.SDK_VERSION,x,ce,xe,Ye),Qn=new vs(Dt,vt),zr=new Lc(Qn,vt,$t,Gt),cl=new Eg(V,zr,$t,vt,Gt);return function hn(T){const I=(0,le.m9)(T);I._initializePromise||(I._initializePromise=I._storageCache.loadFromStorage().then(()=>{I._isInitializationComplete=!0}))}(cl),cl},"PUBLIC").setMultipleInstances(!0)),(0,oe.registerVersion)(ms,"0.3.14"),(0,oe.registerVersion)(ms,"0.3.14","esm2017")}();const wr="/firebase-messaging-sw.js",jo="/firebase-cloud-messaging-push-scope",$s="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Ll="google.c.a.c_id",Uc="google.c.a.c_l",ed="google.c.a.ts",$o="google.c.a.e";var vi=(()=>{return(T=vi||(vi={})).PUSH_RECEIVED="push-received",T.NOTIFICATION_CLICKED="notification-clicked",vi;var T})();function bs(T){const I=new Uint8Array(T);return btoa(String.fromCharCode(...I)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ni(T){const x=(T+"=".repeat((4-T.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),V=atob(x),X=new Uint8Array(V.length);for(let ce=0;ce<V.length;++ce)X[ce]=V.charCodeAt(ce);return X}const vo="fcm_token_details_db",Ho="fcm_token_object_Store";function Sg(T){return Bc.apply(this,arguments)}function Bc(){return Bc=(0,P.Z)(function*(T){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ce=>ce.name).includes(vo))return null;let I=null;return(yield(0,fe.X3)(vo,5,{upgrade:(V=(0,P.Z)(function*(X,ce,xe,Ye){var vt;if(ce<2||!X.objectStoreNames.contains(Ho))return;const $t=Ye.objectStore(Ho),Gt=yield $t.index("fcmSenderId").get(T);if(yield $t.clear(),Gt)if(2===ce){const Dt=Gt;if(!Dt.auth||!Dt.p256dh||!Dt.endpoint)return;I={token:Dt.fcmToken,createTime:null!==(vt=Dt.createTime)&&void 0!==vt?vt:Date.now(),subscriptionOptions:{auth:Dt.auth,p256dh:Dt.p256dh,endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:"string"==typeof Dt.vapidKey?Dt.vapidKey:bs(Dt.vapidKey)}}}else if(3===ce){const Dt=Gt;I={token:Dt.fcmToken,createTime:Dt.createTime,subscriptionOptions:{auth:bs(Dt.auth),p256dh:bs(Dt.p256dh),endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:bs(Dt.vapidKey)}}}else if(4===ce){const Dt=Gt;I={token:Dt.fcmToken,createTime:Dt.createTime,subscriptionOptions:{auth:bs(Dt.auth),p256dh:bs(Dt.p256dh),endpoint:Dt.endpoint,swScope:Dt.swScope,vapidKey:bs(Dt.vapidKey)}}}}),function(ce,xe,Ye,vt){return V.apply(this,arguments)})})).close(),yield(0,fe.Lj)(vo),yield(0,fe.Lj)("fcm_vapid_details_db"),yield(0,fe.Lj)("undefined"),Ln(I)?I:null;var V}),Bc.apply(this,arguments)}function Ln(T){if(!T||!T.subscriptionOptions)return!1;const{subscriptionOptions:I}=T;return"number"==typeof T.createTime&&T.createTime>0&&"string"==typeof T.token&&T.token.length>0&&"string"==typeof I.auth&&I.auth.length>0&&"string"==typeof I.p256dh&&I.p256dh.length>0&&"string"==typeof I.endpoint&&I.endpoint.length>0&&"string"==typeof I.swScope&&I.swScope.length>0&&"string"==typeof I.vapidKey&&I.vapidKey.length>0}const Pi="firebase-messaging-store";let Dr=null;function Ul(){return Dr||(Dr=(0,fe.X3)("firebase-messaging-database",1,{upgrade:(T,I)=>{0===I&&T.createObjectStore(Pi)}})),Dr}function Go(T){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,P.Z)(function*(T){const I=wi(T),V=yield(yield Ul()).transaction(Pi).objectStore(Pi).get(I);if(V)return V;{const X=yield Sg(T.appConfig.senderId);if(X)return yield un(T,X),X}})).apply(this,arguments)}function un(T,I){return Vc.apply(this,arguments)}function Vc(){return(Vc=(0,P.Z)(function*(T,I){const x=wi(T),X=(yield Ul()).transaction(Pi,"readwrite");return yield X.objectStore(Pi).put(I,x),yield X.done,I})).apply(this,arguments)}function Hs(T){return jc.apply(this,arguments)}function jc(){return(jc=(0,P.Z)(function*(T){const I=wi(T),V=(yield Ul()).transaction(Pi,"readwrite");yield V.objectStore(Pi).delete(I),yield V.done})).apply(this,arguments)}function wi({appConfig:T}){return T.appId}const jn=new le.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Ft(T,I){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,P.Z)(function*(T,I){var x;const V=yield qa(T),X=Me(I),ce={method:"POST",headers:V,body:JSON.stringify(X)};let xe;try{xe=yield(yield fetch(bo(T.appConfig),ce)).json()}catch(Ye){throw jn.create("token-subscribe-failed",{errorInfo:null===(x=Ye)||void 0===x?void 0:x.toString()})}if(xe.error)throw jn.create("token-subscribe-failed",{errorInfo:xe.error.message});if(!xe.token)throw jn.create("token-subscribe-no-token");return xe.token})).apply(this,arguments)}function Ag(T,I){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,P.Z)(function*(T,I){var x;const V=yield qa(T),X=Me(I.subscriptionOptions),ce={method:"PATCH",headers:V,body:JSON.stringify(X)};let xe;try{xe=yield(yield fetch(`${bo(T.appConfig)}/${I.token}`,ce)).json()}catch(Ye){throw jn.create("token-update-failed",{errorInfo:null===(x=Ye)||void 0===x?void 0:x.toString()})}if(xe.error)throw jn.create("token-update-failed",{errorInfo:xe.error.message});if(!xe.token)throw jn.create("token-update-no-token");return xe.token})).apply(this,arguments)}function nd(T,I){return za.apply(this,arguments)}function za(){return(za=(0,P.Z)(function*(T,I){var x;const X={method:"DELETE",headers:yield qa(T)};try{const xe=yield(yield fetch(`${bo(T.appConfig)}/${I}`,X)).json();if(xe.error)throw jn.create("token-unsubscribe-failed",{errorInfo:xe.error.message})}catch(ce){throw jn.create("token-unsubscribe-failed",{errorInfo:null===(x=ce)||void 0===x?void 0:x.toString()})}})).apply(this,arguments)}function bo({projectId:T}){return`https://fcmregistrations.googleapis.com/v1/projects/${T}/registrations`}function qa(T){return zo.apply(this,arguments)}function zo(){return(zo=(0,P.Z)(function*({appConfig:T,installations:I}){const x=yield I.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":T.apiKey,"x-goog-firebase-installations-auth":`FIS ${x}`})})).apply(this,arguments)}function Me({p256dh:T,auth:I,endpoint:x,vapidKey:V}){const X={web:{endpoint:x,auth:I,p256dh:T}};return V!==$s&&(X.web.applicationPubKey=V),X}const Yt=6048e5;function Hh(T){return qo.apply(this,arguments)}function qo(){return(qo=(0,P.Z)(function*(T){const I=yield Gh(T.swRegistration,T.vapidKey),x={vapidKey:T.vapidKey,swScope:T.swRegistration.scope,endpoint:I.endpoint,auth:bs(I.getKey("auth")),p256dh:bs(I.getKey("p256dh"))},V=yield Go(T.firebaseDependencies);if(V){if(Ng(V.subscriptionOptions,x))return Date.now()>=V.createTime+Yt?Bl(T,{token:V.token,createTime:Date.now(),subscriptionOptions:x}):V.token;try{yield nd(T.firebaseDependencies,V.token)}catch(X){console.warn(X)}return Vl(T.firebaseDependencies,x)}return Vl(T.firebaseDependencies,x)})).apply(this,arguments)}function nr(T){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,P.Z)(function*(T){const I=yield Go(T.firebaseDependencies);I&&(yield nd(T.firebaseDependencies,I.token),yield Hs(T.firebaseDependencies));const x=yield T.swRegistration.pushManager.getSubscription();return!x||x.unsubscribe()})).apply(this,arguments)}function Bl(T,I){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,P.Z)(function*(T,I){try{const x=yield Ag(T.firebaseDependencies,I),V=Object.assign(Object.assign({},I),{token:x,createTime:Date.now()});return yield un(T.firebaseDependencies,V),x}catch(x){throw yield nr(T),x}})).apply(this,arguments)}function Vl(T,I){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,P.Z)(function*(T,I){const V={token:yield Ft(T,I),createTime:Date.now(),subscriptionOptions:I};return yield un(T,V),V.token})).apply(this,arguments)}function Gh(T,I){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,P.Z)(function*(T,I){return(yield T.pushManager.getSubscription())||T.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ni(I)})})).apply(this,arguments)}function Ng(T,I){return I.vapidKey===T.vapidKey&&I.endpoint===T.endpoint&&I.auth===T.auth&&I.p256dh===T.p256dh}function wo(T){const I={from:T.from,collapseKey:T.collapse_key,messageId:T.fcmMessageId};return function rr(T,I){if(!I.notification)return;T.notification={};const x=I.notification.title;x&&(T.notification.title=x);const V=I.notification.body;V&&(T.notification.body=V);const X=I.notification.image;X&&(T.notification.image=X)}(I,T),function Ji(T,I){!I.data||(T.data=I.data)}(I,T),function Za(T,I){var x,V,X,ce,xe;if(!(I.fcmOptions||null!==(x=I.notification)&&void 0!==x&&x.click_action))return;T.fcmOptions={};const Ye=null!==(X=null===(V=I.fcmOptions)||void 0===V?void 0:V.link)&&void 0!==X?X:null===(ce=I.notification)||void 0===ce?void 0:ce.click_action;Ye&&(T.fcmOptions.link=Ye);const vt=null===(xe=I.fcmOptions)||void 0===xe?void 0:xe.analytics_label;vt&&(T.fcmOptions.analyticsLabel=vt)}(I,T),I}function Ka(T){return"object"==typeof T&&!!T&&Ll in T}function ws(T,I){const x=[];for(let V=0;V<T.length;V++)x.push(T.charAt(V)),V<I.length&&x.push(I.charAt(V));return x.join("")}function $c(T){return jn.create("missing-app-config-values",{valueName:T})}ws("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ws("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class id{constructor(I,x,V){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const X=function rd(T){if(!T||!T.options)throw $c("App Configuration Object");if(!T.name)throw $c("App Name");const I=["projectId","apiKey","appId","messagingSenderId"],{options:x}=T;for(const V of I)if(!x[V])throw $c(V);return{appName:T.name,projectId:x.projectId,apiKey:x.apiKey,appId:x.appId,senderId:x.messagingSenderId}}(I);this.firebaseDependencies={app:I,appConfig:X,installations:x,analyticsProvider:V}}_delete(){return Promise.resolve()}}function zh(T){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,P.Z)(function*(T){var I;try{T.swRegistration=yield navigator.serviceWorker.register(wr,{scope:jo}),T.swRegistration.update().catch(()=>{})}catch(x){throw jn.create("failed-service-worker-registration",{browserErrorMessage:null===(I=x)||void 0===I?void 0:I.message})}})).apply(this,arguments)}function Hc(T,I){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,P.Z)(function*(T,I){if(!I&&!T.swRegistration&&(yield zh(T)),I||!T.swRegistration){if(!(I instanceof ServiceWorkerRegistration))throw jn.create("invalid-sw-registration");T.swRegistration=I}})).apply(this,arguments)}function Gc(T,I){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,P.Z)(function*(T,I){I?T.vapidKey=I:T.vapidKey||(T.vapidKey=$s)})).apply(this,arguments)}function Yo(){return(Yo=(0,P.Z)(function*(T,I){if(!navigator)throw jn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw jn.create("permission-blocked");return yield Gc(T,I?.vapidKey),yield Hc(T,I?.serviceWorkerRegistration),Hh(T)})).apply(this,arguments)}function qh(T,I,x){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,P.Z)(function*(T,I,x){const V=Wh(I);(yield T.firebaseDependencies.analyticsProvider.get()).logEvent(V,{message_id:x[Ll],message_name:x[Uc],message_time:x[ed],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Wh(T){switch(T){case vi.NOTIFICATION_CLICKED:return"notification_open";case vi.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Gs(){return(Gs=(0,P.Z)(function*(T,I){const x=I.data;if(!x.isFirebaseMessaging)return;T.onMessageHandler&&x.messageType===vi.PUSH_RECEIVED&&("function"==typeof T.onMessageHandler?T.onMessageHandler(wo(x)):T.onMessageHandler.next(wo(x)));const V=x.data;Ka(V)&&"1"===V[$o]&&(yield qh(T,x.messageType,V))})).apply(this,arguments)}const zs="@firebase/messaging",Rn=T=>{const I=new id(T.getProvider("app").getImmediate(),T.getProvider("installations-internal").getImmediate(),T.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",x=>function od(T,I){return Gs.apply(this,arguments)}(I,x)),I},Ds=T=>{const I=T.getProvider("messaging").getImmediate();return{getToken:V=>function sd(T,I){return Yo.apply(this,arguments)}(I,V)}};function ld(){return zc.apply(this,arguments)}function zc(){return(zc=(0,P.Z)(function*(){try{yield(0,le.eu)()}catch{return!1}return typeof window<"u"&&(0,le.hl)()&&(0,le.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Pn(){(0,oe._registerComponent)(new _e.wA("messaging",Rn,"PUBLIC")),(0,oe._registerComponent)(new _e.wA("messaging-internal",Ds,"PRIVATE")),(0,oe.registerVersion)(zs,"0.9.19"),(0,oe.registerVersion)(zs,"0.9.19","esm2017")}();const Xo="analytics",ud="firebase_id",Kc="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",dd="https://www.googletagmanager.com/gtag/js",$n=new de.Yd("@firebase/analytics");function $l(T){return Promise.all(T.map(I=>I.catch(x=>x)))}function Hl(T,I){const x=document.createElement("script");x.src=`${dd}?l=${T}&id=${I}`,x.async=!0,document.head.appendChild(x)}function Kh(T,I,x,V,X,ce){return Xa.apply(this,arguments)}function Xa(){return(Xa=(0,P.Z)(function*(T,I,x,V,X,ce){const xe=V[X];try{if(xe)yield I[xe];else{const vt=(yield $l(x)).find($t=>$t.measurementId===X);vt&&(yield I[vt.appId])}}catch(Ye){$n.error(Ye)}T("config",X,ce)})).apply(this,arguments)}function Cs(T,I,x,V,X){return el.apply(this,arguments)}function el(){return(el=(0,P.Z)(function*(T,I,x,V,X){try{let ce=[];if(X&&X.send_to){let xe=X.send_to;Array.isArray(xe)||(xe=[xe]);const Ye=yield $l(x);for(const vt of xe){const $t=Ye.find(Dt=>Dt.measurementId===vt),Gt=$t&&I[$t.appId];if(!Gt){ce=[];break}ce.push(Gt)}}0===ce.length&&(ce=Object.values(I)),yield Promise.all(ce),T("event",V,X||{})}catch(ce){$n.error(ce)}})).apply(this,arguments)}function hd(T){const I=window.document.getElementsByTagName("script");for(const x of Object.values(I))if(x.src&&x.src.includes(dd)&&x.src.includes(T))return x;return null}const ir=new le.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),nl=new class Qc{constructor(I={},x=1e3){this.throttleMetadata=I,this.intervalMillis=x}getThrottleMetadata(I){return this.throttleMetadata[I]}setThrottleMetadata(I,x){this.throttleMetadata[I]=x}deleteThrottleMetadata(I){delete this.throttleMetadata[I]}};function ea(T){return new Headers({Accept:"application/json","x-goog-api-key":T})}function Jh(T){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,P.Z)(function*(T){var I;const{appId:x,apiKey:V}=T,X={method:"GET",headers:ea(V)},ce=Kc.replace("{app-id}",x),xe=yield fetch(ce,X);if(200!==xe.status&&304!==xe.status){let Ye="";try{const vt=yield xe.json();null!==(I=vt.error)&&void 0!==I&&I.message&&(Ye=vt.error.message)}catch{}throw ir.create("config-fetch-failed",{httpStatus:xe.status,responseMessage:Ye})}return xe.json()})).apply(this,arguments)}function fd(T){return ri.apply(this,arguments)}function ri(){return(ri=(0,P.Z)(function*(T,I=nl,x){const{appId:V,apiKey:X,measurementId:ce}=T.options;if(!V)throw ir.create("no-app-id");if(!X){if(ce)return{measurementId:ce,appId:V};throw ir.create("no-api-key")}const xe=I.getThrottleMetadata(V)||{backoffCount:0,throttleEndTimeMillis:Date.now()},Ye=new rl;return setTimeout((0,P.Z)(function*(){Ye.abort()}),void 0!==x?x:6e4),pd({appId:V,apiKey:X,measurementId:ce},xe,Ye,I)})).apply(this,arguments)}function pd(T,I,x){return Es.apply(this,arguments)}function Es(){return(Es=(0,P.Z)(function*(T,{throttleEndTimeMillis:I,backoffCount:x},V,X=nl){var ce,xe;const{appId:Ye,measurementId:vt}=T;try{yield Jc(V,I)}catch($t){if(vt)return $n.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vt} provided in the "measurementId" field in the local Firebase config. [${null===(ce=$t)||void 0===ce?void 0:ce.message}]`),{appId:Ye,measurementId:vt};throw $t}try{const $t=yield Jh(T);return X.deleteThrottleMetadata(Ye),$t}catch($t){const Gt=$t;if(!zl(Gt)){if(X.deleteThrottleMetadata(Ye),vt)return $n.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${vt} provided in the "measurementId" field in the local Firebase config. [${Gt?.message}]`),{appId:Ye,measurementId:vt};throw $t}const Dt=503===Number(null===(xe=Gt?.customData)||void 0===xe?void 0:xe.httpStatus)?(0,le.$s)(x,X.intervalMillis,30):(0,le.$s)(x,X.intervalMillis),Qn={throttleEndTimeMillis:Date.now()+Dt,backoffCount:x+1};return X.setThrottleMetadata(Ye,Qn),$n.debug(`Calling attemptFetch again in ${Dt} millis`),pd(T,Qn,V,X)}})).apply(this,arguments)}function Jc(T,I){return new Promise((x,V)=>{const X=Math.max(I-Date.now(),0),ce=setTimeout(x,X);T.addEventListener(()=>{clearTimeout(ce),V(ir.create("fetch-throttle",{throttleEndTimeMillis:I}))})})}function zl(T){if(!(T instanceof le.ZR&&T.customData))return!1;const I=Number(T.customData.httpStatus);return 429===I||500===I||503===I||504===I}class rl{constructor(){this.listeners=[]}addEventListener(I){this.listeners.push(I)}abort(){this.listeners.forEach(I=>I())}}let Do,Wl;function ta(){return(ta=(0,P.Z)(function*(T,I,x,V,X){if(X&&X.global)T("event",x,V);else{const ce=yield I;T("event",x,Object.assign(Object.assign({},V),{send_to:ce}))}})).apply(this,arguments)}function ia(T){Wl=T}function Xc(T){Do=T}function Ws(){return sa.apply(this,arguments)}function sa(){return(sa=(0,P.Z)(function*(){var T;if(!(0,le.hl)())return $n.warn(ir.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,le.eu)()}catch(I){return $n.warn(ir.create("indexeddb-unavailable",{errorInfo:null===(T=I)||void 0===T?void 0:T.toString()}).message),!1}return!0})).apply(this,arguments)}function oa(){return(oa=(0,P.Z)(function*(T,I,x,V,X,ce,xe){var Ye;const vt=fd(T);vt.then(zr=>{x[zr.measurementId]=zr.appId,T.options.measurementId&&zr.measurementId!==T.options.measurementId&&$n.warn(`The measurement ID in the local Firebase config (${T.options.measurementId}) does not match the measurement ID fetched from the server (${zr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(zr=>$n.error(zr)),I.push(vt);const $t=Ws().then(zr=>{if(zr)return V.getId()}),[Gt,Dt]=yield Promise.all([vt,$t]);hd(ce)||Hl(ce,Gt.measurementId),Wl&&(X("consent","default",Wl),ia(void 0)),X("js",new Date);const Qn=null!==(Ye=xe?.config)&&void 0!==Ye?Ye:{};return Qn.origin="firebase",Qn.update=!0,null!=Dt&&(Qn[ud]=Dt),X("config",Gt.measurementId,Qn),Do&&(X("set",Do),Xc(void 0)),Gt.measurementId})).apply(this,arguments)}class Zl{constructor(I){this.app=I}_delete(){return delete Or[this.app.options.appId],Promise.resolve()}}let Or={},aa=[];const Eo={};let ca,es,la="dataLayer",md=!1;function tf(T,I,x){!function xg(){const T=[];if((0,le.ru)()&&T.push("This is a browser extension environment."),(0,le.zI)()||T.push("Cookies are not available."),T.length>0){const I=T.map((V,X)=>`(${X+1}) ${V}`).join(" "),x=ir.create("invalid-analytics-context",{errorInfo:I});$n.warn(x.message)}}();const V=T.options.appId;if(!V)throw ir.create("no-app-id");if(!T.options.apiKey){if(!T.options.measurementId)throw ir.create("no-api-key");$n.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${T.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Or[V])throw ir.create("already-exists",{id:V});if(!md){!function Gl(T){let I=[];Array.isArray(window[T])?I=window[T]:window[T]=I}(la);const{wrappedGtag:ce,gtagCore:xe}=function tl(T,I,x,V,X){let ce=function(...xe){window[V].push(arguments)};return window[X]&&"function"==typeof window[X]&&(ce=window[X]),window[X]=function Yc(T,I,x,V){function ce(){return(ce=(0,P.Z)(function*(xe,Ye,vt){try{"event"===xe?yield Cs(T,I,x,Ye,vt):"config"===xe?yield Kh(T,I,x,V,Ye,vt):"consent"===xe?T("consent","update",vt):T("set",Ye)}catch($t){$n.error($t)}})).apply(this,arguments)}return function X(xe,Ye,vt){return ce.apply(this,arguments)}}(ce,T,I,x),{gtagCore:ce,wrappedGtag:window[X]}}(Or,aa,Eo,la,"gtag");es=ce,ca=xe,md=!0}return Or[V]=function ef(T,I,x,V,X,ce,xe){return oa.apply(this,arguments)}(T,aa,Eo,I,ca,la,x),new Zl(T)}function ly(){return nf.apply(this,arguments)}function nf(){return(nf=(0,P.Z)(function*(){if((0,le.ru)()||!(0,le.zI)()||!(0,le.hl)())return!1;try{return yield(0,le.eu)()}catch{return!1}})).apply(this,arguments)}const Fi="@firebase/analytics";!function Cr(){(0,oe._registerComponent)(new _e.wA(Xo,(I,{options:x})=>tf(I.getProvider("app").getImmediate(),I.getProvider("installations-internal").getImmediate(),x),"PUBLIC")),(0,oe._registerComponent)(new _e.wA("analytics-internal",function T(I){try{const x=I.getProvider(Xo).getImmediate();return{logEvent:(V,X,ce)=>function da(T,I,x,V){T=(0,le.m9)(T),function il(T,I,x,V,X){return ta.apply(this,arguments)}(es,Or[T.app.options.appId],I,x,V).catch(X=>$n.error(X))}(x,V,X,ce)}}catch(x){throw ir.create("interop-component-reg-failed",{reason:x})}},"PRIVATE")),(0,oe.registerVersion)(Fi,"0.8.3"),(0,oe.registerVersion)(Fi,"0.8.3","esm2017")}();var Zs=F(4408),Li=F(7565);const rf=new class Ts extends Li.v{}(class ol extends Zs.o{constructor(I,x){super(I,x),this.scheduler=I,this.work=x}schedule(I,x=0){return x>0?super.schedule(I,x):(this.delay=x,this.state=I,this.scheduler.flush(this),this)}execute(I,x){return x>0||this.closed?super.execute(I,x):this._execute(I,x)}requestAsyncId(I,x,V=0){return null!=V&&V>0||null==V&&this.delay>0?super.requestAsyncId(I,x,V):(I.flush(this),0)}});var Mg=F(4986),ha=F(9751),sf=F(8505),yd=F(9468),ii=F(5363);const Yl=new l.GfV("7.4.1"),Gr="__angularfire_symbol__analyticsIsSupportedValue",Ql="__angularfire_symbol__analyticsIsSupported",fa="__angularfire_symbol__remoteConfigIsSupportedValue",vd="__angularfire_symbol__remoteConfigIsSupported",pa="__angularfire_symbol__messagingIsSupportedValue",nu="__angularfire_symbol__messagingIsSupported";function Xl(T,I,x){if(I){if(1===I.length)return I[0];const ce=I.filter(xe=>xe.app===x);if(1===ce.length)return ce[0]}return x.container.getProvider(T).getImmediate({optional:!0})}globalThis[Ql]||(globalThis[Ql]=ly().then(T=>globalThis[Gr]=T).catch(()=>globalThis[Gr]=!1)),globalThis[nu]||(globalThis[nu]=ld().then(T=>globalThis[pa]=T).catch(()=>globalThis[pa]=!1)),globalThis[vd]||(globalThis[vd]=oy().then(T=>globalThis[fa]=T).catch(()=>globalThis[fa]=!1));const ec=(T,I)=>{const x=I?[I]:(0,H.C6)(),V=[];return x.forEach(X=>{X.container.getProvider(T).instances.forEach(xe=>{V.includes(xe)||V.push(xe)})}),V};function ts(){}class tc{constructor(I,x=rf){this.zone=I,this.delegate=x}now(){return this.delegate.now()}schedule(I,x,V){const X=this.zone;return this.delegate.schedule(function(xe){X.runGuarded(()=>{I.apply(this,[xe])})},x,V)}}class ga{constructor(I){this.zone=I,this.task=null}call(I,x){const V=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ts,{},ts,ts)),x.pipe((0,sf.b)({next:V,complete:V,error:V})).subscribe(I).add(V)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let wd=(()=>{class T{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new tc(Zone.current)),this.insideAngular=x.run(()=>new tc(Zone.current,Mg.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return T.\u0275fac=function(x){return new(x||T)(l.LFG(l.R0b))},T.\u0275prov=l.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})();function Is(){const T=globalThis.\u0275AngularFireScheduler;if(!T)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return T}function af(T){return Is().ngZone.runOutsideAngular(()=>T())}function Ss(T){return Is().ngZone.run(()=>T())}function Dd(T){return Is(),function Yn(T){return function(x){return(x=x.lift(new ga(T.ngZone))).pipe((0,yd.R)(T.outsideAngular),(0,ii.Q)(T.insideAngular))}}(Is())(T)}const nc=(T,I)=>function(){const V=arguments;return I&&setTimeout(()=>{"scheduled"===I.state&&I.invoke()},10),Ss(()=>T.apply(void 0,V))},Cd=(T,I)=>function(){let x;const V=arguments;for(let ce=0;ce<arguments.length;ce++)"function"==typeof V[ce]&&(I&&(x||(x=Ss(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",ts,{},ts,ts)))),V[ce]=nc(V[ce],x));const X=af(()=>T.apply(this,V));if(!I){if(X instanceof ha.y){const ce=Is();return X.pipe((0,yd.R)(ce.outsideAngular),(0,ii.Q)(ce.insideAngular))}return Ss(()=>X)}return X instanceof ha.y?X.pipe(Dd):X instanceof Promise?Ss(()=>new Promise((ce,xe)=>X.then(Ye=>Ss(()=>ce(Ye)),Ye=>Ss(()=>xe(Ye))))):"function"==typeof X&&x?function(){return setTimeout(()=>{x&&"scheduled"===x.state&&x.invoke()},10),X.apply(this,arguments)}:Ss(()=>X)}},7573:(ft,Se,F)=>{F.d(Se,{$:()=>bo,A:()=>z,B:()=>Fe,G:()=>po,H:()=>Xr,J:()=>vs,L:()=>q,M:()=>Fl,N:()=>Xu,P:()=>Mg,Q:()=>Ll,R:()=>Og,T:()=>Uc,U:()=>$s,V:()=>vi,W:()=>bs,X:()=>Sg,Y:()=>$a,Z:()=>Ft,_:()=>Ag,a:()=>qs,a0:()=>Hh,a1:()=>nr,a2:()=>Bl,a3:()=>Vl,a4:()=>Gh,a5:()=>Ng,a6:()=>rr,a7:()=>Ji,a8:()=>Ka,a9:()=>ws,aA:()=>Qn,aB:()=>Ye,aC:()=>Ss,aD:()=>af,aE:()=>wt,aI:()=>ea,aL:()=>$o,aa:()=>zh,ab:()=>Hc,ac:()=>Gc,af:()=>qh,ag:()=>Wh,ah:()=>od,ak:()=>Pi,al:()=>qc,an:()=>dd,ao:()=>Xa,ap:()=>kt,aq:()=>be,ar:()=>Ve,as:()=>ct,at:()=>et,au:()=>hl,av:()=>Ci,aw:()=>Ue,ax:()=>ie,ay:()=>te,az:()=>G,b:()=>ir,c:()=>vd,d:()=>Rg,e:()=>nu,f:()=>Dd,g:()=>x,h:()=>Cd,i:()=>sa,j:()=>ce,k:()=>Ys,l:()=>_d,m:()=>To,o:()=>fe,r:()=>Zs,s:()=>Kl,u:()=>rf});var l=F(5861),H=F(2090),P=F(9681),oe=F(1877),le=F(655),_e=F(4859);const fe={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},z={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Fe=function ee(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Ce=function Ge(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},at=new H.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),me=new oe.Yd("@firebase/auth");function nt(b,...m){me.logLevel<=oe.in.ERROR&&me.error(`Auth (${P.SDK_VERSION}): ${b}`,...m)}function et(b,...m){throw Ke(b,...m)}function Ue(b,...m){return Ke(b,...m)}function Re(b,m,_){const D=Object.assign(Object.assign({},Ce()),{[m]:_});return new H.LL("auth","Firebase",D).create(m,{appName:b.name})}function De(b,m,_){if(!(m instanceof _))throw _.name!==m.constructor.name&&et(b,"argument-error"),Re(b,"argument-error",`Type of ${m.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ke(b,...m){if("string"!=typeof b){const _=m[0],D=[...m.slice(1)];return D[0]&&(D[0].appName=b.name),b._errorFactory.create(_,...D)}return at.create(b,...m)}function ie(b,m,..._){if(!b)throw Ke(m,..._)}function ue(b){const m="INTERNAL ASSERTION FAILED: "+b;throw nt(m),new Error(m)}function be(b,m){b||ue(m)}const Q=new Map;function te(b){be(b instanceof Function,"Expected a class definition");let m=Q.get(b);return m?(be(m instanceof b,"Instance stored in cache mismatched with class"),m):(m=new b,Q.set(b,m),m)}function $e(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.href)||""}function He(){return"http:"===bt()||"https:"===bt()}function bt(){var b;return typeof self<"u"&&(null===(b=self.location)||void 0===b?void 0:b.protocol)||null}class Qe{constructor(m,_){this.shortDelay=m,this.longDelay=_,be(_>m,"Short delay should be less than long delay!"),this.isMobile=(0,H.uI)()||(0,H.b$)()}get(){return function cn(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(He()||(0,H.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fn(b,m){be(b.emulator,"Emulator should always be set here");const{url:_}=b.emulator;return m?`${_}${m.startsWith("/")?m.slice(1):m}`:_}class En{static initialize(m,_,D){this.fetchImpl=m,_&&(this.headersImpl=_),D&&(this.responseImpl=D)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void ue("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void ue("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void ue("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const on={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},an=new Qe(3e4,6e4);function Kt(b,m){return b.tenantId&&!m.tenantId?Object.assign(Object.assign({},m),{tenantId:b.tenantId}):m}function Ht(b,m,_,D){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,l.Z)(function*(b,m,_,D,N={}){return Yi(b,N,(0,l.Z)(function*(){let k={},ne={};D&&("GET"===m?ne=D:k={body:JSON.stringify(D)});const Ne=(0,H.xO)(Object.assign({key:b.config.apiKey},ne)).slice(1),lt=yield b._getAdditionalHeaders();return lt["Content-Type"]="application/json",b.languageCode&&(lt["X-Firebase-Locale"]=b.languageCode),En.fetch()(fs(b,b.config.apiHost,_,Ne),Object.assign({method:m,headers:lt,referrerPolicy:"no-referrer"},k))}))})).apply(this,arguments)}function Yi(b,m,_){return Br.apply(this,arguments)}function Br(){return(Br=(0,l.Z)(function*(b,m,_){b._canInitEmulator=!1;const D=Object.assign(Object.assign({},on),m);try{const N=new Vr(b),k=yield Promise.race([_(),N.promise]);N.clearNetworkTimeout();const ne=yield k.json();if("needConfirmation"in ne)throw qn(b,"account-exists-with-different-credential",ne);if(k.ok&&!("errorMessage"in ne))return ne;{const Ne=k.ok?ne.errorMessage:ne.error.message,[lt,Tt]=Ne.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===lt)throw qn(b,"credential-already-in-use",ne);if("EMAIL_EXISTS"===lt)throw qn(b,"email-already-in-use",ne);if("USER_DISABLED"===lt)throw qn(b,"user-disabled",ne);const Nt=D[lt]||lt.toLowerCase().replace(/[_\s]+/g,"-");if(Tt)throw Re(b,Nt,Tt);et(b,Nt)}}catch(N){if(N instanceof H.ZR)throw N;et(b,"network-request-failed")}})).apply(this,arguments)}function Fn(b,m,_,D){return hs.apply(this,arguments)}function hs(){return(hs=(0,l.Z)(function*(b,m,_,D,N={}){const k=yield Ht(b,m,_,D,N);return"mfaPendingCredential"in k&&et(b,"multi-factor-auth-required",{_serverResponse:k}),k})).apply(this,arguments)}function fs(b,m,_,D){const N=`${m}${_}?${D}`;return b.config.emulator?fn(b.config,N):`${b.config.apiScheme}://${N}`}class Vr{constructor(m){this.auth=m,this.timer=null,this.promise=new Promise((_,D)=>{this.timer=setTimeout(()=>D(Ue(this.auth,"network-request-failed")),an.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qn(b,m,_){const D={appName:b.name};_.email&&(D.email=_.email),_.phoneNumber&&(D.phoneNumber=_.phoneNumber);const N=Ue(b,m,D);return N.customData._tokenResponse=_,N}function ps(){return(ps=(0,l.Z)(function*(b,m){return Ht(b,"POST","/v1/accounts:delete",m)})).apply(this,arguments)}function tt(b,m){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,l.Z)(function*(b,m){return Ht(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Wn(b,m){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,l.Z)(function*(b,m){return Ht(b,"POST","/v1/accounts:lookup",m)})).apply(this,arguments)}function mr(b){if(b)try{const m=new Date(Number(b));if(!isNaN(m.getTime()))return m.toUTCString()}catch{}}function In(){return(In=(0,l.Z)(function*(b,m=!1){const _=(0,H.m9)(b),D=yield _.getIdToken(m),N=_t(D);ie(N&&N.exp&&N.auth_time&&N.iat,_.auth,"internal-error");const k="object"==typeof N.firebase?N.firebase:void 0,ne=k?.sign_in_provider;return{claims:N,token:D,authTime:mr(bn(N.auth_time)),issuedAtTime:mr(bn(N.iat)),expirationTime:mr(bn(N.exp)),signInProvider:ne||null,signInSecondFactor:k?.sign_in_second_factor||null}})).apply(this,arguments)}function bn(b){return 1e3*Number(b)}function _t(b){var m;const[_,D,N]=b.split(".");if(void 0===_||void 0===D||void 0===N)return nt("JWT malformed, contained fewer than 3 sections"),null;try{const k=(0,H.tV)(D);return k?JSON.parse(k):(nt("Failed to decode base64 JWT payload"),null)}catch(k){return nt("Caught error parsing JWT payload as JSON",null===(m=k)||void 0===m?void 0:m.toString()),null}}function Pt(b,m){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,l.Z)(function*(b,m,_=!1){if(_)return m;try{return yield m}catch(D){throw D instanceof H.ZR&&er(D)&&b.auth.currentUser===b&&(yield b.auth.signOut()),D}})).apply(this,arguments)}function er({code:b}){return"auth/user-disabled"===b||"auth/user-token-expired"===b}class xr{constructor(m){this.user=m,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(m){var _;if(m){const D=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),D}{this.errorBackoff=3e4;const N=(null!==(_=this.user.stsTokenManager.expirationTime)&&void 0!==_?_:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(m=!1){var _=this;if(!this.isRunning)return;const D=this.getInterval(m);this.timerId=setTimeout((0,l.Z)(function*(){yield _.iteration()}),D)}iteration(){var m=this;return(0,l.Z)(function*(){var _;try{yield m.user.getIdToken(!0)}catch(D){return void("auth/network-request-failed"===(null===(_=D)||void 0===_?void 0:_.code)&&m.schedule(!0))}m.schedule()})()}}class Ot{constructor(m,_){this.createdAt=m,this.lastLoginAt=_,this._initializeTime()}_initializeTime(){this.lastSignInTime=mr(this.lastLoginAt),this.creationTime=mr(this.createdAt)}_copy(m){this.createdAt=m.createdAt,this.lastLoginAt=m.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function jr(b){return jt.apply(this,arguments)}function jt(){return(jt=(0,l.Z)(function*(b){var m;const _=b.auth,D=yield b.getIdToken(),N=yield Pt(b,Wn(_,{idToken:D}));ie(N?.users.length,_,"internal-error");const k=N.users[0];b._notifyReloadListener(k);const ne=null!==(m=k.providerUserInfo)&&void 0!==m&&m.length?xn(k.providerUserInfo):[],Ne=lr(b.providerData,ne),Nt=!!b.isAnonymous&&!(b.email&&k.passwordHash||Ne?.length),Nn={uid:k.localId,displayName:k.displayName||null,photoURL:k.photoUrl||null,email:k.email||null,emailVerified:k.emailVerified||!1,phoneNumber:k.phoneNumber||null,tenantId:k.tenantId||null,providerData:Ne,metadata:new Ot(k.createdAt,k.lastLoginAt),isAnonymous:Nt};Object.assign(b,Nn)})).apply(this,arguments)}function Qt(){return(Qt=(0,l.Z)(function*(b){const m=(0,H.m9)(b);yield jr(m),yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)})).apply(this,arguments)}function lr(b,m){return[...b.filter(D=>!m.some(N=>N.providerId===D.providerId)),...m]}function xn(b){return b.map(m=>{var{providerId:_}=m,D=(0,le._T)(m,["providerId"]);return{providerId:_,uid:D.rawId||"",displayName:D.displayName||null,email:D.email||null,phoneNumber:D.phoneNumber||null,photoURL:D.photoUrl||null}})}function Ie(){return(Ie=(0,l.Z)(function*(b,m){const _=yield Yi(b,{},(0,l.Z)(function*(){const D=(0,H.xO)({grant_type:"refresh_token",refresh_token:m}).slice(1),{tokenApiHost:N,apiKey:k}=b.config,ne=fs(b,N,"/v1/token",`key=${k}`),Ne=yield b._getAdditionalHeaders();return Ne["Content-Type"]="application/x-www-form-urlencoded",En.fetch()(ne,{method:"POST",headers:Ne,body:D})}));return{accessToken:_.access_token,expiresIn:_.expires_in,refreshToken:_.refresh_token}})).apply(this,arguments)}class st{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(m){ie(m.idToken,"internal-error"),ie(typeof m.idToken<"u","internal-error"),ie(typeof m.refreshToken<"u","internal-error");const _="expiresIn"in m&&typeof m.expiresIn<"u"?Number(m.expiresIn):function yt(b){const m=_t(b);return ie(m,"internal-error"),ie(typeof m.exp<"u","internal-error"),ie(typeof m.iat<"u","internal-error"),Number(m.exp)-Number(m.iat)}(m.idToken);this.updateTokensAndExpiration(m.idToken,m.refreshToken,_)}getToken(m,_=!1){var D=this;return(0,l.Z)(function*(){return ie(!D.accessToken||D.refreshToken,m,"user-token-expired"),_||!D.accessToken||D.isExpired?D.refreshToken?(yield D.refresh(m,D.refreshToken),D.accessToken):null:D.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(m,_){var D=this;return(0,l.Z)(function*(){const{accessToken:N,refreshToken:k,expiresIn:ne}=yield function it(b,m){return Ie.apply(this,arguments)}(m,_);D.updateTokensAndExpiration(N,k,Number(ne))})()}updateTokensAndExpiration(m,_,D){this.refreshToken=_||null,this.accessToken=m||null,this.expirationTime=Date.now()+1e3*D}static fromJSON(m,_){const{refreshToken:D,accessToken:N,expirationTime:k}=_,ne=new st;return D&&(ie("string"==typeof D,"internal-error",{appName:m}),ne.refreshToken=D),N&&(ie("string"==typeof N,"internal-error",{appName:m}),ne.accessToken=N),k&&(ie("number"==typeof k,"internal-error",{appName:m}),ne.expirationTime=k),ne}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(m){this.accessToken=m.accessToken,this.refreshToken=m.refreshToken,this.expirationTime=m.expirationTime}_clone(){return Object.assign(new st,this.toJSON())}_performRefresh(){return ue("not implemented")}}function Et(b,m){ie("string"==typeof b||typeof b>"u","internal-error",{appName:m})}class It{constructor(m){var{uid:_,auth:D,stsTokenManager:N}=m,k=(0,le._T)(m,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new xr(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=_,this.auth=D,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=k.displayName||null,this.email=k.email||null,this.emailVerified=k.emailVerified||!1,this.phoneNumber=k.phoneNumber||null,this.photoURL=k.photoURL||null,this.isAnonymous=k.isAnonymous||!1,this.tenantId=k.tenantId||null,this.providerData=k.providerData?[...k.providerData]:[],this.metadata=new Ot(k.createdAt||void 0,k.lastLoginAt||void 0)}getIdToken(m){var _=this;return(0,l.Z)(function*(){const D=yield Pt(_,_.stsTokenManager.getToken(_.auth,m));return ie(D,_.auth,"internal-error"),_.accessToken!==D&&(_.accessToken=D,yield _.auth._persistUserIfCurrent(_),_.auth._notifyListenersIfCurrent(_)),D})()}getIdTokenResult(m){return function Tn(b){return In.apply(this,arguments)}(this,m)}reload(){return function gi(b){return Qt.apply(this,arguments)}(this)}_assign(m){this!==m&&(ie(this.uid===m.uid,this.auth,"internal-error"),this.displayName=m.displayName,this.photoURL=m.photoURL,this.email=m.email,this.emailVerified=m.emailVerified,this.phoneNumber=m.phoneNumber,this.isAnonymous=m.isAnonymous,this.tenantId=m.tenantId,this.providerData=m.providerData.map(_=>Object.assign({},_)),this.metadata._copy(m.metadata),this.stsTokenManager._assign(m.stsTokenManager))}_clone(m){return new It(Object.assign(Object.assign({},this),{auth:m,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(m){ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=m,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(m){this.reloadListener?this.reloadListener(m):this.reloadUserInfo=m}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(m,_=!1){var D=this;return(0,l.Z)(function*(){let N=!1;m.idToken&&m.idToken!==D.stsTokenManager.accessToken&&(D.stsTokenManager.updateFromServerResponse(m),N=!0),_&&(yield jr(D)),yield D.auth._persistUserIfCurrent(D),N&&D.auth._notifyListenersIfCurrent(D)})()}delete(){var m=this;return(0,l.Z)(function*(){const _=yield m.getIdToken();return yield Pt(m,function Ri(b,m){return ps.apply(this,arguments)}(m.auth,{idToken:_})),m.stsTokenManager.clearRefreshToken(),m.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(m=>Object.assign({},m)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(m,_){var D,N,k,ne,Ne,lt,Tt,Nt;const Nn=null!==(D=_.displayName)&&void 0!==D?D:void 0,si=null!==(N=_.email)&&void 0!==N?N:void 0,Qs=null!==(k=_.phoneNumber)&&void 0!==k?k:void 0,yf=null!==(ne=_.photoURL)&&void 0!==ne?ne:void 0,vf=null!==(Ne=_.tenantId)&&void 0!==Ne?Ne:void 0,bf=null!==(lt=_._redirectEventId)&&void 0!==lt?lt:void 0,py=null!==(Tt=_.createdAt)&&void 0!==Tt?Tt:void 0,gy=null!==(Nt=_.lastLoginAt)&&void 0!==Nt?Nt:void 0,{uid:ic,emailVerified:wf,isAnonymous:lu,providerData:Nd,stsTokenManager:pl}=_;ie(ic&&pl,m,"internal-error");const xd=st.fromJSON(this.name,pl);ie("string"==typeof ic,m,"internal-error"),Et(Nn,m.name),Et(si,m.name),ie("boolean"==typeof wf,m,"internal-error"),ie("boolean"==typeof lu,m,"internal-error"),Et(Qs,m.name),Et(yf,m.name),Et(vf,m.name),Et(bf,m.name),Et(py,m.name),Et(gy,m.name);const Un=new It({uid:ic,auth:m,email:si,emailVerified:wf,displayName:Nn,isAnonymous:lu,photoURL:yf,phoneNumber:Qs,tenantId:vf,stsTokenManager:xd,createdAt:py,lastLoginAt:gy});return Nd&&Array.isArray(Nd)&&(Un.providerData=Nd.map(Df=>Object.assign({},Df))),bf&&(Un._redirectEventId=bf),Un}static _fromIdTokenResponse(m,_,D=!1){return(0,l.Z)(function*(){const N=new st;N.updateFromServerResponse(_);const k=new It({uid:_.localId,auth:m,stsTokenManager:N,isAnonymous:D});return yield jr(k),k})()}}const q=(()=>{class b{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(_,D){var N=this;return(0,l.Z)(function*(){N.storage[_]=D})()}_get(_){var D=this;return(0,l.Z)(function*(){const N=D.storage[_];return void 0===N?null:N})()}_remove(_){var D=this;return(0,l.Z)(function*(){delete D.storage[_]})()}_addListener(_,D){}_removeListener(_,D){}}return b.type="NONE",b})();function G(b,m,_){return`firebase:${b}:${m}:${_}`}class Y{constructor(m,_,D){this.persistence=m,this.auth=_,this.userKey=D;const{config:N,name:k}=this.auth;this.fullUserKey=G(this.userKey,N.apiKey,k),this.fullPersistenceKey=G("persistence",N.apiKey,k),this.boundEventHandler=_._onStorageEvent.bind(_),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(m){return this.persistence._set(this.fullUserKey,m.toJSON())}getCurrentUser(){var m=this;return(0,l.Z)(function*(){const _=yield m.persistence._get(m.fullUserKey);return _?It._fromJSON(m.auth,_):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(m){var _=this;return(0,l.Z)(function*(){if(_.persistence===m)return;const D=yield _.getCurrentUser();return yield _.removeCurrentUser(),_.persistence=m,D?_.setCurrentUser(D):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(m,_,D="authUser"){return(0,l.Z)(function*(){if(!_.length)return new Y(te(q),m,D);const N=(yield Promise.all(_.map(function(){var Tt=(0,l.Z)(function*(Nt){if(yield Nt._isAvailable())return Nt});return function(Nt){return Tt.apply(this,arguments)}}()))).filter(Tt=>Tt);let k=N[0]||te(q);const ne=G(D,m.config.apiKey,m.name);let Ne=null;for(const Tt of _)try{const Nt=yield Tt._get(ne);if(Nt){const Nn=It._fromJSON(m,Nt);Tt!==k&&(Ne=Nn),k=Tt;break}}catch{}const lt=N.filter(Tt=>Tt._shouldAllowMigration);return k._shouldAllowMigration&&lt.length?(k=lt[0],Ne&&(yield k._set(ne,Ne.toJSON())),yield Promise.all(_.map(function(){var Tt=(0,l.Z)(function*(Nt){if(Nt!==k)try{yield Nt._remove(ne)}catch{}});return function(Nt){return Tt.apply(this,arguments)}}())),new Y(k,m,D)):new Y(k,m,D)})()}}function j(b){const m=b.toLowerCase();if(m.includes("opera/")||m.includes("opr/")||m.includes("opios/"))return"Opera";if(Le(m))return"IEMobile";if(m.includes("msie")||m.includes("trident/"))return"IE";if(m.includes("edge/"))return"Edge";if(O(m))return"Firefox";if(m.includes("silk/"))return"Silk";if(ut(m))return"Blackberry";if(Ae(m))return"Webos";if(B(m))return"Safari";if((m.includes("chrome/")||re(m))&&!m.includes("edge/"))return"Chrome";if(ct(m))return"Android";{const D=b.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===D?.length)return D[1]}return"Other"}function O(b=(0,H.z$)()){return/firefox\//i.test(b)}function B(b=(0,H.z$)()){const m=b.toLowerCase();return m.includes("safari/")&&!m.includes("chrome/")&&!m.includes("crios/")&&!m.includes("android")}function re(b=(0,H.z$)()){return/crios\//i.test(b)}function Le(b=(0,H.z$)()){return/iemobile/i.test(b)}function ct(b=(0,H.z$)()){return/android/i.test(b)}function ut(b=(0,H.z$)()){return/blackberry/i.test(b)}function Ae(b=(0,H.z$)()){return/webos/i.test(b)}function Ve(b=(0,H.z$)()){return/iphone|ipad|ipod/i.test(b)||/macintosh/i.test(b)&&/mobile/i.test(b)}function kt(b=(0,H.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(b)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(b)}function gn(b=(0,H.z$)()){return Ve(b)||ct(b)||Ae(b)||ut(b)||/windows phone/i.test(b)||Le(b)}function Sn(b,m=[]){let _;switch(b){case"Browser":_=j((0,H.z$)());break;case"Worker":_=`${j((0,H.z$)())}-${b}`;break;default:_=b}const D=m.length?m.join(","):"FirebaseCore-web";return`${_}/JsCore/${P.SDK_VERSION}/${D}`}class ho{constructor(m){this.auth=m,this.queue=[]}pushCallback(m,_){const D=k=>new Promise((ne,Ne)=>{try{ne(m(k))}catch(lt){Ne(lt)}});D.onAbort=_,this.queue.push(D);const N=this.queue.length-1;return()=>{this.queue[N]=()=>Promise.resolve()}}runMiddleware(m){var _=this;return(0,l.Z)(function*(){var D;if(_.auth.currentUser===m)return;const N=[];try{for(const k of _.queue)yield k(m),k.onAbort&&N.push(k.onAbort)}catch(k){N.reverse();for(const ne of N)try{ne()}catch{}throw _.auth._errorFactory.create("login-blocked",{originalMessage:null===(D=k)||void 0===D?void 0:D.message})}})()}}class Fo{constructor(m,_,D){this.app=m,this.heartbeatServiceProvider=_,this.config=D,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fo(this),this.idTokenSubscription=new fo(this),this.beforeStateQueue=new ho(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=at,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=m.name,this.clientVersion=D.sdkClientVersion}_initializeWithPersistence(m,_){var D=this;return _&&(this._popupRedirectResolver=te(_)),this._initializationPromise=this.queue((0,l.Z)(function*(){var N,k;if(!D._deleted&&(D.persistenceManager=yield Y.create(D,m),!D._deleted)){if(null!==(N=D._popupRedirectResolver)&&void 0!==N&&N._shouldInitProactively)try{yield D._popupRedirectResolver._initialize(D)}catch{}yield D.initializeCurrentUser(_),D.lastNotifiedUid=(null===(k=D.currentUser)||void 0===k?void 0:k.uid)||null,!D._deleted&&(D._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var m=this;return(0,l.Z)(function*(){if(m._deleted)return;const _=yield m.assertedPersistence.getCurrentUser();if(m.currentUser||_){if(m.currentUser&&_&&m.currentUser.uid===_.uid)return m._currentUser._assign(_),void(yield m.currentUser.getIdToken());yield m._updateCurrentUser(_,!0)}})()}initializeCurrentUser(m){var _=this;return(0,l.Z)(function*(){var D;const N=yield _.assertedPersistence.getCurrentUser();let k=N,ne=!1;if(m&&_.config.authDomain){yield _.getOrInitRedirectPersistenceManager();const Ne=null===(D=_.redirectUser)||void 0===D?void 0:D._redirectEventId,lt=k?._redirectEventId,Tt=yield _.tryRedirectSignIn(m);(!Ne||Ne===lt)&&Tt?.user&&(k=Tt.user,ne=!0)}if(!k)return _.directlySetCurrentUser(null);if(!k._redirectEventId){if(ne)try{yield _.beforeStateQueue.runMiddleware(k)}catch(Ne){k=N,_._popupRedirectResolver._overrideRedirectResult(_,()=>Promise.reject(Ne))}return k?_.reloadAndSetCurrentUserOrClear(k):_.directlySetCurrentUser(null)}return ie(_._popupRedirectResolver,_,"argument-error"),yield _.getOrInitRedirectPersistenceManager(),_.redirectUser&&_.redirectUser._redirectEventId===k._redirectEventId?_.directlySetCurrentUser(k):_.reloadAndSetCurrentUserOrClear(k)})()}tryRedirectSignIn(m){var _=this;return(0,l.Z)(function*(){let D=null;try{D=yield _._popupRedirectResolver._completeRedirectFn(_,m,!0)}catch{yield _._setRedirectUser(null)}return D})()}reloadAndSetCurrentUserOrClear(m){var _=this;return(0,l.Z)(function*(){var D;try{yield jr(m)}catch(N){if("auth/network-request-failed"!==(null===(D=N)||void 0===D?void 0:D.code))return _.directlySetCurrentUser(null)}return _.directlySetCurrentUser(m)})()}useDeviceLanguage(){this.languageCode=function zt(){if(typeof navigator>"u")return null;const b=navigator;return b.languages&&b.languages[0]||b.language||null}()}_delete(){var m=this;return(0,l.Z)(function*(){m._deleted=!0})()}updateCurrentUser(m){var _=this;return(0,l.Z)(function*(){const D=m?(0,H.m9)(m):null;return D&&ie(D.auth.config.apiKey===_.config.apiKey,_,"invalid-user-token"),_._updateCurrentUser(D&&D._clone(_))})()}_updateCurrentUser(m,_=!1){var D=this;return(0,l.Z)(function*(){if(!D._deleted)return m&&ie(D.tenantId===m.tenantId,D,"tenant-id-mismatch"),_||(yield D.beforeStateQueue.runMiddleware(m)),D.queue((0,l.Z)(function*(){yield D.directlySetCurrentUser(m),D.notifyAuthListeners()}))})()}signOut(){var m=this;return(0,l.Z)(function*(){return yield m.beforeStateQueue.runMiddleware(null),(m.redirectPersistenceManager||m._popupRedirectResolver)&&(yield m._setRedirectUser(null)),m._updateCurrentUser(null,!0)})()}setPersistence(m){var _=this;return this.queue((0,l.Z)(function*(){yield _.assertedPersistence.setPersistence(te(m))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(m){this._errorFactory=new H.LL("auth","Firebase",m())}onAuthStateChanged(m,_,D){return this.registerStateListener(this.authStateSubscription,m,_,D)}beforeAuthStateChanged(m,_){return this.beforeStateQueue.pushCallback(m,_)}onIdTokenChanged(m,_,D){return this.registerStateListener(this.idTokenSubscription,m,_,D)}toJSON(){var m;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(m=this._currentUser)||void 0===m?void 0:m.toJSON()}}_setRedirectUser(m,_){var D=this;return(0,l.Z)(function*(){const N=yield D.getOrInitRedirectPersistenceManager(_);return null===m?N.removeCurrentUser():N.setCurrentUser(m)})()}getOrInitRedirectPersistenceManager(m){var _=this;return(0,l.Z)(function*(){if(!_.redirectPersistenceManager){const D=m&&te(m)||_._popupRedirectResolver;ie(D,_,"argument-error"),_.redirectPersistenceManager=yield Y.create(_,[te(D._redirectPersistence)],"redirectUser"),_.redirectUser=yield _.redirectPersistenceManager.getCurrentUser()}return _.redirectPersistenceManager})()}_redirectUserForId(m){var _=this;return(0,l.Z)(function*(){var D,N;return _._isInitialized&&(yield _.queue((0,l.Z)(function*(){}))),(null===(D=_._currentUser)||void 0===D?void 0:D._redirectEventId)===m?_._currentUser:(null===(N=_.redirectUser)||void 0===N?void 0:N._redirectEventId)===m?_.redirectUser:null})()}_persistUserIfCurrent(m){var _=this;return(0,l.Z)(function*(){if(m===_.currentUser)return _.queue((0,l.Z)(function*(){return _.directlySetCurrentUser(m)}))})()}_notifyListenersIfCurrent(m){m===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var m,_;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const D=null!==(_=null===(m=this.currentUser)||void 0===m?void 0:m.uid)&&void 0!==_?_:null;this.lastNotifiedUid!==D&&(this.lastNotifiedUid=D,this.authStateSubscription.next(this.currentUser))}registerStateListener(m,_,D,N){if(this._deleted)return()=>{};const k="function"==typeof _?_:_.next.bind(_),ne=this._isInitialized?Promise.resolve():this._initializationPromise;return ie(ne,this,"internal-error"),ne.then(()=>k(this.currentUser)),"function"==typeof _?m.addObserver(_,D,N):m.addObserver(_)}directlySetCurrentUser(m){var _=this;return(0,l.Z)(function*(){_.currentUser&&_.currentUser!==m&&_._currentUser._stopProactiveRefresh(),m&&_.isProactiveRefreshEnabled&&m._startProactiveRefresh(),_.currentUser=m,m?yield _.assertedPersistence.setCurrentUser(m):yield _.assertedPersistence.removeCurrentUser()})()}queue(m){return this.operations=this.operations.then(m,m),this.operations}get assertedPersistence(){return ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(m){!m||this.frameworks.includes(m)||(this.frameworks.push(m),this.frameworks.sort(),this.clientVersion=Sn(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var m=this;return(0,l.Z)(function*(){var _;const D={"X-Client-Version":m.clientVersion};m.app.options.appId&&(D["X-Firebase-gmpid"]=m.app.options.appId);const N=yield null===(_=m.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===_?void 0:_.getHeartbeatsHeader();return N&&(D["X-Firebase-Client"]=N),D})()}}function wt(b){return(0,H.m9)(b)}class fo{constructor(m){this.auth=m,this.observer=null,this.addObserver=(0,H.ne)(_=>this.observer=_)}get next(){return ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function po(b,m,_){const D=wt(b);ie(D._canInitEmulator,D,"emulator-config-failed"),ie(/^https?:\/\//.test(m),D,"invalid-emulator-scheme");const N=!!_?.disableWarnings,k=kl(m),{host:ne,port:Ne}=function ms(b){const m=kl(b),_=/(\/\/)?([^?#/]+)/.exec(b.substr(m.length));if(!_)return{host:"",port:null};const D=_[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(D);if(N){const k=N[1];return{host:k,port:Zn(D.substr(k.length+1))}}{const[k,ne]=D.split(":");return{host:k,port:Zn(ne)}}}(m);D.config.emulator={url:`${k}//${ne}${null===Ne?"":`:${Ne}`}/`},D.settings.appVerificationDisabledForTesting=!0,D.emulatorConfig=Object.freeze({host:ne,port:Ne,protocol:k.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function go(){function b(){const m=document.createElement("p"),_=m.style;m.innerText="Running in emulator mode. Do not use with production credentials.",_.position="fixed",_.width="100%",_.backgroundColor="#ffffff",_.border=".1em solid #000000",_.color="#b50000",_.bottom="0px",_.left="0px",_.margin="0px",_.zIndex="10000",_.textAlign="center",m.classList.add("firebase-emulator-warning"),document.body.appendChild(m)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",b):b())}()}function kl(b){const m=b.indexOf(":");return m<0?"":b.substr(0,m+1)}function Zn(b){if(!b)return null;const m=Number(b);return isNaN(m)?null:m}class Xr{constructor(m,_){this.providerId=m,this.signInMethod=_}toJSON(){return ue("not implemented")}_getIdTokenResponse(m){return ue("not implemented")}_linkToIdToken(m,_){return ue("not implemented")}_getReauthenticationResolver(m){return ue("not implemented")}}function mi(b,m){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,l.Z)(function*(b,m){return Ht(b,"POST","/v1/accounts:resetPassword",Kt(b,m))})).apply(this,arguments)}function Pc(b,m){return mn.apply(this,arguments)}function mn(){return(mn=(0,l.Z)(function*(b,m){return Ht(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function Vh(b,m){return Ua.apply(this,arguments)}function Ua(){return(Ua=(0,l.Z)(function*(b,m){return Ht(b,"POST","/v1/accounts:update",Kt(b,m))})).apply(this,arguments)}function mo(){return(mo=(0,l.Z)(function*(b,m){return Fn(b,"POST","/v1/accounts:signInWithPassword",Kt(b,m))})).apply(this,arguments)}function $r(b,m){return _o.apply(this,arguments)}function _o(){return(_o=(0,l.Z)(function*(b,m){return Ht(b,"POST","/v1/accounts:sendOobCode",Kt(b,m))})).apply(this,arguments)}function _s(b,m){return hn.apply(this,arguments)}function hn(){return(hn=(0,l.Z)(function*(b,m){return $r(b,m)})).apply(this,arguments)}function jh(b,m){return tr.apply(this,arguments)}function tr(){return(tr=(0,l.Z)(function*(b,m){return $r(b,m)})).apply(this,arguments)}function _i(b,m){return Lo.apply(this,arguments)}function Lo(){return(Lo=(0,l.Z)(function*(b,m){return $r(b,m)})).apply(this,arguments)}function kc(b,m){return Va.apply(this,arguments)}function Va(){return(Va=(0,l.Z)(function*(b,m){return $r(b,m)})).apply(this,arguments)}function Fc(){return(Fc=(0,l.Z)(function*(b,m){return Fn(b,"POST","/v1/accounts:signInWithEmailLink",Kt(b,m))})).apply(this,arguments)}function Lc(){return(Lc=(0,l.Z)(function*(b,m){return Fn(b,"POST","/v1/accounts:signInWithEmailLink",Kt(b,m))})).apply(this,arguments)}class ys extends Xr{constructor(m,_,D,N=null){super("password",D),this._email=m,this._password=_,this._tenantId=N}static _fromEmailAndPassword(m,_){return new ys(m,_,"password")}static _fromEmailAndCode(m,_,D=null){return new ys(m,_,"emailLink",D)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m;if(_?.email&&_?.password){if("password"===_.signInMethod)return this._fromEmailAndPassword(_.email,_.password);if("emailLink"===_.signInMethod)return this._fromEmailAndCode(_.email,_.password,_.tenantId)}return null}_getIdTokenResponse(m){var _=this;return(0,l.Z)(function*(){switch(_.signInMethod){case"password":return function Ba(b,m){return mo.apply(this,arguments)}(m,{returnSecureToken:!0,email:_._email,password:_._password});case"emailLink":return function ei(b,m){return Fc.apply(this,arguments)}(m,{email:_._email,oobCode:_._password});default:et(m,"internal-error")}})()}_linkToIdToken(m,_){var D=this;return(0,l.Z)(function*(){switch(D.signInMethod){case"password":return Pc(m,{idToken:_,returnSecureToken:!0,email:D._email,password:D._password});case"emailLink":return function wg(b,m){return Lc.apply(this,arguments)}(m,{idToken:_,email:D._email,oobCode:D._password});default:et(m,"internal-error")}})()}_getReauthenticationResolver(m){return this._getIdTokenResponse(m)}}function yo(b,m){return yi.apply(this,arguments)}function yi(){return(yi=(0,l.Z)(function*(b,m){return Fn(b,"POST","/v1/accounts:signInWithIdp",Kt(b,m))})).apply(this,arguments)}class vs extends Xr{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(m){const _=new vs(m.providerId,m.signInMethod);return m.idToken||m.accessToken?(m.idToken&&(_.idToken=m.idToken),m.accessToken&&(_.accessToken=m.accessToken),m.nonce&&!m.pendingToken&&(_.nonce=m.nonce),m.pendingToken&&(_.pendingToken=m.pendingToken)):m.oauthToken&&m.oauthTokenSecret?(_.accessToken=m.oauthToken,_.secret=m.oauthTokenSecret):et("argument-error"),_}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:D,signInMethod:N}=_,k=(0,le._T)(_,["providerId","signInMethod"]);if(!D||!N)return null;const ne=new vs(D,N);return ne.idToken=k.idToken||void 0,ne.accessToken=k.accessToken||void 0,ne.secret=k.secret,ne.nonce=k.nonce,ne.pendingToken=k.pendingToken||null,ne}_getIdTokenResponse(m){return yo(m,this.buildRequest())}_linkToIdToken(m,_){const D=this.buildRequest();return D.idToken=_,yo(m,D)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,yo(m,_)}buildRequest(){const m={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)m.pendingToken=this.pendingToken;else{const _={};this.idToken&&(_.id_token=this.idToken),this.accessToken&&(_.access_token=this.accessToken),this.secret&&(_.oauth_token_secret=this.secret),_.providerId=this.providerId,this.nonce&&!this.pendingToken&&(_.nonce=this.nonce),m.postBody=(0,H.xO)(_)}return m}}function Cg(b,m){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,l.Z)(function*(b,m){return Ht(b,"POST","/v1/accounts:sendVerificationCode",Kt(b,m))})).apply(this,arguments)}function ja(){return(ja=(0,l.Z)(function*(b,m){return Fn(b,"POST","/v1/accounts:signInWithPhoneNumber",Kt(b,m))})).apply(this,arguments)}function Ku(){return(Ku=(0,l.Z)(function*(b,m){const _=yield Fn(b,"POST","/v1/accounts:signInWithPhoneNumber",Kt(b,m));if(_.temporaryProof)throw qn(b,"account-exists-with-different-credential",_);return _})).apply(this,arguments)}const Tg={USER_NOT_FOUND:"user-not-found"};function Yu(){return(Yu=(0,l.Z)(function*(b,m){return Fn(b,"POST","/v1/accounts:signInWithPhoneNumber",Kt(b,Object.assign(Object.assign({},m),{operation:"REAUTH"})),Tg)})).apply(this,arguments)}class Bo extends Xr{constructor(m){super("phone","phone"),this.params=m}static _fromVerification(m,_){return new Bo({verificationId:m,verificationCode:_})}static _fromTokenResponse(m,_){return new Bo({phoneNumber:m,temporaryProof:_})}_getIdTokenResponse(m){return function Eg(b,m){return ja.apply(this,arguments)}(m,this._makeVerificationRequest())}_linkToIdToken(m,_){return function Uo(b,m){return Ku.apply(this,arguments)}(m,Object.assign({idToken:_},this._makeVerificationRequest()))}_getReauthenticationResolver(m){return function Ig(b,m){return Yu.apply(this,arguments)}(m,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:m,phoneNumber:_,verificationId:D,verificationCode:N}=this.params;return m&&_?{temporaryProof:m,phoneNumber:_}:{sessionInfo:D,code:N}}toJSON(){const m={providerId:this.providerId};return this.params.phoneNumber&&(m.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(m.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(m.verificationCode=this.params.verificationCode),this.params.verificationId&&(m.verificationId=this.params.verificationId),m}static fromJSON(m){"string"==typeof m&&(m=JSON.parse(m));const{verificationId:_,verificationCode:D,phoneNumber:N,temporaryProof:k}=m;return D||_||N||k?new Bo({verificationId:_,verificationCode:D,phoneNumber:N,temporaryProof:k}):null}}class Vo{constructor(m){var _,D,N,k,ne,Ne;const lt=(0,H.zd)((0,H.pd)(m)),Tt=null!==(_=lt.apiKey)&&void 0!==_?_:null,Nt=null!==(D=lt.oobCode)&&void 0!==D?D:null,Nn=function Qu(b){switch(b){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=lt.mode)&&void 0!==N?N:null);ie(Tt&&Nt&&Nn,"argument-error"),this.apiKey=Tt,this.operation=Nn,this.code=Nt,this.continueUrl=null!==(k=lt.continueUrl)&&void 0!==k?k:null,this.languageCode=null!==(ne=lt.languageCode)&&void 0!==ne?ne:null,this.tenantId=null!==(Ne=lt.tenantId)&&void 0!==Ne?Ne:null}static parseLink(m){const _=function Ju(b){const m=(0,H.zd)((0,H.pd)(b)).link,_=m?(0,H.zd)((0,H.pd)(m)).deep_link_id:null,D=(0,H.zd)((0,H.pd)(b)).deep_link_id;return(D?(0,H.zd)((0,H.pd)(D)).link:null)||D||_||m||b}(m);try{return new Vo(_)}catch{return null}}}let Fl=(()=>{class b{constructor(){this.providerId=b.PROVIDER_ID}static credential(_,D){return ys._fromEmailAndPassword(_,D)}static credentialWithLink(_,D){const N=Vo.parseLink(D);return ie(N,"argument-error"),ys._fromEmailAndCode(_,N.code,N.tenantId)}}return b.PROVIDER_ID="password",b.EMAIL_PASSWORD_SIGN_IN_METHOD="password",b.EMAIL_LINK_SIGN_IN_METHOD="emailLink",b})();class wr{constructor(m){this.providerId=m,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(m){this.defaultLanguageCode=m}setCustomParameters(m){return this.customParameters=m,this}getCustomParameters(){return this.customParameters}}class jo extends wr{constructor(){super(...arguments),this.scopes=[]}addScope(m){return this.scopes.includes(m)||this.scopes.push(m),this}getScopes(){return[...this.scopes]}}class $s extends jo{static credentialFromJSON(m){const _="string"==typeof m?JSON.parse(m):m;return ie("providerId"in _&&"signInMethod"in _,"argument-error"),vs._fromParams(_)}credential(m){return this._credential(Object.assign(Object.assign({},m),{nonce:m.rawNonce}))}_credential(m){return ie(m.idToken||m.accessToken,"argument-error"),vs._fromParams(Object.assign(Object.assign({},m),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(m){return $s.oauthCredentialFromTaggedObject(m)}static credentialFromError(m){return $s.oauthCredentialFromTaggedObject(m.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:_,oauthAccessToken:D,oauthTokenSecret:N,pendingToken:k,nonce:ne,providerId:Ne}=m;if(!D&&!N&&!_&&!k||!Ne)return null;try{return new $s(Ne)._credential({idToken:_,accessToken:D,nonce:ne,pendingToken:k})}catch{return null}}}let Xu=(()=>{class b extends jo{constructor(){super("facebook.com")}static credential(_){return vs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.FACEBOOK_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.FACEBOOK_SIGN_IN_METHOD="facebook.com",b.PROVIDER_ID="facebook.com",b})(),Ll=(()=>{class b extends jo{constructor(){super("google.com"),this.addScope("profile")}static credential(_,D){return vs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GOOGLE_SIGN_IN_METHOD,idToken:_,accessToken:D})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthIdToken:D,oauthAccessToken:N}=_;if(!D&&!N)return null;try{return b.credential(D,N)}catch{return null}}}return b.GOOGLE_SIGN_IN_METHOD="google.com",b.PROVIDER_ID="google.com",b})(),Uc=(()=>{class b extends jo{constructor(){super("github.com")}static credential(_){return vs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.GITHUB_SIGN_IN_METHOD,accessToken:_})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_||!("oauthAccessToken"in _)||!_.oauthAccessToken)return null;try{return b.credential(_.oauthAccessToken)}catch{return null}}}return b.GITHUB_SIGN_IN_METHOD="github.com",b.PROVIDER_ID="github.com",b})();class $o extends Xr{constructor(m,_){super(m,m),this.pendingToken=_}_getIdTokenResponse(m){return yo(m,this.buildRequest())}_linkToIdToken(m,_){const D=this.buildRequest();return D.idToken=_,yo(m,D)}_getReauthenticationResolver(m){const _=this.buildRequest();return _.autoCreate=!1,yo(m,_)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(m){const _="string"==typeof m?JSON.parse(m):m,{providerId:D,signInMethod:N,pendingToken:k}=_;return D&&N&&k&&D===N?new $o(D,k):null}static _create(m,_){return new $o(m,_)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class vi extends wr{constructor(m){ie(m.startsWith("saml."),"argument-error"),super(m)}static credentialFromResult(m){return vi.samlCredentialFromTaggedObject(m)}static credentialFromError(m){return vi.samlCredentialFromTaggedObject(m.customData||{})}static credentialFromJSON(m){const _=$o.fromJSON(m);return ie(_,"argument-error"),_}static samlCredentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{pendingToken:_,providerId:D}=m;if(!_||!D)return null;try{return $o._create(D,_)}catch{return null}}}let bs=(()=>{class b extends jo{constructor(){super("twitter.com")}static credential(_,D){return vs._fromParams({providerId:b.PROVIDER_ID,signInMethod:b.TWITTER_SIGN_IN_METHOD,oauthToken:_,oauthTokenSecret:D})}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{oauthAccessToken:D,oauthTokenSecret:N}=_;if(!D||!N)return null;try{return b.credential(D,N)}catch{return null}}}return b.TWITTER_SIGN_IN_METHOD="twitter.com",b.PROVIDER_ID="twitter.com",b})();function ni(b,m){return vo.apply(this,arguments)}function vo(){return(vo=(0,l.Z)(function*(b,m){return Fn(b,"POST","/v1/accounts:signUp",Kt(b,m))})).apply(this,arguments)}class bi{constructor(m){this.user=m.user,this.providerId=m.providerId,this._tokenResponse=m._tokenResponse,this.operationType=m.operationType}static _fromIdTokenResponse(m,_,D,N=!1){return(0,l.Z)(function*(){const k=yield It._fromIdTokenResponse(m,D,N),ne=Ho(D);return new bi({user:k,providerId:ne,_tokenResponse:D,operationType:_})})()}static _forOperation(m,_,D){return(0,l.Z)(function*(){yield m._updateTokensIfNecessary(D,!0);const N=Ho(D);return new bi({user:m,providerId:N,_tokenResponse:D,operationType:_})})()}}function Ho(b){return b.providerId?b.providerId:"phoneNumber"in b?"phone":null}function Sg(b){return Bc.apply(this,arguments)}function Bc(){return(Bc=(0,l.Z)(function*(b){var m;const _=wt(b);if(yield _._initializationPromise,null!==(m=_.currentUser)&&void 0!==m&&m.isAnonymous)return new bi({user:_.currentUser,providerId:null,operationType:"signIn"});const D=yield ni(_,{returnSecureToken:!0}),N=yield bi._fromIdTokenResponse(_,"signIn",D,!0);return yield _._updateCurrentUser(N.user),N})).apply(this,arguments)}class Ln extends H.ZR{constructor(m,_,D,N){var k;super(_.code,_.message),this.operationType=D,this.user=N,Object.setPrototypeOf(this,Ln.prototype),this.customData={appName:m.name,tenantId:null!==(k=m.tenantId)&&void 0!==k?k:void 0,_serverResponse:_.customData._serverResponse,operationType:D}}static _fromErrorAndOperation(m,_,D,N){return new Ln(m,_,D,N)}}function td(b,m,_,D){return("reauthenticate"===m?_._getReauthenticationResolver(b):_._getIdTokenResponse(b)).catch(k=>{throw"auth/multi-factor-auth-required"===k.code?Ln._fromErrorAndOperation(b,k,m,D):k})}function $h(b){return new Set(b.map(({providerId:m})=>m).filter(m=>!!m))}function Pi(b,m){return Dr.apply(this,arguments)}function Dr(){return(Dr=(0,l.Z)(function*(b,m){const _=(0,H.m9)(b);yield Qi(!0,_,m);const{providerUserInfo:D}=yield tt(_.auth,{idToken:yield _.getIdToken(),deleteProvider:[m]}),N=$h(D||[]);return _.providerData=_.providerData.filter(k=>N.has(k.providerId)),N.has("phone")||(_.phoneNumber=null),yield _.auth._persistUserIfCurrent(_),_})).apply(this,arguments)}function Ul(b,m){return Go.apply(this,arguments)}function Go(){return(Go=(0,l.Z)(function*(b,m,_=!1){const D=yield Pt(b,m._linkToIdToken(b.auth,yield b.getIdToken()),_);return bi._forOperation(b,"link",D)})).apply(this,arguments)}function Qi(b,m,_){return un.apply(this,arguments)}function un(){return(un=(0,l.Z)(function*(b,m,_){yield jr(m);const N=!1===b?"provider-already-linked":"no-such-provider";ie($h(m.providerData).has(_)===b,m.auth,N)})).apply(this,arguments)}function Vc(b,m){return Hs.apply(this,arguments)}function Hs(){return(Hs=(0,l.Z)(function*(b,m,_=!1){var D;const{auth:N}=b,k="reauthenticate";try{const ne=yield Pt(b,td(N,k,m,b),_);ie(ne.idToken,N,"internal-error");const Ne=_t(ne.idToken);ie(Ne,N,"internal-error");const{sub:lt}=Ne;return ie(b.uid===lt,N,"user-mismatch"),bi._forOperation(b,k,ne)}catch(ne){throw"auth/user-not-found"===(null===(D=ne)||void 0===D?void 0:D.code)&&et(N,"user-mismatch"),ne}})).apply(this,arguments)}function jc(b,m){return wi.apply(this,arguments)}function wi(){return(wi=(0,l.Z)(function*(b,m,_=!1){const D="signIn",N=yield td(b,D,m),k=yield bi._fromIdTokenResponse(b,D,N);return _||(yield b._updateCurrentUser(k.user)),k})).apply(this,arguments)}function $a(b,m){return jn.apply(this,arguments)}function jn(){return(jn=(0,l.Z)(function*(b,m){return jc(wt(b),m)})).apply(this,arguments)}function Ft(b,m){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,l.Z)(function*(b,m){const _=(0,H.m9)(b);return yield Qi(!1,_,m.providerId),Ul(_,m)})).apply(this,arguments)}function Ag(b,m){return Ga.apply(this,arguments)}function Ga(){return(Ga=(0,l.Z)(function*(b,m){return Vc((0,H.m9)(b),m)})).apply(this,arguments)}function nd(b,m){return za.apply(this,arguments)}function za(){return(za=(0,l.Z)(function*(b,m){return Fn(b,"POST","/v1/accounts:signInWithCustomToken",Kt(b,m))})).apply(this,arguments)}function bo(b,m){return qa.apply(this,arguments)}function qa(){return(qa=(0,l.Z)(function*(b,m){const _=wt(b),D=yield nd(_,{token:m,returnSecureToken:!0}),N=yield bi._fromIdTokenResponse(_,"signIn",D);return yield _._updateCurrentUser(N.user),N})).apply(this,arguments)}class zo{constructor(m,_){this.factorId=m,this.uid=_.mfaEnrollmentId,this.enrollmentTime=new Date(_.enrolledAt).toUTCString(),this.displayName=_.displayName}static _fromServerResponse(m,_){return"phoneInfo"in _?Me._fromServerResponse(m,_):et(m,"internal-error")}}class Me extends zo{constructor(m){super("phone",m),this.phoneNumber=m.phoneInfo}static _fromServerResponse(m,_){return new Me(_)}}function Yt(b,m,_){var D;ie((null===(D=_.url)||void 0===D?void 0:D.length)>0,b,"invalid-continue-uri"),ie(typeof _.dynamicLinkDomain>"u"||_.dynamicLinkDomain.length>0,b,"invalid-dynamic-link-domain"),m.continueUrl=_.url,m.dynamicLinkDomain=_.dynamicLinkDomain,m.canHandleCodeInApp=_.handleCodeInApp,_.iOS&&(ie(_.iOS.bundleId.length>0,b,"missing-ios-bundle-id"),m.iOSBundleId=_.iOS.bundleId),_.android&&(ie(_.android.packageName.length>0,b,"missing-android-pkg-name"),m.androidInstallApp=_.android.installApp,m.androidMinimumVersionCode=_.android.minimumVersion,m.androidPackageName=_.android.packageName)}function Hh(b,m,_){return qo.apply(this,arguments)}function qo(){return(qo=(0,l.Z)(function*(b,m,_){const D=(0,H.m9)(b),N={requestType:"PASSWORD_RESET",email:m};_&&Yt(D,N,_),yield jh(D,N)})).apply(this,arguments)}function nr(b,m,_){return Wo.apply(this,arguments)}function Wo(){return(Wo=(0,l.Z)(function*(b,m,_){yield mi((0,H.m9)(b),{oobCode:m,newPassword:_})})).apply(this,arguments)}function Bl(b,m){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,l.Z)(function*(b,m){yield Vh((0,H.m9)(b),{oobCode:m})})).apply(this,arguments)}function Vl(b,m){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,l.Z)(function*(b,m){const _=(0,H.m9)(b),D=yield mi(_,{oobCode:m}),N=D.requestType;switch(ie(N,_,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ie(D.newEmail,_,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ie(D.mfaInfo,_,"internal-error");default:ie(D.email,_,"internal-error")}let k=null;return D.mfaInfo&&(k=zo._fromServerResponse(wt(_),D.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.newEmail:D.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===D.requestType?D.email:D.newEmail)||null,multiFactorInfo:k},operation:N}})).apply(this,arguments)}function Gh(b,m){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,l.Z)(function*(b,m){const{data:_}=yield Vl((0,H.m9)(b),m);return _.email})).apply(this,arguments)}function Ng(b,m,_){return wo.apply(this,arguments)}function wo(){return(wo=(0,l.Z)(function*(b,m,_){const D=wt(b),N=yield ni(D,{returnSecureToken:!0,email:m,password:_}),k=yield bi._fromIdTokenResponse(D,"signIn",N);return yield D._updateCurrentUser(k.user),k})).apply(this,arguments)}function rr(b,m,_){return $a((0,H.m9)(b),Fl.credential(m,_))}function Ji(b,m,_){return Za.apply(this,arguments)}function Za(){return(Za=(0,l.Z)(function*(b,m,_){const D=(0,H.m9)(b),N={requestType:"EMAIL_SIGNIN",email:m};ie(_.handleCodeInApp,D,"argument-error"),_&&Yt(D,N,_),yield _i(D,N)})).apply(this,arguments)}function Ka(b,m){return"EMAIL_SIGNIN"===Vo.parseLink(m)?.operation}function ws(b,m,_){return rd.apply(this,arguments)}function rd(){return(rd=(0,l.Z)(function*(b,m,_){const D=(0,H.m9)(b),N=Fl.credentialWithLink(m,_||$e());return ie(N._tenantId===(D.tenantId||null),D,"tenant-id-mismatch"),$a(D,N)})).apply(this,arguments)}function $c(b,m){return id.apply(this,arguments)}function id(){return(id=(0,l.Z)(function*(b,m){return Ht(b,"POST","/v1/accounts:createAuthUri",Kt(b,m))})).apply(this,arguments)}function zh(b,m){return Ko.apply(this,arguments)}function Ko(){return(Ko=(0,l.Z)(function*(b,m){const D={identifier:m,continueUri:He()?$e():"http://localhost"},{signinMethods:N}=yield $c((0,H.m9)(b),D);return N||[]})).apply(this,arguments)}function Hc(b,m){return Ya.apply(this,arguments)}function Ya(){return(Ya=(0,l.Z)(function*(b,m){const _=(0,H.m9)(b),N={requestType:"VERIFY_EMAIL",idToken:yield b.getIdToken()};m&&Yt(_.auth,N,m);const{email:k}=yield _s(_.auth,N);k!==b.email&&(yield b.reload())})).apply(this,arguments)}function Gc(b,m,_){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,l.Z)(function*(b,m,_){const D=(0,H.m9)(b),k={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield b.getIdToken(),newEmail:m};_&&Yt(D.auth,k,_);const{email:ne}=yield kc(D.auth,k);ne!==b.email&&(yield b.reload())})).apply(this,arguments)}function sd(b,m){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,l.Z)(function*(b,m){return Ht(b,"POST","/v1/accounts:update",m)})).apply(this,arguments)}function qh(b,m){return Ja.apply(this,arguments)}function Ja(){return(Ja=(0,l.Z)(function*(b,{displayName:m,photoURL:_}){if(void 0===m&&void 0===_)return;const D=(0,H.m9)(b),k={idToken:yield D.getIdToken(),displayName:m,photoUrl:_,returnSecureToken:!0},ne=yield Pt(D,sd(D.auth,k));D.displayName=ne.displayName||null,D.photoURL=ne.photoUrl||null;const Ne=D.providerData.find(({providerId:lt})=>"password"===lt);Ne&&(Ne.displayName=D.displayName,Ne.photoURL=D.photoURL),yield D._updateTokensIfNecessary(ne)})).apply(this,arguments)}function Wh(b,m){return Gs((0,H.m9)(b),m,null)}function od(b,m){return Gs((0,H.m9)(b),null,m)}function Gs(b,m,_){return zs.apply(this,arguments)}function zs(){return(zs=(0,l.Z)(function*(b,m,_){const{auth:D}=b,k={idToken:yield b.getIdToken(),returnSecureToken:!0};m&&(k.email=m),_&&(k.password=_);const ne=yield Pt(b,Pc(D,k));yield b._updateTokensIfNecessary(ne,!0)})).apply(this,arguments)}class Rn{constructor(m,_,D={}){this.isNewUser=m,this.providerId=_,this.profile=D}}class Ds extends Rn{constructor(m,_,D,N){super(m,_,D),this.username=N}}class Pn extends Rn{constructor(m,_){super(m,"facebook.com",_)}}class ld extends Ds{constructor(m,_){super(m,"github.com",_,"string"==typeof _?.login?_?.login:null)}}class zc extends Rn{constructor(m,_){super(m,"google.com",_)}}class Zh extends Ds{constructor(m,_,D){super(m,"twitter.com",_,D)}}function qc(b){const{user:m,_tokenResponse:_}=b;return m.isAnonymous&&!_?{providerId:null,isNewUser:!1,profile:null}:function ad(b){var m,_;if(!b)return null;const{providerId:D}=b,N=b.rawUserInfo?JSON.parse(b.rawUserInfo):{},k=b.isNewUser||"identitytoolkit#SignupNewUserResponse"===b.kind;if(!D&&b?.idToken){const ne=null===(_=null===(m=_t(b.idToken))||void 0===m?void 0:m.firebase)||void 0===_?void 0:_.sign_in_provider;if(ne)return new Rn(k,"anonymous"!==ne&&"custom"!==ne?ne:null)}if(!D)return null;switch(D){case"facebook.com":return new Pn(k,N);case"github.com":return new ld(k,N);case"google.com":return new zc(k,N);case"twitter.com":return new Zh(k,N,b.screenName||null);case"custom":case"anonymous":return new Rn(k,null);default:return new Rn(k,D,N)}}(_)}class Di{constructor(m,_,D){this.type=m,this.credential=_,this.auth=D}static _fromIdtoken(m,_){return new Di("enroll",m,_)}static _fromMfaPendingCredential(m){return new Di("signin",m)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(m){var _,D;if(m?.multiFactorSession){if(null!==(_=m.multiFactorSession)&&void 0!==_&&_.pendingCredential)return Di._fromMfaPendingCredential(m.multiFactorSession.pendingCredential);if(null!==(D=m.multiFactorSession)&&void 0!==D&&D.idToken)return Di._fromIdtoken(m.multiFactorSession.idToken)}return null}}class Kc{constructor(m,_,D){this.session=m,this.hints=_,this.signInResolver=D}static _fromError(m,_){const D=wt(m),N=_.customData._serverResponse,k=(N.mfaInfo||[]).map(Ne=>zo._fromServerResponse(D,Ne));ie(N.mfaPendingCredential,D,"internal-error");const ne=Di._fromMfaPendingCredential(N.mfaPendingCredential);return new Kc(ne,k,function(){var Ne=(0,l.Z)(function*(lt){const Tt=yield lt._process(D,ne);delete N.mfaInfo,delete N.mfaPendingCredential;const Nt=Object.assign(Object.assign({},N),{idToken:Tt.idToken,refreshToken:Tt.refreshToken});switch(_.operationType){case"signIn":const Nn=yield bi._fromIdTokenResponse(D,_.operationType,Nt);return yield D._updateCurrentUser(Nn.user),Nn;case"reauthenticate":return ie(_.user,D,"internal-error"),bi._forOperation(_.user,_.operationType,Nt);default:et(D,"internal-error")}});return function(lt){return Ne.apply(this,arguments)}}())}resolveSignIn(m){var _=this;return(0,l.Z)(function*(){return _.signInResolver(m)})()}}function dd(b,m){var _;const D=(0,H.m9)(b),N=m;return ie(m.customData.operationType,D,"argument-error"),ie(null===(_=N.customData._serverResponse)||void 0===_?void 0:_.mfaPendingCredential,D,"argument-error"),Kc._fromError(D,N)}function $n(b,m){return Ht(b,"POST","/v2/accounts/mfaEnrollment:start",Kt(b,m))}class Gl{constructor(m){this.user=m,this.enrolledFactors=[],m._onReload(_=>{_.mfaInfo&&(this.enrolledFactors=_.mfaInfo.map(D=>zo._fromServerResponse(m.auth,D)))})}static _fromUser(m){return new Gl(m)}getSession(){var m=this;return(0,l.Z)(function*(){return Di._fromIdtoken(yield m.user.getIdToken(),m.user.auth)})()}enroll(m,_){var D=this;return(0,l.Z)(function*(){const N=m,k=yield D.getSession(),ne=yield Pt(D.user,N._process(D.user.auth,k,_));return yield D.user._updateTokensIfNecessary(ne),D.user.reload()})()}unenroll(m){var _=this;return(0,l.Z)(function*(){var D;const N="string"==typeof m?m:m.uid,k=yield _.user.getIdToken(),ne=yield Pt(_.user,function Hl(b,m){return Ht(b,"POST","/v2/accounts/mfaEnrollment:withdraw",Kt(b,m))}(_.user.auth,{idToken:k,mfaEnrollmentId:N}));_.enrolledFactors=_.enrolledFactors.filter(({uid:Ne})=>Ne!==N),yield _.user._updateTokensIfNecessary(ne);try{yield _.user.reload()}catch(Ne){if("auth/user-token-expired"!==(null===(D=Ne)||void 0===D?void 0:D.code))throw Ne}})()}}const Kh=new WeakMap;function Xa(b){const m=(0,H.m9)(b);return Kh.has(m)||Kh.set(m,Gl._fromUser(m)),Kh.get(m)}const Cs="__sak";class el{constructor(m,_){this.storageRetriever=m,this.type=_}_isAvailable(){try{return this.storage?(this.storage.setItem(Cs,"1"),this.storage.removeItem(Cs),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(m,_){return this.storage.setItem(m,JSON.stringify(_)),Promise.resolve()}_get(m){const _=this.storage.getItem(m);return Promise.resolve(_?JSON.parse(_):null)}_remove(m){return this.storage.removeItem(m),Promise.resolve()}get storage(){return this.storageRetriever()}}const ir=(()=>{class b extends el{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(_,D)=>this.onStorageEvent(_,D),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Yc(){const b=(0,H.z$)();return B(b)||Ve(b)}()&&function gs(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=gn(),this._shouldAllowMigration=!0}forAllChangedKeys(_){for(const D of Object.keys(this.listeners)){const N=this.storage.getItem(D),k=this.localCache[D];N!==k&&_(D,k,N)}}onStorageEvent(_,D=!1){if(!_.key)return void this.forAllChangedKeys((Ne,lt,Tt)=>{this.notifyListeners(Ne,Tt)});const N=_.key;if(D?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Ne=this.storage.getItem(N);if(_.newValue!==Ne)null!==_.newValue?this.storage.setItem(N,_.newValue):this.storage.removeItem(N);else if(this.localCache[N]===_.newValue&&!D)return}const k=()=>{const Ne=this.storage.getItem(N);!D&&this.localCache[N]===Ne||this.notifyListeners(N,Ne)},ne=this.storage.getItem(N);!function Lt(){return(0,H.w1)()&&10===document.documentMode}()||ne===_.newValue||_.newValue===_.oldValue?k():setTimeout(k,10)}notifyListeners(_,D){this.localCache[_]=D;const N=this.listeners[_];if(N)for(const k of Array.from(N))k(D&&JSON.parse(D))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((_,D,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:_,oldValue:D,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(_,D){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[_]||(this.listeners[_]=new Set,this.localCache[_]=this.storage.getItem(_)),this.listeners[_].add(D)}_removeListener(_,D){this.listeners[_]&&(this.listeners[_].delete(D),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(_,D){var N=()=>super._set,k=this;return(0,l.Z)(function*(){yield N().call(k,_,D),k.localCache[_]=JSON.stringify(D)})()}_get(_){var D=()=>super._get,N=this;return(0,l.Z)(function*(){const k=yield D().call(N,_);return N.localCache[_]=JSON.stringify(k),k})()}_remove(_){var D=()=>super._remove,N=this;return(0,l.Z)(function*(){yield D().call(N,_),delete N.localCache[_]})()}}return b.type="LOCAL",b})(),qs=(()=>{class b extends el{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(_,D){}_removeListener(_,D){}}return b.type="SESSION",b})();let nl=(()=>{class b{constructor(_){this.eventTarget=_,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(_){const D=this.receivers.find(k=>k.isListeningto(_));if(D)return D;const N=new b(_);return this.receivers.push(N),N}isListeningto(_){return this.eventTarget===_}handleEvent(_){var D=this;return(0,l.Z)(function*(){const N=_,{eventId:k,eventType:ne,data:Ne}=N.data,lt=D.handlersMap[ne];if(!lt?.size)return;N.ports[0].postMessage({status:"ack",eventId:k,eventType:ne});const Tt=Array.from(lt).map(function(){var Nn=(0,l.Z)(function*(si){return si(N.origin,Ne)});return function(si){return Nn.apply(this,arguments)}}()),Nt=yield function Qc(b){return Promise.all(b.map(function(){var m=(0,l.Z)(function*(_){try{return{fulfilled:!0,value:yield _}}catch(D){return{fulfilled:!1,reason:D}}});return function(_){return m.apply(this,arguments)}}()))}(Tt);N.ports[0].postMessage({status:"done",eventId:k,eventType:ne,response:Nt})})()}_subscribe(_,D){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[_]||(this.handlersMap[_]=new Set),this.handlersMap[_].add(D)}_unsubscribe(_,D){this.handlersMap[_]&&D&&this.handlersMap[_].delete(D),(!D||0===this.handlersMap[_].size)&&delete this.handlersMap[_],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return b.receivers=[],b})();function ea(b="",m=10){let _="";for(let D=0;D<m;D++)_+=Math.floor(10*Math.random());return b+_}class Jh{constructor(m){this.target=m,this.handlers=new Set}removeMessageHandler(m){m.messageChannel&&(m.messageChannel.port1.removeEventListener("message",m.onMessage),m.messageChannel.port1.close()),this.handlers.delete(m)}_send(m,_,D=50){var N=this;return(0,l.Z)(function*(){const k=typeof MessageChannel<"u"?new MessageChannel:null;if(!k)throw new Error("connection_unavailable");let ne,Ne;return new Promise((lt,Tt)=>{const Nt=ea("",20);k.port1.start();const Nn=setTimeout(()=>{Tt(new Error("unsupported_event"))},D);Ne={messageChannel:k,onMessage(si){const Qs=si;if(Qs.data.eventId===Nt)switch(Qs.data.status){case"ack":clearTimeout(Nn),ne=setTimeout(()=>{Tt(new Error("timeout"))},3e3);break;case"done":clearTimeout(ne),lt(Qs.data.response);break;default:clearTimeout(Nn),clearTimeout(ne),Tt(new Error("invalid_response"))}}},N.handlers.add(Ne),k.port1.addEventListener("message",Ne.onMessage),N.target.postMessage({eventType:m,eventId:Nt,data:_},[k.port2])}).finally(()=>{Ne&&N.removeMessageHandler(Ne)})})()}}function Hn(){return window}function ri(){return typeof Hn().WorkerGlobalScope<"u"&&"function"==typeof Hn().importScripts}function Es(){return(Es=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const rl="firebaseLocalStorageDb",il="firebaseLocalStorage",ta="fbase_key";class Co{constructor(m){this.request=m}toPromise(){return new Promise((m,_)=>{this.request.addEventListener("success",()=>{m(this.request.result)}),this.request.addEventListener("error",()=>{_(this.request.error)})})}}function na(b,m){return b.transaction([il],m?"readwrite":"readonly").objectStore(il)}function ql(){const b=indexedDB.open(rl,1);return new Promise((m,_)=>{b.addEventListener("error",()=>{_(b.error)}),b.addEventListener("upgradeneeded",()=>{const D=b.result;try{D.createObjectStore(il,{keyPath:ta})}catch(N){_(N)}}),b.addEventListener("success",(0,l.Z)(function*(){const D=b.result;D.objectStoreNames.contains(il)?m(D):(D.close(),yield function gd(){const b=indexedDB.deleteDatabase(rl);return new Co(b).toPromise()}(),m(yield ql()))}))})}function sl(b,m,_){return Xi.apply(this,arguments)}function Xi(){return(Xi=(0,l.Z)(function*(b,m,_){const D=na(b,!0).put({[ta]:m,value:_});return new Co(D).toPromise()})).apply(this,arguments)}function ra(){return(ra=(0,l.Z)(function*(b,m){const _=na(b,!1).get(m),D=yield new Co(_).toPromise();return void 0===D?null:D.value})).apply(this,arguments)}function Wl(b,m){const _=na(b,!0).delete(m);return new Co(_).toPromise()}const sa=(()=>{class b{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var _=this;return(0,l.Z)(function*(){return _.db||(_.db=yield ql()),_.db})()}_withRetries(_){var D=this;return(0,l.Z)(function*(){let N=0;for(;;)try{const k=yield D._openDb();return yield _(k)}catch(k){if(N++>3)throw k;D.db&&(D.db.close(),D.db=void 0)}})()}initializeServiceWorkerMessaging(){var _=this;return(0,l.Z)(function*(){return ri()?_.initializeReceiver():_.initializeSender()})()}initializeReceiver(){var _=this;return(0,l.Z)(function*(){_.receiver=nl._getInstance(function zl(){return ri()?self:null}()),_.receiver._subscribe("keyChanged",function(){var D=(0,l.Z)(function*(N,k){return{keyProcessed:(yield _._poll()).includes(k.key)}});return function(N,k){return D.apply(this,arguments)}}()),_.receiver._subscribe("ping",function(){var D=(0,l.Z)(function*(N,k){return["keyChanged"]});return function(N,k){return D.apply(this,arguments)}}())})()}initializeSender(){var _=this;return(0,l.Z)(function*(){var D,N;if(_.activeServiceWorker=yield function pd(){return Es.apply(this,arguments)}(),!_.activeServiceWorker)return;_.sender=new Jh(_.activeServiceWorker);const k=yield _.sender._send("ping",{},800);!k||(null===(D=k[0])||void 0===D?void 0:D.fulfilled)&&(null===(N=k[0])||void 0===N?void 0:N.value.includes("keyChanged"))&&(_.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(_){var D=this;return(0,l.Z)(function*(){if(D.sender&&D.activeServiceWorker&&function Jc(){var b;return(null===(b=navigator?.serviceWorker)||void 0===b?void 0:b.controller)||null}()===D.activeServiceWorker)try{yield D.sender._send("keyChanged",{key:_},D.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const _=yield ql();return yield sl(_,Cs,"1"),yield Wl(_,Cs),!0}catch{}return!1})()}_withPendingWrite(_){var D=this;return(0,l.Z)(function*(){D.pendingWrites++;try{yield _()}finally{D.pendingWrites--}})()}_set(_,D){var N=this;return(0,l.Z)(function*(){return N._withPendingWrite((0,l.Z)(function*(){return yield N._withRetries(k=>sl(k,_,D)),N.localCache[_]=D,N.notifyServiceWorker(_)}))})()}_get(_){var D=this;return(0,l.Z)(function*(){const N=yield D._withRetries(k=>function Xh(b,m){return ra.apply(this,arguments)}(k,_));return D.localCache[_]=N,N})()}_remove(_){var D=this;return(0,l.Z)(function*(){return D._withPendingWrite((0,l.Z)(function*(){return yield D._withRetries(N=>Wl(N,_)),delete D.localCache[_],D.notifyServiceWorker(_)}))})()}_poll(){var _=this;return(0,l.Z)(function*(){const D=yield _._withRetries(ne=>{const Ne=na(ne,!1).getAll();return new Co(Ne).toPromise()});if(!D)return[];if(0!==_.pendingWrites)return[];const N=[],k=new Set;for(const{fbase_key:ne,value:Ne}of D)k.add(ne),JSON.stringify(_.localCache[ne])!==JSON.stringify(Ne)&&(_.notifyListeners(ne,Ne),N.push(ne));for(const ne of Object.keys(_.localCache))_.localCache[ne]&&!k.has(ne)&&(_.notifyListeners(ne,null),N.push(ne));return N})()}notifyListeners(_,D){this.localCache[_]=D;const N=this.listeners[_];if(N)for(const k of Array.from(N))k(D)}startPolling(){var _=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return _._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(_,D){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[_]||(this.listeners[_]=new Set,this._get(_)),this.listeners[_].add(D)}_removeListener(_,D){this.listeners[_]&&(this.listeners[_].delete(D),0===this.listeners[_].size&&delete this.listeners[_]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return b.type="LOCAL",b})();function ef(b,m){return Ht(b,"POST","/v2/accounts/mfaSignIn:start",Kt(b,m))}function Or(){return(Or=(0,l.Z)(function*(b){return(yield Ht(b,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Eo(b){return new Promise((m,_)=>{const D=document.createElement("script");D.setAttribute("src",b),D.onload=m,D.onerror=N=>{const k=Ue("internal-error");k.customData=N,_(k)},D.type="text/javascript",D.charset="UTF-8",function aa(){var b,m;return null!==(m=null===(b=document.getElementsByTagName("head"))||void 0===b?void 0:b[0])&&void 0!==m?m:document}().appendChild(D)})}function la(b){return`__${b}${Math.floor(1e6*Math.random())}`}const es=1e12;class md{constructor(m){this.auth=m,this.counter=es,this._widgets=new Map}render(m,_){const D=this.counter;return this._widgets.set(D,new An(m,this.auth.name,_||{})),this.counter++,D}reset(m){var _;const D=m||es;null===(_=this._widgets.get(D))||void 0===_||_.delete(),this._widgets.delete(D)}getResponse(m){var _;return(null===(_=this._widgets.get(m||es))||void 0===_?void 0:_.getResponse())||""}execute(m){var _=this;return(0,l.Z)(function*(){var D;return null===(D=_._widgets.get(m||es))||void 0===D||D.execute(),""})()}}class An{constructor(m,_,D){this.params=D,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof m?document.getElementById(m):m;ie(N,"argument-error",{appName:_}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function xg(b){const m=[],_="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let D=0;D<b;D++)m.push(_.charAt(Math.floor(Math.random()*_.length)));return m.join("")}(50);const{callback:m,"expired-callback":_}=this.params;if(m)try{m(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,_)try{_()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const tf=la("rcb"),_w=new Qe(3e4,6e4);class ly{constructor(){var m;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(m=Hn().grecaptcha)||void 0===m||!m.render)}load(m,_=""){return ie(function nf(b){return b.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(b)}(_),m,"argument-error"),this.shouldResolveImmediately(_)?Promise.resolve(Hn().grecaptcha):new Promise((D,N)=>{const k=Hn().setTimeout(()=>{N(Ue(m,"network-request-failed"))},_w.get());Hn()[tf]=()=>{Hn().clearTimeout(k),delete Hn()[tf];const Ne=Hn().grecaptcha;if(!Ne)return void N(Ue(m,"internal-error"));const lt=Ne.render;Ne.render=(Tt,Nt)=>{const Nn=lt(Tt,Nt);return this.counter++,Nn},this.hostLanguage=_,D(Ne)},Eo(`https://www.google.com/recaptcha/api.js??${(0,H.xO)({onload:tf,render:"explicit",hl:_})}`).catch(()=>{clearTimeout(k),N(Ue(m,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(m){var _;return!(null===(_=Hn().grecaptcha)||void 0===_||!_.render)&&(m===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class yw{load(m){return(0,l.Z)(function*(){return new md(m)})()}clearedOneInstance(){}}const ua="recaptcha",cy={theme:"light",type:"image"};class Og{constructor(m,_=Object.assign({},cy),D){this.parameters=_,this.type=ua,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=wt(D),this.isInvisible="invisible"===this.parameters.size,ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof m?document.getElementById(m):m;ie(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new yw:new ly,this.validateStartingState()}verify(){var m=this;return(0,l.Z)(function*(){m.assertNotDestroyed();const _=yield m.render(),D=m.getAssertedRecaptcha();return D.getResponse(_)||new Promise(k=>{const ne=Ne=>{!Ne||(m.tokenChangeListeners.delete(ne),k(Ne))};m.tokenChangeListeners.add(ne),m.isInvisible&&D.execute(_)})})()}render(){try{this.assertNotDestroyed()}catch(m){return Promise.reject(m)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(m=>{throw this.renderPromise=null,m})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(m=>{this.container.removeChild(m)})}validateStartingState(){ie(!this.parameters.sitekey,this.auth,"argument-error"),ie(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ie(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(m){return _=>{if(this.tokenChangeListeners.forEach(D=>D(_)),"function"==typeof m)m(_);else if("string"==typeof m){const D=Hn()[m];"function"==typeof D&&D(_)}}}assertNotDestroyed(){ie(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var m=this;return(0,l.Z)(function*(){if(yield m.init(),!m.widgetId){let _=m.container;if(!m.isInvisible){const D=document.createElement("div");_.appendChild(D),_=D}m.widgetId=m.getAssertedRecaptcha().render(_,m.parameters)}return m.widgetId})()}init(){var m=this;return(0,l.Z)(function*(){ie(He()&&!ri(),m.auth,"internal-error"),yield function _r(){let b=null;return new Promise(m=>{"complete"!==document.readyState?(b=()=>m(),window.addEventListener("load",b)):m()}).catch(m=>{throw b&&window.removeEventListener("load",b),m})}(),m.recaptcha=yield m._recaptchaLoader.load(m.auth,m.auth.languageCode||void 0);const _=yield function Zl(b){return Or.apply(this,arguments)}(m.auth);ie(_,m.auth,"internal-error"),m.parameters.sitekey=_})()}getAssertedRecaptcha(){return ie(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class da{constructor(m,_){this.verificationId=m,this.onConfirmation=_}confirm(m){const _=Bo._fromVerification(this.verificationId,m);return this.onConfirmation(_)}}function Kl(b,m,_){return Fi.apply(this,arguments)}function Fi(){return(Fi=(0,l.Z)(function*(b,m,_){const D=wt(b),N=yield Li(D,m,(0,H.m9)(_));return new da(N,k=>$a(D,k))})).apply(this,arguments)}function _d(b,m,_){return Cr.apply(this,arguments)}function Cr(){return(Cr=(0,l.Z)(function*(b,m,_){const D=(0,H.m9)(b);yield Qi(!1,D,"phone");const N=yield Li(D.auth,m,(0,H.m9)(_));return new da(N,k=>Ft(D,k))})).apply(this,arguments)}function Zs(b,m,_){return ol.apply(this,arguments)}function ol(){return(ol=(0,l.Z)(function*(b,m,_){const D=(0,H.m9)(b),N=yield Li(D.auth,m,(0,H.m9)(_));return new da(N,k=>Ag(D,k))})).apply(this,arguments)}function Li(b,m,_){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,l.Z)(function*(b,m,_){var D;const N=yield _.verify();try{let k;if(ie("string"==typeof N,b,"argument-error"),ie(_.type===ua,b,"argument-error"),k="string"==typeof m?{phoneNumber:m}:m,"session"in k){const ne=k.session;if("phoneNumber"in k)return ie("enroll"===ne.type,b,"internal-error"),(yield $n(b,{idToken:ne.credential,phoneEnrollmentInfo:{phoneNumber:k.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{ie("signin"===ne.type,b,"internal-error");const Ne=(null===(D=k.multiFactorHint)||void 0===D?void 0:D.uid)||k.multiFactorUid;return ie(Ne,b,"missing-multi-factor-info"),(yield ef(b,{mfaPendingCredential:ne.credential,mfaEnrollmentId:Ne,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:ne}=yield Cg(b,{phoneNumber:k.phoneNumber,recaptchaToken:N});return ne}}finally{_._reset()}})).apply(this,arguments)}function rf(b,m){return tu.apply(this,arguments)}function tu(){return(tu=(0,l.Z)(function*(b,m){yield Ul((0,H.m9)(b),m)})).apply(this,arguments)}let Mg=(()=>{class b{constructor(_){this.providerId=b.PROVIDER_ID,this.auth=wt(_)}verifyPhoneNumber(_,D){return Li(this.auth,_,(0,H.m9)(D))}static credential(_,D){return Bo._fromVerification(_,D)}static credentialFromResult(_){return b.credentialFromTaggedObject(_)}static credentialFromError(_){return b.credentialFromTaggedObject(_.customData||{})}static credentialFromTaggedObject({_tokenResponse:_}){if(!_)return null;const{phoneNumber:D,temporaryProof:N}=_;return D&&N?Bo._fromTokenResponse(D,N):null}}return b.PROVIDER_ID="phone",b.PHONE_SIGN_IN_METHOD="phone",b})();function ha(b,m){return m?te(m):(ie(b._popupRedirectResolver,b,"argument-error"),b._popupRedirectResolver)}class sf extends Xr{constructor(m){super("custom","custom"),this.params=m}_getIdTokenResponse(m){return yo(m,this._buildIdpRequest())}_linkToIdToken(m,_){return yo(m,this._buildIdpRequest(_))}_getReauthenticationResolver(m){return yo(m,this._buildIdpRequest())}_buildIdpRequest(m){const _={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return m&&(_.idToken=m),_}}function yd(b){return jc(b.auth,new sf(b),b.bypassAuthState)}function ii(b){const{auth:m,user:_}=b;return ie(_,m,"internal-error"),Vc(_,new sf(b),b.bypassAuthState)}function Yl(b){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,l.Z)(function*(b){const{auth:m,user:_}=b;return ie(_,m,"internal-error"),Ul(_,new sf(b),b.bypassAuthState)})).apply(this,arguments)}class Ql{constructor(m,_,D,N,k=!1){this.auth=m,this.resolver=D,this.user=N,this.bypassAuthState=k,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(_)?_:[_]}execute(){var m=this;return new Promise(function(){var _=(0,l.Z)(function*(D,N){m.pendingPromise={resolve:D,reject:N};try{m.eventManager=yield m.resolver._initialize(m.auth),yield m.onExecution(),m.eventManager.registerConsumer(m)}catch(k){m.reject(k)}});return function(D,N){return _.apply(this,arguments)}}())}onAuthEvent(m){var _=this;return(0,l.Z)(function*(){const{urlResponse:D,sessionId:N,postBody:k,tenantId:ne,error:Ne,type:lt}=m;if(Ne)return void _.reject(Ne);const Tt={auth:_.auth,requestUri:D,sessionId:N,tenantId:ne||void 0,postBody:k||void 0,user:_.user,bypassAuthState:_.bypassAuthState};try{_.resolve(yield _.getIdpTask(lt)(Tt))}catch(Nt){_.reject(Nt)}})()}onError(m){this.reject(m)}getIdpTask(m){switch(m){case"signInViaPopup":case"signInViaRedirect":return yd;case"linkViaPopup":case"linkViaRedirect":return Yl;case"reauthViaPopup":case"reauthViaRedirect":return ii;default:et(this.auth,"internal-error")}}resolve(m){be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(m),this.unregisterAndCleanUp()}reject(m){be(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(m),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fa=new Qe(2e3,1e4);function vd(b,m,_){return pa.apply(this,arguments)}function pa(){return(pa=(0,l.Z)(function*(b,m,_){const D=wt(b);De(b,m,wr);const N=ha(D,_);return new Jl(D,"signInViaPopup",m,N).executeNotNull()})).apply(this,arguments)}function nu(b,m,_){return al.apply(this,arguments)}function al(){return(al=(0,l.Z)(function*(b,m,_){const D=(0,H.m9)(b);De(D.auth,m,wr);const N=ha(D.auth,_);return new Jl(D.auth,"reauthViaPopup",m,N,D).executeNotNull()})).apply(this,arguments)}function Rg(b,m,_){return bd.apply(this,arguments)}function bd(){return(bd=(0,l.Z)(function*(b,m,_){const D=(0,H.m9)(b);De(D.auth,m,wr);const N=ha(D.auth,_);return new Jl(D.auth,"linkViaPopup",m,N,D).executeNotNull()})).apply(this,arguments)}let Jl=(()=>{class b extends Ql{constructor(_,D,N,k,ne){super(_,D,k,ne),this.provider=N,this.authWindow=null,this.pollId=null,b.currentPopupAction&&b.currentPopupAction.cancel(),b.currentPopupAction=this}executeNotNull(){var _=this;return(0,l.Z)(function*(){const D=yield _.execute();return ie(D,_.auth,"internal-error"),D})()}onExecution(){var _=this;return(0,l.Z)(function*(){be(1===_.filter.length,"Popup operations only handle one event");const D=ea();_.authWindow=yield _.resolver._openPopup(_.auth,_.provider,_.filter[0],D),_.authWindow.associatedEvent=D,_.resolver._originValidation(_.auth).catch(N=>{_.reject(N)}),_.resolver._isIframeWebStorageSupported(_.auth,N=>{N||_.reject(Ue(_.auth,"web-storage-unsupported"))}),_.pollUserCancellation()})()}get eventId(){var _;return(null===(_=this.authWindow)||void 0===_?void 0:_.associatedEvent)||null}cancel(){this.reject(Ue(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,b.currentPopupAction=null}pollUserCancellation(){const _=()=>{var D,N;this.pollId=null!==(N=null===(D=this.authWindow)||void 0===D?void 0:D.window)&&void 0!==N&&N.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ue(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(_,fa.get())};_()}}return b.currentPopupAction=null,b})();const ec=new Map;class ts extends Ql{constructor(m,_,D=!1){super(m,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],_,void 0,D),this.eventId=null}execute(){var m=()=>super.execute,_=this;return(0,l.Z)(function*(){let D=ec.get(_.auth._key());if(!D){try{const k=(yield function tc(b,m){return ga.apply(this,arguments)}(_.resolver,_.auth))?yield m().call(_):null;D=()=>Promise.resolve(k)}catch(N){D=()=>Promise.reject(N)}ec.set(_.auth._key(),D)}return _.bypassAuthState||ec.set(_.auth._key(),()=>Promise.resolve(null)),D()})()}onAuthEvent(m){var _=()=>super.onAuthEvent,D=this;return(0,l.Z)(function*(){if("signInViaRedirect"===m.type)return _().call(D,m);if("unknown"!==m.type){if(m.eventId){const N=yield D.auth._redirectUserForId(m.eventId);if(N)return D.user=N,_().call(D,m);D.resolve(null)}}else D.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function ga(){return(ga=(0,l.Z)(function*(b,m){const _=ma(m),D=ll(b);if(!(yield D._isAvailable()))return!1;const N="true"===(yield D._get(_));return yield D._remove(_),N})).apply(this,arguments)}function wd(b,m){return Is.apply(this,arguments)}function Is(){return(Is=(0,l.Z)(function*(b,m){return ll(b)._set(ma(m),"true")})).apply(this,arguments)}function af(){ec.clear()}function Ss(b,m){ec.set(b._key(),m)}function ll(b){return te(b._redirectPersistence)}function ma(b){return G("pendingRedirect",b.config.apiKey,b.name)}function Dd(b,m,_){return function Yn(b,m,_){return nc.apply(this,arguments)}(b,m,_)}function nc(){return(nc=(0,l.Z)(function*(b,m,_){const D=wt(b);De(b,m,wr);const N=ha(D,_);return yield wd(N,D),N._openRedirect(D,m,"signInViaRedirect")})).apply(this,arguments)}function Cd(b,m,_){return function T(b,m,_){return I.apply(this,arguments)}(b,m,_)}function I(){return(I=(0,l.Z)(function*(b,m,_){const D=(0,H.m9)(b);De(D.auth,m,wr);const N=ha(D.auth,_);yield wd(N,D.auth);const k=yield $t(D);return N._openRedirect(D.auth,m,"reauthViaRedirect",k)})).apply(this,arguments)}function x(b,m,_){return function V(b,m,_){return X.apply(this,arguments)}(b,m,_)}function X(){return(X=(0,l.Z)(function*(b,m,_){const D=(0,H.m9)(b);De(D.auth,m,wr);const N=ha(D.auth,_);yield Qi(!1,D,m.providerId),yield wd(N,D.auth);const k=yield $t(D);return N._openRedirect(D.auth,m,"linkViaRedirect",k)})).apply(this,arguments)}function ce(b,m){return xe.apply(this,arguments)}function xe(){return(xe=(0,l.Z)(function*(b,m){return yield wt(b)._initializationPromise,Ye(b,m,!1)})).apply(this,arguments)}function Ye(b,m){return vt.apply(this,arguments)}function vt(){return(vt=(0,l.Z)(function*(b,m,_=!1){const D=wt(b),N=ha(D,m),ne=yield new ts(D,N,_).execute();return ne&&!_&&(delete ne.user._redirectEventId,yield D._persistUserIfCurrent(ne.user),yield D._setRedirectUser(null,m)),ne})).apply(this,arguments)}function $t(b){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,l.Z)(function*(b){const m=ea(`${b.uid}:::`);return b._redirectEventId=m,yield b.auth._setRedirectUser(b),yield b.auth._persistUserIfCurrent(b),m})).apply(this,arguments)}class Qn{constructor(m){this.auth=m,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(m){this.consumers.add(m),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,m)&&(this.sendToConsumer(this.queuedRedirectEvent,m),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(m){this.consumers.delete(m)}onEvent(m){if(this.hasEventBeenHandled(m))return!1;let _=!1;return this.consumers.forEach(D=>{this.isEventForConsumer(m,D)&&(_=!0,this.sendToConsumer(m,D),this.saveEventToCache(m))}),this.hasHandledPotentialRedirect||!function ul(b){switch(b.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cl(b);default:return!1}}(m)||(this.hasHandledPotentialRedirect=!0,_||(this.queuedRedirectEvent=m,_=!0)),_}sendToConsumer(m,_){var D;if(m.error&&!cl(m)){const N=(null===(D=m.error.code)||void 0===D?void 0:D.split("auth/")[1])||"internal-error";_.onError(Ue(this.auth,N))}else _.onAuthEvent(m)}isEventForConsumer(m,_){const D=null===_.eventId||!!m.eventId&&m.eventId===_.eventId;return _.filter.includes(m.type)&&D}hasEventBeenHandled(m){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zr(m))}saveEventToCache(m){this.cachedEventUids.add(zr(m)),this.lastProcessedEventTime=Date.now()}}function zr(b){return[b.type,b.eventId,b.sessionId,b.tenantId].filter(m=>m).join("-")}function cl({type:b,error:m}){return"unknown"===b&&"auth/no-auth-event"===m?.code}function Ci(b){return As.apply(this,arguments)}function As(){return(As=(0,l.Z)(function*(b,m={}){return Ht(b,"GET","/v1/projects",m)})).apply(this,arguments)}const ns=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dl=/^https?/;function is(){return(is=(0,l.Z)(function*(b){if(b.config.emulator)return;const{authorizedDomains:m}=yield Ci(b);for(const _ of m)try{if(ru(_))return}catch{}et(b,"unauthorized-domain")})).apply(this,arguments)}function ru(b){const m=$e(),{protocol:_,hostname:D}=new URL(m);if(b.startsWith("chrome-extension://")){const ne=new URL(b);return""===ne.hostname&&""===D?"chrome-extension:"===_&&b.replace("chrome-extension://","")===m.replace("chrome-extension://",""):"chrome-extension:"===_&&ne.hostname===D}if(!dl.test(_))return!1;if(ns.test(b))return D===b;const N=b.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(D)}const Ui=new Qe(3e4,6e4);function lf(){const b=Hn().___jsl;if(b?.H)for(const m of Object.keys(b.H))if(b.H[m].r=b.H[m].r||[],b.H[m].L=b.H[m].L||[],b.H[m].r=[...b.H[m].L],b.CP)for(let _=0;_<b.CP.length;_++)b.CP[_]=null}let _a=null;function uf(b){return _a=_a||function cf(b){return new Promise((m,_)=>{var D,N,k;function ne(){lf(),gapi.load("gapi.iframes",{callback:()=>{m(gapi.iframes.getContext())},ontimeout:()=>{lf(),_(Ue(b,"network-request-failed"))},timeout:Ui.get()})}if(null!==(N=null===(D=Hn().gapi)||void 0===D?void 0:D.iframes)&&void 0!==N&&N.Iframe)m(gapi.iframes.getContext());else{if(null===(k=Hn().gapi)||void 0===k||!k.load){const Ne=la("iframefcb");return Hn()[Ne]=()=>{gapi.load?ne():_(Ue(b,"network-request-failed"))},Eo(`https://apis.google.com/js/api.js?onload=${Ne}`).catch(lt=>_(lt))}ne()}}).catch(m=>{throw _a=null,m})}(b),_a}const df=new Qe(5e3,15e3),ya={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},dy=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function hf(b){const m=b.config;ie(m.authDomain,b,"auth-domain-config-required");const _=m.emulator?fn(m,"emulator/auth/iframe"):`https://${b.config.authDomain}/__/auth/iframe`,D={apiKey:m.apiKey,appName:b.name,v:P.SDK_VERSION},N=dy.get(b.config.apiHost);N&&(D.eid=N);const k=b._getFrameworks();return k.length&&(D.fw=k.join(",")),`${_}?${(0,H.xO)(D).slice(1)}`}function Ed(){return Ed=(0,l.Z)(function*(b){const m=yield uf(b),_=Hn().gapi;return ie(_,b,"internal-error"),m.open({where:document.body,url:hf(b),messageHandlersFilter:_.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ya,dontclear:!0},D=>new Promise(function(){var N=(0,l.Z)(function*(k,ne){yield D.restyle({setHideOnLeave:!1});const Ne=Ue(b,"network-request-failed"),lt=Hn().setTimeout(()=>{ne(Ne)},df.get());function Tt(){Hn().clearTimeout(lt),k(D)}D.ping(Tt).then(Tt,()=>{ne(Ne)})});return function(k,ne){return N.apply(this,arguments)}}()))}),Ed.apply(this,arguments)}const iu={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class hy{constructor(m){this.window=m,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function hl(b,m,_,D,N,k){ie(b.config.authDomain,b,"auth-domain-config-required"),ie(b.config.apiKey,b,"invalid-api-key");const ne={apiKey:b.config.apiKey,appName:b.name,authType:_,redirectUrl:D,v:P.SDK_VERSION,eventId:N};if(m instanceof wr){m.setDefaultLanguage(b.languageCode),ne.providerId=m.providerId||"",(0,H.xb)(m.getCustomParameters())||(ne.customParameters=JSON.stringify(m.getCustomParameters()));for(const[lt,Tt]of Object.entries(k||{}))ne[lt]=Tt}if(m instanceof jo){const lt=m.getScopes().filter(Tt=>""!==Tt);lt.length>0&&(ne.scopes=lt.join(","))}b.tenantId&&(ne.tid=b.tenantId);const Ne=ne;for(const lt of Object.keys(Ne))void 0===Ne[lt]&&delete Ne[lt];return`${function Ks({config:b}){return b.emulator?fn(b,"emulator/auth/handler"):`https://${b.authDomain}/__/auth/handler`}(b)}?${(0,H.xO)(Ne).slice(1)}`}const Sd="webStorageSupport",Ys=class gf{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qs,this._completeRedirectFn=Ye,this._overrideRedirectResult=Ss}_openPopup(m,_,D,N){var k=this;return(0,l.Z)(function*(){var ne;be(null===(ne=k.eventManagers[m._key()])||void 0===ne?void 0:ne.manager,"_initialize() not called before _openPopup()");const Ne=hl(m,_,D,$e(),N);return function ou(b,m,_,D=500,N=600){const k=Math.max((window.screen.availHeight-N)/2,0).toString(),ne=Math.max((window.screen.availWidth-D)/2,0).toString();let Ne="";const lt=Object.assign(Object.assign({},iu),{width:D.toString(),height:N.toString(),top:k,left:ne}),Tt=(0,H.z$)().toLowerCase();_&&(Ne=re(Tt)?"_blank":_),O(Tt)&&(m=m||"http://localhost",lt.scrollbars="yes");const Nt=Object.entries(lt).reduce((si,[Qs,yf])=>`${si}${Qs}=${yf},`,"");if(function pn(b=(0,H.z$)()){var m;return Ve(b)&&!(null===(m=window.navigator)||void 0===m||!m.standalone)}(Tt)&&"_self"!==Ne)return function pf(b,m){const _=document.createElement("a");_.href=b,_.target=m;const D=document.createEvent("MouseEvent");D.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),_.dispatchEvent(D)}(m||"",Ne),new hy(null);const Nn=window.open(m||"",Ne,Nt);ie(Nn,b,"popup-blocked");try{Nn.focus()}catch{}return new hy(Nn)}(m,Ne,ea())})()}_openRedirect(m,_,D,N){var k=this;return(0,l.Z)(function*(){return yield k._originValidation(m),function fd(b){Hn().location.href=b}(hl(m,_,D,$e(),N)),new Promise(()=>{})})()}_initialize(m){const _=m._key();if(this.eventManagers[_]){const{manager:N,promise:k}=this.eventManagers[_];return N?Promise.resolve(N):(be(k,"If manager is not set, promise should be"),k)}const D=this.initAndGetManager(m);return this.eventManagers[_]={promise:D},D.catch(()=>{delete this.eventManagers[_]}),D}initAndGetManager(m){var _=this;return(0,l.Z)(function*(){const D=yield function bw(b){return Ed.apply(this,arguments)}(m),N=new Qn(m);return D.register("authEvent",k=>(ie(k?.authEvent,m,"invalid-auth-event"),{status:N.onEvent(k.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),_.eventManagers[m._key()]={manager:N},_.iframes[m._key()]=D,N})()}_isIframeWebStorageSupported(m,_){this.iframes[m._key()].send(Sd,{type:Sd},N=>{var k;const ne=null===(k=N?.[0])||void 0===k?void 0:k[Sd];void 0!==ne&&_(!!ne),et(m,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(m){const _=m._key();return this.originValidationPromises[_]||(this.originValidationPromises[_]=function rs(b){return is.apply(this,arguments)}(m)),this.originValidationPromises[_]}get _shouldInitProactively(){return gn()||B()||Ve()}};class rc extends class mf{constructor(m){this.factorId=m}_process(m,_,D){switch(_.type){case"enroll":return this._finalizeEnroll(m,_.credential,D);case"signin":return this._finalizeSignIn(m,_.credential);default:return ue("unexpected MultiFactorSessionType")}}}{constructor(m){super("phone"),this.credential=m}static _fromCredential(m){return new rc(m)}_finalizeEnroll(m,_,D){return function $l(b,m){return Ht(b,"POST","/v2/accounts/mfaEnrollment:finalize",Kt(b,m))}(m,{idToken:_,displayName:D,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(m,_){return function oa(b,m){return Ht(b,"POST","/v2/accounts/mfaSignIn:finalize",Kt(b,m))}(m,{mfaPendingCredential:_,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let To=(()=>{class b{constructor(){}static assertion(_){return rc._fromCredential(_)}}return b.FACTOR_ID="phone",b})();var Ns="@firebase/auth",_f="0.20.10";class fy{constructor(m){this.auth=m,this.internalListeners=new Map}getUid(){var m;return this.assertAuthConfigured(),(null===(m=this.auth.currentUser)||void 0===m?void 0:m.uid)||null}getToken(m){var _=this;return(0,l.Z)(function*(){return _.assertAuthConfigured(),yield _.auth._initializationPromise,_.auth.currentUser?{accessToken:yield _.auth.currentUser.getIdToken(m)}:null})()}addAuthTokenListener(m){if(this.assertAuthConfigured(),this.internalListeners.has(m))return;const _=this.auth.onIdTokenChanged(D=>{var N;m((null===(N=D)||void 0===N?void 0:N.stsTokenManager.accessToken)||null)});this.internalListeners.set(m,_),this.updateProactiveRefresh()}removeAuthTokenListener(m){this.assertAuthConfigured();const _=this.internalListeners.get(m);!_||(this.internalListeners.delete(m),_(),this.updateProactiveRefresh())}assertAuthConfigured(){ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,H.Pz)("authIdTokenMaxAge"),function va(b){(0,P._registerComponent)(new _e.wA("auth",(m,{options:_})=>{const D=m.getProvider("app").getImmediate(),N=m.getProvider("heartbeat"),{apiKey:k,authDomain:ne}=D.options;return((Ne,lt)=>{ie(k&&!k.includes(":"),"invalid-api-key",{appName:Ne.name}),ie(!ne?.includes(":"),"argument-error",{appName:Ne.name});const Tt={apiKey:k,authDomain:ne,clientPlatform:b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Sn(b)},Nt=new Fo(Ne,lt,Tt);return function ae(b,m){const _=m?.persistence||[],D=(Array.isArray(_)?_:[_]).map(te);m?.errorMap&&b._updateErrorMap(m.errorMap),b._initializeWithPersistence(D,m?.popupRedirectResolver)}(Nt,_),Nt})(D,N)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((m,_,D)=>{m.getProvider("auth-internal").initialize()})),(0,P._registerComponent)(new _e.wA("auth-internal",m=>{const _=wt(m.getProvider("auth").getImmediate());return new fy(_)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,P.registerVersion)(Ns,_f,function kg(b){switch(b){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(b)),(0,P.registerVersion)(Ns,_f,"esm2017")}("Browser")},2090:(ft,Se,F)=>{F.d(Se,{$s:()=>st,BH:()=>zt,G6:()=>De,L:()=>fe,LL:()=>on,P0:()=>He,Pz:()=>cn,Sg:()=>Qe,UG:()=>Ce,US:()=>_e,ZB:()=>z,ZR:()=>En,aH:()=>bt,b$:()=>me,eu:()=>ie,hl:()=>Ke,jU:()=>at,m9:()=>tn,ne:()=>In,pd:()=>uo,r3:()=>Vr,ru:()=>we,tV:()=>ve,uI:()=>Fe,vZ:()=>tt,w1:()=>et,xO:()=>Cn,xb:()=>Ri,z$:()=>Ge,zI:()=>ue,zd:()=>mr});const oe=function(q){const G=[];let Y=0;for(let j=0;j<q.length;j++){let O=q.charCodeAt(j);O<128?G[Y++]=O:O<2048?(G[Y++]=O>>6|192,G[Y++]=63&O|128):55296==(64512&O)&&j+1<q.length&&56320==(64512&q.charCodeAt(j+1))?(O=65536+((1023&O)<<10)+(1023&q.charCodeAt(++j)),G[Y++]=O>>18|240,G[Y++]=O>>12&63|128,G[Y++]=O>>6&63|128,G[Y++]=63&O|128):(G[Y++]=O>>12|224,G[Y++]=O>>6&63|128,G[Y++]=63&O|128)}return G},_e={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,G){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Y=G?this.byteToCharMapWebSafe_:this.byteToCharMap_,j=[];for(let O=0;O<q.length;O+=3){const B=q[O],re=O+1<q.length,Le=re?q[O+1]:0,ct=O+2<q.length,ut=ct?q[O+2]:0;let kt=(15&Le)<<2|ut>>6,pn=63&ut;ct||(pn=64,re||(kt=64)),j.push(Y[B>>2],Y[(3&B)<<4|Le>>4],Y[kt],Y[pn])}return j.join("")},encodeString(q,G){return this.HAS_NATIVE_SUPPORT&&!G?btoa(q):this.encodeByteArray(oe(q),G)},decodeString(q,G){return this.HAS_NATIVE_SUPPORT&&!G?atob(q):function(q){const G=[];let Y=0,j=0;for(;Y<q.length;){const O=q[Y++];if(O<128)G[j++]=String.fromCharCode(O);else if(O>191&&O<224){const B=q[Y++];G[j++]=String.fromCharCode((31&O)<<6|63&B)}else if(O>239&&O<365){const ct=((7&O)<<18|(63&q[Y++])<<12|(63&q[Y++])<<6|63&q[Y++])-65536;G[j++]=String.fromCharCode(55296+(ct>>10)),G[j++]=String.fromCharCode(56320+(1023&ct))}else{const B=q[Y++],re=q[Y++];G[j++]=String.fromCharCode((15&O)<<12|(63&B)<<6|63&re)}}return G.join("")}(this.decodeStringToByteArray(q,G))},decodeStringToByteArray(q,G){this.init_();const Y=G?this.charToByteMapWebSafe_:this.charToByteMap_,j=[];for(let O=0;O<q.length;){const B=Y[q.charAt(O++)],Le=O<q.length?Y[q.charAt(O)]:0;++O;const ut=O<q.length?Y[q.charAt(O)]:64;++O;const Ve=O<q.length?Y[q.charAt(O)]:64;if(++O,null==B||null==Le||null==ut||null==Ve)throw Error();j.push(B<<2|Le>>4),64!==ut&&(j.push(Le<<4&240|ut>>2),64!==Ve&&j.push(ut<<6&192|Ve))}return j},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}},fe=function(q){return function(q){const G=oe(q);return _e.encodeByteArray(G,!0)}(q).replace(/\./g,"")},ve=function(q){try{return _e.decodeString(q,!0)}catch(G){console.error("base64Decode failed: ",G)}return null};function z(q,G){if(!(G instanceof Object))return G;switch(G.constructor){case Date:return new Date(G.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return G}for(const Y in G)!G.hasOwnProperty(Y)||!ee(Y)||(q[Y]=z(q[Y],G[Y]));return q}function ee(q){return"__proto__"!==q}function Ge(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Fe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ge())}function Ce(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function at(){return"object"==typeof self&&self.self===self}function we(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function me(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function et(){const q=Ge();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function De(){return!Ce()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ke(){return"object"==typeof indexedDB}function ie(){return new Promise((q,G)=>{try{let Y=!0;const j="validate-browser-context-for-indexeddb-analytics-module",O=self.indexedDB.open(j);O.onsuccess=()=>{O.result.close(),Y||self.indexedDB.deleteDatabase(j),q(!0)},O.onupgradeneeded=()=>{Y=!1},O.onerror=()=>{var B;G((null===(B=O.error)||void 0===B?void 0:B.message)||"")}}catch(Y){G(Y)}})}function ue(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const ae=()=>{try{return function be(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const q=process.env.__FIREBASE_DEFAULTS__;return q?JSON.parse(q):void 0})()||(()=>{if(typeof document>"u")return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const G=q&&ve(q[1]);return G&&JSON.parse(G)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},He=q=>{const G=(q=>{var G,Y;return null===(Y=null===(G=ae())||void 0===G?void 0:G.emulatorHosts)||void 0===Y?void 0:Y[q]})(q);if(!G)return;const Y=G.lastIndexOf(":");if(Y<=0||Y+1===G.length)throw new Error(`Invalid host ${G} with no separate hostname and port!`);const j=parseInt(G.substring(Y+1),10);return"["===G[0]?[G.substring(1,Y-1),j]:[G.substring(0,Y),j]},bt=()=>{var q;return null===(q=ae())||void 0===q?void 0:q.config},cn=q=>{var G;return null===(G=ae())||void 0===G?void 0:G[`_${q}`]};class zt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((G,Y)=>{this.resolve=G,this.reject=Y})}wrapCallback(G){return(Y,j)=>{Y?this.reject(Y):this.resolve(j),"function"==typeof G&&(this.promise.catch(()=>{}),1===G.length?G(Y):G(Y,j))}}}function Qe(q,G){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const j=G||"demo-project",O=q.iat||0,B=q.sub||q.user_id;if(!B)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const re=Object.assign({iss:`https://securetoken.google.com/${j}`,aud:j,iat:O,exp:O+3600,auth_time:O,sub:B,user_id:B,firebase:{sign_in_provider:"custom",identities:{}}},q);return[fe(JSON.stringify({alg:"none",type:"JWT"})),fe(JSON.stringify(re)),""].join(".")}class En extends Error{constructor(G,Y,j){super(Y),this.code=G,this.customData=j,this.name="FirebaseError",Object.setPrototypeOf(this,En.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,on.prototype.create)}}class on{constructor(G,Y,j){this.service=G,this.serviceName=Y,this.errors=j}create(G,...Y){const j=Y[0]||{},O=`${this.service}/${G}`,B=this.errors[G],re=B?function an(q,G){return q.replace(Kt,(Y,j)=>{const O=G[j];return null!=O?String(O):`<${j}?>`})}(B,j):"Error";return new En(O,`${this.serviceName}: ${re} (${O}).`,j)}}const Kt=/\{\$([^}]+)}/g;function Vr(q,G){return Object.prototype.hasOwnProperty.call(q,G)}function Ri(q){for(const G in q)if(Object.prototype.hasOwnProperty.call(q,G))return!1;return!0}function tt(q,G){if(q===G)return!0;const Y=Object.keys(q),j=Object.keys(G);for(const O of Y){if(!j.includes(O))return!1;const B=q[O],re=G[O];if(Xn(B)&&Xn(re)){if(!tt(B,re))return!1}else if(B!==re)return!1}for(const O of j)if(!Y.includes(O))return!1;return!0}function Xn(q){return null!==q&&"object"==typeof q}function Cn(q){const G=[];for(const[Y,j]of Object.entries(q))Array.isArray(j)?j.forEach(O=>{G.push(encodeURIComponent(Y)+"="+encodeURIComponent(O))}):G.push(encodeURIComponent(Y)+"="+encodeURIComponent(j));return G.length?"&"+G.join("&"):""}function mr(q){const G={};return q.replace(/^\?/,"").split("&").forEach(j=>{if(j){const[O,B]=j.split("=");G[decodeURIComponent(O)]=decodeURIComponent(B)}}),G}function uo(q){const G=q.indexOf("?");if(!G)return"";const Y=q.indexOf("#",G);return q.substring(G,Y>0?Y:void 0)}function In(q,G){const Y=new bn(q,G);return Y.subscribe.bind(Y)}class bn{constructor(G,Y){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Y,this.task.then(()=>{G(this)}).catch(j=>{this.error(j)})}next(G){this.forEachObserver(Y=>{Y.next(G)})}error(G){this.forEachObserver(Y=>{Y.error(G)}),this.close(G)}complete(){this.forEachObserver(G=>{G.complete()}),this.close()}subscribe(G,Y,j){let O;if(void 0===G&&void 0===Y&&void 0===j)throw new Error("Missing Observer.");O=function yt(q,G){if("object"!=typeof q||null===q)return!1;for(const Y of G)if(Y in q&&"function"==typeof q[Y])return!0;return!1}(G,["next","error","complete"])?G:{next:G,error:Y,complete:j},void 0===O.next&&(O.next=Pt),void 0===O.error&&(O.error=Pt),void 0===O.complete&&(O.complete=Pt);const B=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?O.error(this.finalError):O.complete()}catch{}}),this.observers.push(O),B}unsubscribeOne(G){void 0===this.observers||void 0===this.observers[G]||(delete this.observers[G],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(G){if(!this.finalized)for(let Y=0;Y<this.observers.length;Y++)this.sendOne(Y,G)}sendOne(G,Y){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[G])try{Y(this.observers[G])}catch(j){typeof console<"u"&&console.error&&console.error(j)}})}close(G){this.finalized||(this.finalized=!0,void 0!==G&&(this.finalError=G),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pt(){}function st(q,G=1e3,Y=2){const j=G*Math.pow(Y,q),O=Math.round(.5*j*(Math.random()-.5)*2);return Math.min(144e5,j+O)}function tn(q){return q&&q._delegate?q._delegate:q}},415:(ft,Se,F)=>{var l=F(4650);let H=null;function P(){return H}const de=new l.OlP("DocumentToken");let fe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function ve(){return(0,l.LFG)(z)}()},providedIn:"platform"}),n})();const W=new l.OlP("Location Initialized");let z=(()=>{class n extends fe{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return P().getBaseHref(this._doc)}onPopState(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=P().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,i){ee()?this._history.pushState(t,r,i):this.location.hash=i}replaceState(t,r,i){ee()?this._history.replaceState(t,r,i):this.location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Ge(){return new z((0,l.LFG)(de))}()},providedIn:"platform"}),n})();function ee(){return!!window.history.pushState}function Fe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ce(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function at(n){return n&&"?"!==n[0]?"?"+n:n}let we=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(nt)},providedIn:"root"}),n})();const me=new l.OlP("appBaseHref");let nt=(()=>{class n extends we{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Fe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+at(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const u=this.prepareExternalUrl(i+at(a));this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){const u=this.prepareExternalUrl(i+at(a));this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe),l.LFG(me,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),et=(()=>{class n extends we{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Fe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let u=this.prepareExternalUrl(i+at(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.pushState(t,r,u)}replaceState(t,r,i,a){let u=this.prepareExternalUrl(i+at(a));0==u.length&&(u=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,u)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(fe),l.LFG(me,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ue=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=Ce(Ke(r)),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+at(r))}normalize(t){return n.stripTrailingSlash(function De(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,Ke(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+at(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+at(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=at,n.joinWithSlash=Fe,n.stripTrailingSlash=Ce,n.\u0275fac=function(t){return new(t||n)(l.LFG(we))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Re(){return new Ue((0,l.LFG)(we))}()},providedIn:"root"}),n})();function Ke(n){return n.replace(/\/index.html$/,"")}class mo{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let $r=(()=>{class n{constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,a,u)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new mo(i.item,this._ngForOf,-1,-1),null===u?void 0:u);else if(null==u)r.remove(null===a?void 0:a);else if(null!==a){const h=r.get(a);r.move(h,u),_o(h,i)}});for(let i=0,a=r.length;i<a;i++){const h=r.get(i).context;h.index=i,h.count=a,h.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{_o(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function _o(n,e){n.context.$implicit=e.item}let hn=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new jh,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){tr("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){tr("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class jh{constructor(){this.$implicit=null,this.ngIf=null}}function tr(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let ti=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();function Ho(n){return"server"===n}let td=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new $h((0,l.LFG)(de),window)}),n})();class $h{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Dr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const u=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(u)return u}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Pi(this.window.history)||Pi(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Pi(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Gs extends class od extends class _e{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function le(n){H||(H=n)}(new Gs)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ad(){return zs=zs||document.querySelector("base"),zs?zs.getAttribute("href"):null}();return null==t?null:function Ds(n){Rn=Rn||document.createElement("a"),Rn.setAttribute("href",n);const e=Rn.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){zs=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Pc(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let Rn,zs=null;const Pn=new l.OlP("TRANSITION_ID"),zc=[{provide:l.ip1,useFactory:function ld(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=P(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let a=0;a<i.length;a++)r.remove(i[a])})}},deps:[Pn,de,l.zs3],multi:!0}];let qc=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Wc=new l.OlP("EventManagerPlugins");let Zc=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let a=0;a<i.length;a++){const u=i[a];if(u.supports(t))return this._eventNameToPlugin.set(t,u),u}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Wc),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class jl{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=P().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Qo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Jo=(()=>{class n extends Qo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(a=>{const u=this._doc.createElement("style");u.textContent=a,i.push(r.appendChild(u))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(cd),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(cd))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function cd(n){P().remove(n)}const Xo={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ud=/%COMP%/g;function Hl(n,e,t){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?Hl(n,i,t):(i=i.replace(ud,n),t.push(i))}return t}function Gl(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Xa=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new Cs(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case l.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new hd(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case 1:case l.ifc.ShadowDom:return new Yh(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=Hl(r.id,r.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Zc),l.LFG(Jo),l.LFG(l.AFp))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Cs{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(Xo[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(tl(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(tl(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=Xo[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=Xo[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Gl(r)):this.eventManager.addEventListener(e,t,Gl(r))}}function tl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class hd extends Cs{constructor(e,t,r,i){super(e),this.component=r;const a=Hl(i+"-"+r.id,r.styles,[]);t.addStyles(a),this.contentAttr=function $n(n){return"_ngcontent-%COMP%".replace(ud,n)}(i+"-"+r.id),this.hostAttr=function $l(n){return"_nghost-%COMP%".replace(ud,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class Yh extends Cs{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const a=Hl(i.id,i.styles,[]);for(let u=0;u<a.length;u++){const h=document.createElement("style");h.textContent=a[u],this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let ir=(()=>{class n extends jl{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Qh=["alt","control","meta","shift"],qs={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let nl=(()=>{class n extends jl{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),u=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>P().onAndCancel(t,a.domEventName,u))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let u="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),u="code."),Qh.forEach(v=>{const C=r.indexOf(v);C>-1&&(r.splice(C,1),u+=v+".")}),u+=a,0!=r.length||0===a.length)return null;const g={};return g.domEventName=i,g.fullKey=u,g}static matchEventFullKeyCode(t,r){let i=qs[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Qh.forEach(u=>{u!==i&&(0,Qc[u])(t)&&(a+=u+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const rl=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:"browser"},{provide:l.g9A,useValue:function pd(){Gs.makeCurrent()},multi:!0},{provide:de,useFactory:function Jc(){return(0,l.RDi)(document),document},deps:[]}]),Do=new l.OlP(""),il=[{provide:l.rWj,useClass:class Zh{addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new Error("Could not find testability for element.");return a},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let a=i.length,u=!1;const h=function(g){u=u||g,a--,0==a&&r(u)};i.forEach(function(g){g.whenStable(h)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?P().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],ta=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Es(){return new l.qLn},deps:[]},{provide:Wc,useClass:ir,multi:!0,deps:[de,l.R0b,l.Lbi]},{provide:Wc,useClass:nl,multi:!0,deps:[de]},{provide:Xa,useClass:Xa,deps:[Zc,Jo,l.AFp]},{provide:l.FYo,useExisting:Xa},{provide:Qo,useExisting:Jo},{provide:Jo,useClass:Jo,deps:[de]},{provide:Zc,useClass:Zc,deps:[Wc,l.R0b]},{provide:class Go{},useClass:qc,deps:[]},[]];let Co=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:Pn,useExisting:l.AFp},zc]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Do,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...ta,...il],imports:[ti,l.hGG]}),n})(),Xi=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function sl(){return new Xi((0,l.LFG)(de))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;let ua=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new(t||n):l.LFG(Og),r},providedIn:"root"}),n})(),Og=(()=>{class n extends ua{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case l.q3G.NONE:return r;case l.q3G.HTML:return(0,l.qzn)(r,"HTML")?(0,l.z3N)(r):(0,l.EiD)(this._doc,String(r)).toString();case l.q3G.STYLE:return(0,l.qzn)(r,"Style")?(0,l.z3N)(r):r;case l.q3G.SCRIPT:if((0,l.qzn)(r,"Script"))return(0,l.z3N)(r);throw new Error("unsafe value used in a script context");case l.q3G.URL:return(0,l.qzn)(r,"URL")?(0,l.z3N)(r):(0,l.mCW)(String(r));case l.q3G.RESOURCE_URL:if((0,l.qzn)(r,"ResourceURL"))return(0,l.z3N)(r);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,l.JVY)(t)}bypassSecurityTrustStyle(t){return(0,l.L6k)(t)}bypassSecurityTrustScript(t){return(0,l.eBb)(t)}bypassSecurityTrustUrl(t){return(0,l.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,l.pB0)(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function cy(n){return new Og(n.get(de))}(l.LFG(l.zs3)),r},providedIn:"root"}),n})();class da{}const Fi="*";function _d(n,e){return{type:7,name:n,definitions:e,options:{}}}function Cr(n,e=null){return{type:4,styles:e,timings:n}}function ol(n,e=null){return{type:2,steps:n,options:e}}function Li(n){return{type:6,styles:n,offset:null}}function Ts(n,e,t){return{type:0,name:n,styles:e,options:t}}function tu(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}function Yl(n){Promise.resolve().then(n)}class Gr{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Yl(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class Ql{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const a=this.players.length;0==a?Yl(()=>this._onFinish()):this.players.forEach(u=>{u.onDone(()=>{++t==a&&this._onFinish()}),u.onDestroy(()=>{++r==a&&this._onDestroy()}),u.onStart(()=>{++i==a&&this._onStart()})}),this.totalTime=this.players.reduce((u,h)=>Math.max(u,h.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function pa(n){return new l.vHH(3e3,!1)}function Ci(){return typeof window<"u"&&typeof window.document<"u"}function As(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function ns(n){switch(n.length){case 0:return new Gr;case 1:return n[0];default:return new Ql(n)}}function dl(n,e,t,r,i=new Map,a=new Map){const u=[],h=[];let g=-1,v=null;if(r.forEach(C=>{const S=C.get("offset"),R=S==g,L=R&&v||new Map;C.forEach(($,K)=>{let J=K,Te=$;if("offset"!==K)switch(J=e.normalizePropertyName(J,u),Te){case"!":Te=i.get(K);break;case Fi:Te=a.get(K);break;default:Te=e.normalizeStyleValue(K,J,Te,u)}L.set(J,Te)}),R||h.push(L),v=L,g=S}),u.length)throw function V(n){return new l.vHH(3502,!1)}();return h}function rs(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&is(t,"start",n)));break;case"done":n.onDone(()=>r(t&&is(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&is(t,"destroy",n)))}}function is(n,e,t){const a=ru(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),u=n._data;return null!=u&&(a._data=u),a}function ru(n,e,t,r,i="",a=0,u){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:a,disabled:!!u}}function Ui(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function lf(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let cf=(n,e)=>!1,_a=(n,e,t)=>[],uf=null;function df(n){const e=n.parentNode||n.host;return e===uf?null:e}(As()||typeof Element<"u")&&(Ci()?(uf=(()=>document.documentElement)(),cf=(n,e)=>{for(;e;){if(e===n)return!0;e=df(e)}return!1}):cf=(n,e)=>n.contains(e),_a=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let ya=null,dy=!1;const iu=cf,Td=_a;let Pg=(()=>{class n{validateStyleProperty(t){return function hf(n){ya||(ya=function Ed(){return typeof document<"u"?document.body:null}()||{},dy=!!ya.style&&"WebkitAppearance"in ya.style);let e=!0;return ya.style&&!function vw(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in ya.style,!e&&dy&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in ya.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return iu(t,r)}getParentElement(t){return df(t)}query(t,r,i){return Td(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,a,u,h=[],g){return new Gr(i,a)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),ff=(()=>{class n{}return n.NOOP=new Pg,n})();const Id="ng-enter",au="ng-leave",hl="ng-trigger",Ks=".ng-trigger",Sd="ng-animating",gf=".ng-animating";function Ys(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:mf(parseFloat(e[1]),e[2])}function mf(n,e){return"s"===e?1e3*n:n}function rc(n,e,t){return n.hasOwnProperty("duration")?n:function To(n,e,t){let i,a=0,u="";if("string"==typeof n){const h=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===h)return e.push(pa()),{duration:0,delay:0,easing:""};i=mf(parseFloat(h[1]),h[2]);const g=h[3];null!=g&&(a=mf(parseFloat(g),h[4]));const v=h[5];v&&(u=v)}else i=n;if(!t){let h=!1,g=e.length;i<0&&(e.push(function nu(){return new l.vHH(3100,!1)}()),h=!0),a<0&&(e.push(function al(){return new l.vHH(3101,!1)}()),h=!0),h&&e.splice(g,0,pa())}return{duration:i,delay:a,easing:u}}(n,e,t)}function Ns(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function _f(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function va(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function Fg(n,e,t){return t?e+":"+t+";":""}function Lg(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=Fg(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=Fg(0,Ne(t),n.style[t]));n.setAttribute("style",e)}function ss(n,e,t){n.style&&(e.forEach((r,i)=>{const a=ne(i);t&&!t.has(i)&&t.set(i,n.style[a]),n.style[a]=r}),As()&&Lg(n))}function fl(n,e){n.style&&(e.forEach((t,r)=>{const i=ne(r);n.style[i]=""}),As()&&Lg(n))}function Ad(n){return Array.isArray(n)?1==n.length?n[0]:ol(n):n}const m=new RegExp("{{\\s*(.+?)\\s*}}","g");function _(n){let e=[];if("string"==typeof n){let t;for(;t=m.exec(n);)e.push(t[1]);m.lastIndex=0}return e}function D(n,e,t){const r=n.toString(),i=r.replace(m,(a,u)=>{let h=e[u];return null==h&&(t.push(function bd(n){return new l.vHH(3003,!1)}()),h=""),h.toString()});return i==r?n:i}function N(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const k=/-+([a-z0-9])/g;function ne(n){return n.replace(k,(...e)=>e[1].toUpperCase())}function Ne(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function Nt(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Jl(n){return new l.vHH(3004,!1)}()}}function Nn(n,e){return window.getComputedStyle(n)[e]}function wf(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function lu(n,e,t){if(":"==n[0]){const g=function Nd(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Cd(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof g)return void e.push(g);n=g}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function nc(n){return new l.vHH(3015,!1)}()),e;const i=r[1],a=r[2],u=r[3];e.push(Un(i,u));"<"==a[0]&&!("*"==i&&"*"==u)&&e.push(Un(u,i))}(r,t,e)):t.push(n),t}const pl=new Set(["true","1"]),xd=new Set(["false","0"]);function Un(n,e){const t=pl.has(n)||xd.has(n),r=pl.has(e)||xd.has(e);return(i,a)=>{let u="*"==n||n==i,h="*"==e||e==a;return!u&&t&&"boolean"==typeof i&&(u=i?pl.has(n):xd.has(n)),!h&&r&&"boolean"==typeof a&&(h=a?pl.has(e):xd.has(e)),u&&h}}const ST=new RegExp("s*:selfs*,?","g");function Cf(n,e,t,r){return new AT(n).build(e,t,r)}class AT{constructor(e){this._driver=e}build(e,t,r){const i=new OT(t);return this._resetContextStyleTimingState(i),Nt(this,Ad(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const a=[],u=[];return"@"==e.name.charAt(0)&&t.errors.push(function ec(){return new l.vHH(3006,!1)}()),e.definitions.forEach(h=>{if(this._resetContextStyleTimingState(t),0==h.type){const g=h,v=g.name;v.toString().split(/\s*,\s*/).forEach(C=>{g.name=C,a.push(this.visitState(g,t))}),g.name=v}else if(1==h.type){const g=this.visitTransition(h,t);r+=g.queryCount,i+=g.depCount,u.push(g)}else t.errors.push(function ts(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:a,transitions:u,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const a=new Set,u=i||{};r.styles.forEach(h=>{h instanceof Map&&h.forEach(g=>{_(g).forEach(v=>{u.hasOwnProperty(v)||a.add(v)})})}),a.size&&(N(a.values()),t.errors.push(function tc(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Nt(this,Ad(e.animation),t);return{type:1,matchers:wf(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Od(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Nt(this,r,t)),options:Od(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const a=e.steps.map(u=>{t.currentTime=r;const h=Nt(this,u,t);return i=Math.max(i,t.currentTime),h});return t.currentTime=i,{type:3,steps:a,options:Od(e.options)}}visitAnimate(e,t){const r=function BM(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return cu(rc(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(a=>"{"==a.charAt(0)&&"{"==a.charAt(1))){const a=cu(0,0,"");return a.dynamic=!0,a.strValue=t,a}const i=rc(t,e);return cu(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,a=e.styles?e.styles:Li({});if(5==a.type)i=this.visitKeyframes(a,t);else{let u=e.styles,h=!1;if(!u){h=!0;const v={};r.easing&&(v.easing=r.easing),u=Li(v)}t.currentTime+=r.duration+r.delay;const g=this.visitStyle(u,t);g.isEmptyStep=h,i=g}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let h of i)"string"==typeof h?h===Fi?r.push(h):t.errors.push(new l.vHH(3002,!1)):r.push(_f(h));let a=!1,u=null;return r.forEach(h=>{if(h instanceof Map&&(h.has("easing")&&(u=h.get("easing"),h.delete("easing")),!a))for(let g of h.values())if(g.toString().indexOf("{{")>=0){a=!0;break}}),{type:6,styles:r,easing:u,offset:e.offset,containsDynamicStyles:a,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach(u=>{"string"!=typeof u&&u.forEach((h,g)=>{const v=t.collectedStyles.get(t.currentQuerySelector),C=v.get(g);let S=!0;C&&(a!=i&&a>=C.startTime&&i<=C.endTime&&(t.errors.push(function Is(n,e,t,r,i){return new l.vHH(3010,!1)}()),S=!1),a=C.startTime),S&&v.set(g,{startTime:a,endTime:i}),t.options&&function b(n,e,t){const r=e.params||{},i=_(n);i.length&&i.forEach(a=>{r.hasOwnProperty(a)||t.push(function Rg(n){return new l.vHH(3001,!1)}())})}(h,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function af(){return new l.vHH(3011,!1)}()),r;let a=0;const u=[];let h=!1,g=!1,v=0;const C=e.steps.map(Te=>{const Pe=this._makeStyleAst(Te,t);let je=null!=Pe.offset?Pe.offset:function MT(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Pe.styles),Oe=0;return null!=je&&(a++,Oe=Pe.offset=je),g=g||Oe<0||Oe>1,h=h||Oe<v,v=Oe,u.push(Oe),Pe});g&&t.errors.push(function Ss(){return new l.vHH(3012,!1)}()),h&&t.errors.push(function ll(){return new l.vHH(3200,!1)}());const S=e.steps.length;let R=0;a>0&&a<S?t.errors.push(function ma(){return new l.vHH(3202,!1)}()):0==a&&(R=1/(S-1));const L=S-1,$=t.currentTime,K=t.currentAnimateTimings,J=K.duration;return C.forEach((Te,Pe)=>{const je=R>0?Pe==L?1:R*Pe:u[Pe],Oe=je*J;t.currentTime=$+K.delay+Oe,K.duration=Oe,this._validateStyleAst(Te,t),Te.offset=je,r.styles.push(Te)}),r}visitReference(e,t){return{type:8,animation:Nt(this,Ad(e.animation),t),options:Od(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:Od(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:Od(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[a,u]=function NT(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(ST,"")),n=n.replace(/@\*/g,Ks).replace(/@\w+/g,t=>Ks+"-"+t.slice(1)).replace(/:animating/g,gf),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+a:a,Ui(t.collectedStyles,t.currentQuerySelector,new Map);const h=Nt(this,Ad(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:a,limit:i.limit||0,optional:!!i.optional,includeSelf:u,animation:h,originalSelector:e.selector,options:Od(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Dd(){return new l.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:rc(e.timings,t.errors,!0);return{type:12,animation:Nt(this,Ad(e.animation),t),timings:r,options:null}}}class OT{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Od(n){return n?(n=Ns(n)).params&&(n.params=function xT(n){return n?Ns(n):null}(n.params)):n={},n}function cu(n,e,t){return{duration:n,delay:e,easing:t}}function Ef(n,e,t,r,i,a,u=null,h=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:u,subTimeline:h}}class Tf{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const RT=new RegExp(":enter","g"),Ew=new RegExp(":leave","g");function If(n,e,t,r,i,a=new Map,u=new Map,h,g,v=[]){return(new VM).buildKeyframes(n,e,t,r,i,a,u,h,g,v)}class VM{buildKeyframes(e,t,r,i,a,u,h,g,v,C=[]){v=v||new Tf;const S=new Sf(e,t,v,i,a,C,[]);S.options=g;const R=g.delay?Ys(g.delay):0;S.currentTimeline.delayNextStep(R),S.currentTimeline.setStyles([u],null,S.errors,g),Nt(this,r,S);const L=S.timelines.filter($=>$.containsAnimation());if(L.length&&h.size){let $;for(let K=L.length-1;K>=0;K--){const J=L[K];if(J.element===t){$=J;break}}$&&!$.allowOnlyTimelineStyles()&&$.setStyles([h],null,S.errors,g)}return L.length?L.map($=>$.buildKeyframes()):[Ef(t,[],[],[],0,R,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),a=t.currentTimeline.currentTime,u=this._visitSubInstructions(r,i,i.options);a!=u&&t.transformIntoNewTimeline(u)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const a=i?.delay;if(a){const u="number"==typeof a?a:Ys(D(a,i?.params??{},t.errors));r.delayNextStep(u)}}}_visitSubInstructions(e,t,r){let a=t.currentTimeline.currentTime;const u=null!=r.duration?Ys(r.duration):null,h=null!=r.delay?Ys(r.delay):null;return 0!==u&&e.forEach(g=>{const v=t.appendInstructionToTimeline(g,u,h);a=Math.max(a,v.duration+v.delay)}),a}visitReference(e,t){t.updateOptions(e.options,!0),Nt(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const a=e.options;if(a&&(a.params||a.delay)&&(i=t.createSubContext(a),i.transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Ug);const u=Ys(a.delay);i.delayNextStep(u)}e.steps.length&&(e.steps.forEach(u=>Nt(this,u,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const a=e.options&&e.options.delay?Ys(e.options.delay):0;e.steps.forEach(u=>{const h=t.createSubContext(e.options);a&&h.delayNextStep(a),Nt(this,u,h),i=Math.max(i,h.currentTimeline.currentTime),r.push(h.currentTimeline)}),r.forEach(u=>t.currentTimeline.mergeTimelineCollectedStyles(u)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return rc(t.params?D(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const a=e.style;5==a.type?this.visitKeyframes(a,t):(t.incrementTime(r.duration),this.visitStyle(a,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const a=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(a):r.setStyles(e.styles,a,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,a=r.duration,h=t.createSubContext().currentTimeline;h.easing=r.easing,e.styles.forEach(g=>{h.forwardTime((g.offset||0)*a),h.setStyles(g.styles,g.easing,t.errors,t.options),h.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(h),t.transformIntoNewTimeline(i+a),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Ys(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ug);let u=r;const h=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=h.length;let g=null;h.forEach((v,C)=>{t.currentQueryIndex=C;const S=t.createSubContext(e.options,v);a&&S.delayNextStep(a),v===t.element&&(g=S.currentTimeline),Nt(this,e.animation,S),S.currentTimeline.applyStylesToKeyframe(),u=Math.max(u,S.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(u),g&&(t.currentTimeline.mergeTimelineCollectedStyles(g),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,a=e.timings,u=Math.abs(a.duration),h=u*(t.currentQueryTotal-1);let g=u*t.currentQueryIndex;switch(a.duration<0?"reverse":a.easing){case"reverse":g=h-g;break;case"full":g=r.currentStaggerTime}const C=t.currentTimeline;g&&C.delayNextStep(g);const S=C.currentTime;Nt(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-S+(i.startTime-r.currentTimeline.startTime)}}const Ug={};class Sf{constructor(e,t,r,i,a,u,h,g){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=u,this.timelines=h,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ug,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=g||new Af(this._driver,t,0),h.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Ys(r.duration)),null!=r.delay&&(i.delay=Ys(r.delay));const a=r.params;if(a){let u=i.params;u||(u=this.options.params={}),Object.keys(a).forEach(h=>{(!t||!u.hasOwnProperty(h))&&(u[h]=D(a[h],u,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,a=new Sf(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(e),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}transformIntoNewTimeline(e){return this.previousNode=Ug,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},a=new Tw(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(a),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,a,u){let h=[];if(i&&h.push(this.element),e.length>0){e=(e=e.replace(RT,"."+this._enterClassName)).replace(Ew,"."+this._leaveClassName);let v=this._driver.query(this.element,e,1!=r);0!==r&&(v=r<0?v.slice(v.length+r,v.length):v.slice(0,r)),h.push(...v)}return!a&&0==h.length&&u.push(function Yn(n){return new l.vHH(3014,!1)}()),h}}class Af{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Af(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Fi),this._currentKeyframe.set(t,Fi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const a=i&&i.params||{},u=function PT(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let a of r)t.set(a,Fi)}else va(i,t)}),t}(e,this._globalTimelineStyles);for(let[h,g]of u){const v=D(g,a,r);this._pendingStyles.set(h,v),this._localTimelineStyles.has(h)||this._backFill.set(h,this._globalTimelineStyles.get(h)??Fi),this._updateStyle(h,v)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((h,g)=>{const v=va(h,new Map,this._backFill);v.forEach((C,S)=>{"!"===C?e.add(S):C===Fi&&t.add(S)}),r||v.set("offset",g/this.duration),i.push(v)});const a=e.size?N(e.values()):[],u=t.size?N(t.values()):[];if(r){const h=i[0],g=new Map(h);h.set("offset",0),g.set("offset",1),i=[h,g]}return Ef(this.element,i,a,u,this.duration,this.startTime,this.easing,!1)}}class Tw extends Af{constructor(e,t,r,i,a,u,h=!1){super(e,t,u.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=a,this._stretchStartingKeyframe=h,this.timings={duration:u.duration,delay:u.delay,easing:u.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const a=[],u=r+t,h=t/u,g=va(e[0]);g.set("offset",0),a.push(g);const v=va(e[0]);v.set("offset",sc(h)),a.push(v);const C=e.length-1;for(let S=1;S<=C;S++){let R=va(e[S]);const L=R.get("offset");R.set("offset",sc((t+L*r)/u)),a.push(R)}r=u,t=0,i="",e=a}return Ef(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function sc(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class Md{}const _y=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Bg extends Md{normalizePropertyName(e,t){return ne(e)}normalizeStyleValue(e,t,r,i){let a="";const u=r.toString().trim();if(_y.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)a="px";else{const h=r.match(/^[+-]?[\d\.]+([a-z]*)$/);h&&0==h[1].length&&i.push(function Xl(n,e){return new l.vHH(3005,!1)}())}return u+a}}function oc(n,e,t,r,i,a,u,h,g,v,C,S,R){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:a,toState:r,toStyles:u,timelines:h,queriedElements:g,preStyleProps:v,postStyleProps:C,totalTime:S,errors:R}}const Vg={};class jg{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function kT(n,e,t,r,i){return n.some(a=>a(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,a,u,h,g,v,C){const S=[],R=this.ast.options&&this.ast.options.params||Vg,$=this.buildStyles(r,h&&h.params||Vg,S),K=g&&g.params||Vg,J=this.buildStyles(i,K,S),Te=new Set,Pe=new Map,je=new Map,Oe="void"===i,qe={params:Sw(K,R),delay:this.ast.options?.delay},Ze=C?[]:If(e,t,this.ast.animation,a,u,$,J,qe,v,S);let ht=0;if(Ze.forEach(Dn=>{ht=Math.max(Dn.duration+Dn.delay,ht)}),S.length)return oc(t,this._triggerName,r,i,Oe,$,J,[],[],Pe,je,ht,S);Ze.forEach(Dn=>{const kn=Dn.element,gr=Ui(Pe,kn,new Set);Dn.preStyleProps.forEach(vr=>gr.add(vr));const Ki=Ui(je,kn,new Set);Dn.postStyleProps.forEach(vr=>Ki.add(vr)),kn!==t&&Te.add(kn)});const Vt=N(Te.values());return oc(t,this._triggerName,r,i,Oe,$,J,Ze,Vt,Pe,je,ht)}}function Sw(n,e){const t=Ns(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Rd{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=Ns(this.defaultParams);return Object.keys(e).forEach(a=>{const u=e[a];null!==u&&(i[a]=u)}),this.styles.styles.forEach(a=>{"string"!=typeof a&&a.forEach((u,h)=>{u&&(u=D(u,i,t));const g=this.normalizer.normalizePropertyName(h,t);u=this.normalizer.normalizeStyleValue(h,g,u,t),r.set(g,u)})}),r}}class LT{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Rd(i.style,i.options&&i.options.params||{},r))}),Aw(this.states,"true","1"),Aw(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new jg(e,i,this.states))}),this.fallbackTransition=function UT(n,e,t){return new jg(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(u,h)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(u=>u.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function Aw(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const yy=new Tf;class BT{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],a=Cf(this._driver,t,r,[]);if(r.length)throw function X(n){return new l.vHH(3503,!1)}();this._animations.set(e,a)}_buildPlayer(e,t,r){const i=e.element,a=dl(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,a,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],a=this._animations.get(e);let u;const h=new Map;if(a?(u=If(this._driver,t,a,Id,au,new Map,new Map,r,yy,i),u.forEach(C=>{const S=Ui(h,C.element,new Map);C.postStyleProps.forEach(R=>S.set(R,null))})):(i.push(function ce(){return new l.vHH(3300,!1)}()),u=[]),i.length)throw function xe(n){return new l.vHH(3504,!1)}();h.forEach((C,S)=>{C.forEach((R,L)=>{C.set(L,this._driver.computeStyle(S,L,Fi))})});const v=ns(u.map(C=>{const S=h.get(C.element);return this._buildPlayer(C,new Map,S)}));return this._playersById.set(e,v),v.onDestroy(()=>this.destroy(e)),this.players.push(v),v}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function Ye(n){return new l.vHH(3301,!1)}();return t}listen(e,t,r,i){const a=ru(t,"","","");return rs(this._getPlayer(e),r,a,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const a=this._getPlayer(e);switch(r){case"play":a.play();break;case"pause":a.pause();break;case"reset":a.reset();break;case"restart":a.restart();break;case"finish":a.finish();break;case"init":a.init();break;case"setPosition":a.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const vy="ng-animate-queued",$g="ng-animate-disabled",$T=[],uu={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},xf={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Js="__ng_removed";class Nw{constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function wy(n){return n??null}(r?e.value:e),r){const a=Ns(e);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Pd="void",by=new Nw(Pd);class HT{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,os(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function vt(n,e){return new l.vHH(3302,!1)}();if(null==r||0==r.length)throw function $t(n){return new l.vHH(3303,!1)}();if(!function zT(n){return"start"==n||"done"==n}(r))throw function Gt(n,e){return new l.vHH(3400,!1)}();const a=Ui(this._elementListeners,e,[]),u={name:t,phase:r,callback:i};a.push(u);const h=Ui(this._engine.statesByElement,e,new Map);return h.has(t)||(os(e,hl),os(e,hl+"-"+t),h.set(t,by)),()=>{this._engine.afterFlush(()=>{const g=a.indexOf(u);g>=0&&a.splice(g,1),this._triggers.has(t)||h.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function Dt(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const a=this._getTrigger(t),u=new Hg(this.id,t,e);let h=this._engine.statesByElement.get(e);h||(os(e,hl),os(e,hl+"-"+t),this._engine.statesByElement.set(e,h=new Map));let g=h.get(t);const v=new Nw(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&g&&v.absorbOptions(g.options),h.set(t,v),g||(g=by),v.value!==Pd&&g.value===v.value){if(!function qM(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const a=t[i];if(!e.hasOwnProperty(a)||n[a]!==e[a])return!1}return!0}(g.params,v.params)){const K=[],J=a.matchStyles(g.value,g.params,K),Te=a.matchStyles(v.value,v.params,K);K.length?this._engine.reportError(K):this._engine.afterFlush(()=>{fl(e,J),ss(e,Te)})}return}const R=Ui(this._engine.playersByElement,e,[]);R.forEach(K=>{K.namespaceId==this.id&&K.triggerName==t&&K.queued&&K.destroy()});let L=a.matchTransition(g.value,v.value,e,v.params),$=!1;if(!L){if(!i)return;L=a.fallbackTransition,$=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:L,fromState:g,toState:v,player:u,isFallbackTransition:$}),$||(os(e,vy),u.onStart(()=>{Of(e,vy)})),u.onDone(()=>{let K=this.players.indexOf(u);K>=0&&this.players.splice(K,1);const J=this._engine.playersByElement.get(e);if(J){let Te=J.indexOf(u);Te>=0&&J.splice(Te,1)}}),this.players.push(u),R.push(u),u}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,Ks,!0);r.forEach(i=>{if(i[Js])return;const a=this._engine.fetchNamespacesByElement(i);a.size?a.forEach(u=>u.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const a=this._engine.statesByElement.get(e),u=new Map;if(a){const h=[];if(a.forEach((g,v)=>{if(u.set(v,g.value),this._triggers.has(v)){const C=this.trigger(e,v,Pd,i);C&&h.push(C)}}),h.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,u),r&&ns(h).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(a=>{const u=a.name;if(i.has(u))return;i.add(u);const g=this._triggers.get(u).fallbackTransition,v=r.get(u)||by,C=new Nw(Pd),S=new Hg(this.id,u,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:u,transition:g,fromState:v,toState:C,player:S,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else{let u=e;for(;u=u.parentNode;)if(r.statesByElement.get(u)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const a=e[Js];(!a||a===uu)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){os(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const a=r.element,u=this._elementListeners.get(a);u&&u.forEach(h=>{if(h.name==r.triggerName){const g=ru(a,r.triggerName,r.fromState.value,r.toState.value);g._data=e,rs(r.player,h.phase,g,h.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const a=r.transition.ast.depCount,u=i.transition.ast.depCount;return 0==a||0==u?a-u:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class GT{constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,a)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new HT(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let u=!1,h=this.driver.getParentElement(t);for(;h;){const g=i.get(h);if(g){const v=r.indexOf(g);r.splice(v+1,0,e),u=!0;break}h=this.driver.getParentElement(h)}u||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const a=this._fetchNamespace(i.namespaceId);a&&t.add(a)}return t}trigger(e,t,r,i){if(Gg(t)){const a=this._fetchNamespace(e);if(a)return a.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!Gg(t))return;const a=t[Js];if(a&&a.setForRemoval){a.setForRemoval=!1,a.setForMove=!0;const u=this.collectedLeaveElements.indexOf(t);u>=0&&this.collectedLeaveElements.splice(u,1)}if(e){const u=this._fetchNamespace(e);u&&u.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),os(e,$g)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),Of(e,$g))}removeNode(e,t,r,i){if(Gg(t)){const a=e?this._fetchNamespace(e):null;if(a?a.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const u=this.namespacesByHostElement.get(t);u&&u.id!==e&&u.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,a){this.collectedLeaveElements.push(t),t[Js]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:a}}listen(e,t,r,i,a){return Gg(t)?this._fetchNamespace(e).listen(t,r,i,a):()=>{}}_buildInstruction(e,t,r,i,a){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,a)}destroyInnerAnimations(e){let t=this.driver.query(e,Ks,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,gf,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return ns(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Js];if(t&&t.setForRemoval){if(e[Js]=uu,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains($g)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)os(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?ns(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function Qn(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new Tf,i=[],a=new Map,u=[],h=new Map,g=new Map,v=new Map,C=new Set;this.disabledNodes.forEach(ot=>{C.add(ot);const mt=this.driver.query(ot,".ng-animate-queued",!0);for(let Mt=0;Mt<mt.length;Mt++)C.add(mt[Mt])});const S=this.bodyNode,R=Array.from(this.statesByElement.keys()),L=WT(R,this.collectedEnterElements),$=new Map;let K=0;L.forEach((ot,mt)=>{const Mt=Id+K++;$.set(mt,Mt),ot.forEach(sn=>os(sn,Mt))});const J=[],Te=new Set,Pe=new Set;for(let ot=0;ot<this.collectedLeaveElements.length;ot++){const mt=this.collectedLeaveElements[ot],Mt=mt[Js];Mt&&Mt.setForRemoval&&(J.push(mt),Te.add(mt),Mt.hasAnimation?this.driver.query(mt,".ng-star-inserted",!0).forEach(sn=>Te.add(sn)):Pe.add(mt))}const je=new Map,Oe=WT(R,Array.from(Te));Oe.forEach((ot,mt)=>{const Mt=au+K++;je.set(mt,Mt),ot.forEach(sn=>os(sn,Mt))}),e.push(()=>{L.forEach((ot,mt)=>{const Mt=$.get(mt);ot.forEach(sn=>Of(sn,Mt))}),Oe.forEach((ot,mt)=>{const Mt=je.get(mt);ot.forEach(sn=>Of(sn,Mt))}),J.forEach(ot=>{this.processLeaveNode(ot)})});const qe=[],Ze=[];for(let ot=this._namespaceList.length-1;ot>=0;ot--)this._namespaceList[ot].drainQueuedTransitions(t).forEach(Mt=>{const sn=Mt.player,br=Mt.element;if(qe.push(sn),this.collectedEnterElements.length){const Ur=br[Js];if(Ur&&Ur.setForMove){if(Ur.previousTriggersValues&&Ur.previousTriggersValues.has(Mt.triggerName)){const js=Ur.previousTriggersValues.get(Mt.triggerName),ds=this.statesByElement.get(Mt.element);if(ds&&ds.has(Mt.triggerName)){const sy=ds.get(Mt.triggerName);sy.value=js,ds.set(Mt.triggerName,sy)}}return void sn.destroy()}}const co=!S||!this.driver.containsElement(S,br),pi=je.get(br),ko=$.get(br),Mn=this._buildInstruction(Mt,r,ko,pi,co);if(Mn.errors&&Mn.errors.length)return void Ze.push(Mn);if(co)return sn.onStart(()=>fl(br,Mn.fromStyles)),sn.onDestroy(()=>ss(br,Mn.toStyles)),void i.push(sn);if(Mt.isFallbackTransition)return sn.onStart(()=>fl(br,Mn.fromStyles)),sn.onDestroy(()=>ss(br,Mn.toStyles)),void i.push(sn);const Pl=[];Mn.timelines.forEach(Ur=>{Ur.stretchStartingKeyframe=!0,this.disabledNodes.has(Ur.element)||Pl.push(Ur)}),Mn.timelines=Pl,r.append(br,Mn.timelines),u.push({instruction:Mn,player:sn,element:br}),Mn.queriedElements.forEach(Ur=>Ui(h,Ur,[]).push(sn)),Mn.preStyleProps.forEach((Ur,js)=>{if(Ur.size){let ds=g.get(js);ds||g.set(js,ds=new Set),Ur.forEach((sy,vg)=>ds.add(vg))}}),Mn.postStyleProps.forEach((Ur,js)=>{let ds=v.get(js);ds||v.set(js,ds=new Set),Ur.forEach((sy,vg)=>ds.add(vg))})});if(Ze.length){const ot=[];Ze.forEach(mt=>{ot.push(function cl(n,e){return new l.vHH(3505,!1)}())}),qe.forEach(mt=>mt.destroy()),this.reportError(ot)}const ht=new Map,Vt=new Map;u.forEach(ot=>{const mt=ot.element;r.has(mt)&&(Vt.set(mt,mt),this._beforeAnimationBuild(ot.player.namespaceId,ot.instruction,ht))}),i.forEach(ot=>{const mt=ot.element;this._getPreviousPlayers(mt,!1,ot.namespaceId,ot.triggerName,null).forEach(sn=>{Ui(ht,mt,[]).push(sn),sn.destroy()})});const Dn=J.filter(ot=>Ow(ot,g,v)),kn=new Map;qT(kn,this.driver,Pe,v,Fi).forEach(ot=>{Ow(ot,g,v)&&Dn.push(ot)});const Ki=new Map;L.forEach((ot,mt)=>{qT(Ki,this.driver,new Set(ot),g,"!")}),Dn.forEach(ot=>{const mt=kn.get(ot),Mt=Ki.get(ot);kn.set(ot,new Map([...Array.from(mt?.entries()??[]),...Array.from(Mt?.entries()??[])]))});const vr=[],Mc=[],Rc={};u.forEach(ot=>{const{element:mt,player:Mt,instruction:sn}=ot;if(r.has(mt)){if(C.has(mt))return Mt.onDestroy(()=>ss(mt,sn.toStyles)),Mt.disabled=!0,Mt.overrideTotalTime(sn.totalTime),void i.push(Mt);let br=Rc;if(Vt.size>1){let pi=mt;const ko=[];for(;pi=pi.parentNode;){const Mn=Vt.get(pi);if(Mn){br=Mn;break}ko.push(pi)}ko.forEach(Mn=>Vt.set(Mn,br))}const co=this._buildAnimation(Mt.namespaceId,sn,ht,a,Ki,kn);if(Mt.setRealPlayer(co),br===Rc)vr.push(Mt);else{const pi=this.playersByElement.get(br);pi&&pi.length&&(Mt.parentPlayer=ns(pi)),i.push(Mt)}}else fl(mt,sn.fromStyles),Mt.onDestroy(()=>ss(mt,sn.toStyles)),Mc.push(Mt),C.has(mt)&&i.push(Mt)}),Mc.forEach(ot=>{const mt=a.get(ot.element);if(mt&&mt.length){const Mt=ns(mt);ot.setRealPlayer(Mt)}}),i.forEach(ot=>{ot.parentPlayer?ot.syncPlayerEvents(ot.parentPlayer):ot.destroy()});for(let ot=0;ot<J.length;ot++){const mt=J[ot],Mt=mt[Js];if(Of(mt,au),Mt&&Mt.hasAnimation)continue;let sn=[];if(h.size){let co=h.get(mt);co&&co.length&&sn.push(...co);let pi=this.driver.query(mt,gf,!0);for(let ko=0;ko<pi.length;ko++){let Mn=h.get(pi[ko]);Mn&&Mn.length&&sn.push(...Mn)}}const br=sn.filter(co=>!co.destroyed);br.length?GM(this,mt,br):this.processLeaveNode(mt)}return J.length=0,vr.forEach(ot=>{this.players.push(ot),ot.onDone(()=>{ot.destroy();const mt=this.players.indexOf(ot);this.players.splice(mt,1)}),ot.play()}),vr}elementContainsData(e,t){let r=!1;const i=t[Js];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,a){let u=[];if(t){const h=this.playersByQueriedElement.get(e);h&&(u=h)}else{const h=this.playersByElement.get(e);if(h){const g=!a||a==Pd;h.forEach(v=>{v.queued||!g&&v.triggerName!=i||u.push(v)})}}return(r||i)&&(u=u.filter(h=>!(r&&r!=h.namespaceId||i&&i!=h.triggerName))),u}_beforeAnimationBuild(e,t,r){const a=t.element,u=t.isRemovalTransition?void 0:e,h=t.isRemovalTransition?void 0:t.triggerName;for(const g of t.timelines){const v=g.element,C=v!==a,S=Ui(r,v,[]);this._getPreviousPlayers(v,C,u,h,t.toState).forEach(L=>{const $=L.getRealPlayer();$.beforeDestroy&&$.beforeDestroy(),L.destroy(),S.push(L)})}fl(a,t.fromStyles)}_buildAnimation(e,t,r,i,a,u){const h=t.triggerName,g=t.element,v=[],C=new Set,S=new Set,R=t.timelines.map($=>{const K=$.element;C.add(K);const J=K[Js];if(J&&J.removedBeforeQueried)return new Gr($.duration,$.delay);const Te=K!==g,Pe=function zM(n){const e=[];return ZT(n,e),e}((r.get(K)||$T).map(ht=>ht.getRealPlayer())).filter(ht=>!!ht.element&&ht.element===K),je=a.get(K),Oe=u.get(K),qe=dl(0,this._normalizer,0,$.keyframes,je,Oe),Ze=this._buildPlayer($,qe,Pe);if($.subTimeline&&i&&S.add(K),Te){const ht=new Hg(e,h,K);ht.setRealPlayer(Ze),v.push(ht)}return Ze});v.forEach($=>{Ui(this.playersByQueriedElement,$.element,[]).push($),$.onDone(()=>function xw(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,$.element,$))}),C.forEach($=>os($,Sd));const L=ns(R);return L.onDestroy(()=>{C.forEach($=>Of($,Sd)),ss(g,t.toStyles)}),S.forEach($=>{Ui(i,$,[]).push(L)}),L}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Gr(e.duration,e.delay)}}class Hg{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Gr,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>rs(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Ui(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Gg(n){return n&&1===n.nodeType}function zg(n,e){const t=n.style.display;return n.style.display=e??"none",t}function qT(n,e,t,r,i){const a=[];t.forEach(g=>a.push(zg(g)));const u=[];r.forEach((g,v)=>{const C=new Map;g.forEach(S=>{const R=e.computeStyle(v,S,i);C.set(S,R),(!R||0==R.length)&&(v[Js]=xf,u.push(v))}),n.set(v,C)});let h=0;return t.forEach(g=>zg(g,a[h++])),u}function WT(n,e){const t=new Map;if(n.forEach(h=>t.set(h,[])),0==e.length)return t;const i=new Set(e),a=new Map;function u(h){if(!h)return 1;let g=a.get(h);if(g)return g;const v=h.parentNode;return g=t.has(v)?v:i.has(v)?1:u(v),a.set(h,g),g}return e.forEach(h=>{const g=u(h);1!==g&&t.get(g).push(h)}),t}function os(n,e){n.classList?.add(e)}function Of(n,e){n.classList?.remove(e)}function GM(n,e,t){ns(t).onDone(()=>n.processLeaveNode(e))}function ZT(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof Ql?ZT(r.players,e):e.push(r)}}function Ow(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(a=>i.add(a)):e.set(n,r),t.delete(n),!0}class Mf{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,a)=>{},this._transitionEngine=new GT(e,t,r),this._timelineEngine=new BT(e,t,r),this._transitionEngine.onRemovalComplete=(i,a)=>this.onRemovalComplete(i,a)}registerTrigger(e,t,r,i,a){const u=e+"-"+i;let h=this._triggerCache[u];if(!h){const g=[],C=Cf(this._driver,a,g,[]);if(g.length)throw function x(n,e){return new l.vHH(3404,!1)}();h=function FT(n,e,t){return new LT(n,e,t)}(i,C,this._normalizer),this._triggerCache[u]=h}this._transitionEngine.registerTrigger(t,i,h)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[a,u]=lf(r);this._timelineEngine.command(a,t,u,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,a){if("@"==r.charAt(0)){const[u,h]=lf(r);return this._timelineEngine.listen(u,t,h,a)}return this._transitionEngine.listen(e,t,r,i,a)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let Mw=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let a=n.initialStylesByElement.get(t);a||n.initialStylesByElement.set(t,a=new Map),this._initialStyles=a}start(){this._state<1&&(this._startStyles&&ss(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(ss(this._element,this._initialStyles),this._endStyles&&(ss(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(fl(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(fl(this._element,this._endStyles),this._endStyles=null),ss(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function qg(n){let e=null;return n.forEach((t,r)=>{(function Rw(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class Wg{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:Nn(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class KT{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return iu(e,t)}getParentElement(e){return df(e)}query(e,t,r){return Td(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,a,u=[]){const g={duration:r,delay:i,fill:0==i?"both":"forwards"};a&&(g.easing=a);const v=new Map,C=u.filter(L=>L instanceof Wg);(function lt(n,e){return 0===n||0===e})(r,i)&&C.forEach(L=>{L.currentSnapshot.forEach(($,K)=>v.set(K,$))});let S=function fy(n){return n.length?n[0]instanceof Map?n:n.map(e=>_f(e)):[]}(t).map(L=>va(L));S=function Tt(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((a,u)=>{r.has(u)||i.push(u),r.set(u,a)}),i.length)for(let a=1;a<e.length;a++){let u=e[a];i.forEach(h=>u.set(h,Nn(n,h)))}}return e}(e,S,v);const R=function Dy(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=qg(e[0]),e.length>1&&(r=qg(e[e.length-1]))):e instanceof Map&&(t=qg(e)),t||r?new Mw(n,t,r):null}(e,S);return new Wg(e,S,g,R)}}let Cy=(()=>{class n extends da{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?ol(t):t;return Pw(this._renderer,null,r,"register",[i]),new Rf(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Rf extends class Kl{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new YT(this._id,e,t||{},this._renderer)}}class YT{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Pw(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function Pw(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const Ey="@.disabled";let QT=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(a,u)=>{const h=u?.parentNode(a);h&&u.removeChild(h,a)}}createRenderer(t,r){const a=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let C=this._rendererCache.get(a);return C||(C=new kw("",a,this.engine),this._rendererCache.set(a,C)),C}const u=r.id,h=r.id+"-"+this._currentId;this._currentId++,this.engine.register(h,t);const g=C=>{Array.isArray(C)?C.forEach(g):this.engine.registerTrigger(u,h,t,C.name,C)};return r.data.animation.forEach(g),new JT(this,h,a,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(a=>{const[u,h]=a;u(h)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(Mf),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class kw{constructor(e,t,r){this.namespaceId=e,this.delegate=t,this.engine=r,this.destroyNode=this.delegate.destroyNode?i=>t.destroyNode(i):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==Ey?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class JT extends kw{constructor(e,t,r,i){super(t,r,i),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==Ey?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function XT(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let a=t.slice(1),u="";return"@"!=a.charAt(0)&&([a,u]=function Ty(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(a)),this.engine.listen(this.namespaceId,i,a,u,h=>{this.factory.scheduleListenerCallback(h._data||-1,r,h)})}return this.delegate.listen(e,t,r)}}let eI=(()=>{class n extends Mf{constructor(t,r,i,a){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de),l.LFG(ff),l.LFG(Md),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Iy=[{provide:da,useClass:Cy},{provide:Md,useFactory:function tI(){return new Bg}},{provide:Mf,useClass:eI},{provide:l.FYo,useFactory:function nI(n,e,t){return new QT(n,e,t)},deps:[Xa,Mf,l.R0b]}],Sy=[{provide:ff,useFactory:()=>new KT},{provide:l.QbO,useValue:"BrowserAnimations"},...Iy],Fw=[{provide:ff,useClass:Pg},{provide:l.QbO,useValue:"NoopAnimations"},...Iy];let Bi=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?Fw:Sy}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:Sy,imports:[Co]}),n})();var Jt=F(8996),Mr=F(9751);const{isArray:Bw}=Array,{getPrototypeOf:iI,prototype:sI,keys:Vw}=Object;function jw(n){if(1===n.length){const e=n[0];if(Bw(e))return{args:e,keys:null};if(function $w(n){return n&&"object"==typeof n&&iI(n)===sI}(e)){const t=Vw(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ba=F(8421),gl=F(3269),cr=F(5403),St=F(4004);const{isArray:oI}=Array;function Ay(n){return(0,St.U)(e=>function aI(n,e){return oI(e)?n(...e):n(e)}(n,e))}function du(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}let Hw=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),hu=(()=>{class n extends Hw{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const _l=new l.OlP("NgValueAccessor"),ZM={provide:_l,useExisting:(0,l.Gpc)(()=>yl),multi:!0},xy=new l.OlP("CompositionEventMode");let yl=(()=>{class n extends Hw{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function wa(){const n=P()?P().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(xy,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[l._Bn([ZM]),l.qOj]}),n})();function vl(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Gw(n){return null!=n&&"number"==typeof n.length}const Er=new l.OlP("NgValidators"),ac=new l.OlP("NgAsyncValidators"),cI=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class nn{static min(e){return function Kg(n){return e=>{if(vl(e.value)||vl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Oy(n){return e=>{if(vl(e.value)||vl(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function uI(n){return vl(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function fu(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Yg(n){return vl(n.value)||cI.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function My(n){return e=>vl(e.value)||!Gw(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function zw(n){return e=>Gw(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Qg(n){if(!n)return Jg;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(vl(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Xg(e)}static composeAsync(e){return tm(e)}}function Jg(n){return null}function qw(n){return null!=n}function Ww(n){return(0,l.QGY)(n)?(0,Jt.D)(n):n}function Zw(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Kw(n,e){return e.map(t=>t(n))}function Ry(n){return n.map(e=>function dI(n){return!n.validate}(e)?e:t=>e.validate(t))}function Xg(n){if(!n)return null;const e=n.filter(qw);return 0==e.length?null:function(t){return Zw(Kw(t,e))}}function em(n){return null!=n?Xg(Ry(n)):null}function tm(n){if(!n)return null;const e=n.filter(qw);return 0==e.length?null:function(t){return function ml(...n){const e=(0,gl.jO)(n),{args:t,keys:r}=jw(n),i=new Mr.y(a=>{const{length:u}=t;if(!u)return void a.complete();const h=new Array(u);let g=u,v=u;for(let C=0;C<u;C++){let S=!1;(0,ba.Xf)(t[C]).subscribe((0,cr.x)(a,R=>{S||(S=!0,v--),h[C]=R},()=>g--,void 0,()=>{(!g||!S)&&(v||a.next(r?du(r,h):h),a.complete())}))}});return e?i.pipe(Ay(e)):i}(Kw(t,e).map(Ww)).pipe((0,St.U)(Zw))}}function Py(n){return null!=n?tm(Ry(n)):null}function Yw(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function ky(n){return n._rawValidators}function Fy(n){return n._rawAsyncValidators}function bl(n){return n?Array.isArray(n)?n:[n]:[]}function Pf(n,e){return Array.isArray(n)?n.includes(e):n===e}function Ly(n,e){const t=bl(e);return bl(n).forEach(i=>{Pf(t,i)||t.push(i)}),t}function Qw(n,e){return bl(e).filter(t=>!Pf(n,t))}class hI{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=em(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Py(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class qr extends hI{get formDirective(){return null}get path(){return null}}class lc extends hI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Uy{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let pu=(()=>{class n extends Uy{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(lc,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]}),n})(),gu=(()=>{class n extends Uy{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(qr,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[l.qOj]}),n})();const Ff="VALID",im="INVALID",Ei="PENDING",Lf="DISABLED";function sm(n){return(om(n)?n.validators:n)||null}function n1(n){return Array.isArray(n)?em(n):n||null}function jy(n,e){return(om(e)?e.asyncValidators:n)||null}function r1(n){return Array.isArray(n)?Py(n):n||null}function om(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function $y(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new l.vHH(1e3,"");if(!r[t])throw new l.vHH(1001,"")}function i1(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new l.vHH(1002,"")})}class am{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=n1(this._rawValidators),this._composedAsyncValidatorFn=r1(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ff}get invalid(){return this.status===im}get pending(){return this.status==Ei}get disabled(){return this.status===Lf}get enabled(){return this.status!==Lf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=n1(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=r1(e)}addValidators(e){this.setValidators(Ly(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Ly(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Qw(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Qw(e,this._rawAsyncValidators))}hasValidator(e){return Pf(this._rawValidators,e)}hasAsyncValidator(e){return Pf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Ei,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Lf,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ff,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ff||this.status===Ei)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Lf:Ff}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Ei,this._hasOwnPendingAsyncValidator=!0;const t=Ww(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Lf:this.errors?im:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ei)?Ei:this._anyControlsHaveStatus(im)?im:Ff}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){om(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class Uf extends am{constructor(e,t,r){super(sm(t),jy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){i1(this,0,e),Object.keys(e).forEach(r=>{$y(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class Hy extends Uf{}function Bf(n,e){Gy(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function XM(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&zy(n,e)})}(n,e),function _u(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function o1(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&zy(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function s1(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Vf(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),um(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function cm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Gy(n,e){const t=ky(n);null!==e.validator?n.setValidators(Yw(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Fy(n);null!==e.asyncValidator?n.setAsyncValidators(Yw(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();cm(e._rawValidators,i),cm(e._rawAsyncValidators,i)}function um(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=ky(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==e.validator);a.length!==i.length&&(t=!0,n.setValidators(a))}}if(null!==e.asyncValidator){const i=Fy(n);if(Array.isArray(i)&&i.length>0){const a=i.filter(u=>u!==e.asyncValidator);a.length!==i.length&&(t=!0,n.setAsyncValidators(a))}}}const r=()=>{};return cm(e._rawValidators,r),cm(e._rawAsyncValidators,r),t}function zy(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function a1(n,e){Gy(n,e)}function Wy(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}const EI={provide:qr,useExisting:(0,l.Gpc)(()=>yu)},Fd=(()=>Promise.resolve())();let yu=(()=>{class n extends qr{constructor(t,r){super(),this.submitted=!1,this._directives=new Set,this.ngSubmit=new l.vpe,this.form=new Uf({},em(t),Py(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Fd.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Bf(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Fd.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Fd.then(()=>{const r=this._findContainer(t.path),i=new Uf({});a1(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Fd.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Fd.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,Wy(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Er,10),l.Y36(ac,10))},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([EI]),l.qOj]}),n})();function d1(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Zy(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const $f=class extends am{constructor(e=null,t,r){super(sm(t),jy(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),om(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Zy(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){d1(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){d1(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Zy(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Hf=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),Xs=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Gf=new l.OlP("NgModelWithFormControlWarning"),iR={provide:qr,useExisting:(0,l.Gpc)(()=>cc)};let cc=(()=>{class n extends qr{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(um(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Bf(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){Vf(t.control||null,t,!1),function CI(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,Wy(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(Vf(r||null,t),(n=>n instanceof $f)(i)&&(Bf(i,t),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);a1(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function qy(n,e){return um(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Gy(this.form,this),this._oldForm&&um(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Er,10),l.Y36(ac,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([iR]),l.qOj,l.TTD]}),n})();const Jy={provide:lc,useExisting:(0,l.Gpc)(()=>qf)};let qf=(()=>{class n extends lc{constructor(t,r,i,a,u){super(),this._ngModelWarningConfig=u,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function u1(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===yl?t=a:function DI(n){return Object.getPrototypeOf(n.constructor)===hu}(a)?r=a:i=a}),i||r||t||null}(0,a)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function c1(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function lm(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(qr,13),l.Y36(Er,10),l.Y36(ac,10),l.Y36(_l,10),l.Y36(Gf,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([Jy]),l.qOj,l.TTD]}),n})(),E1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Xs]}),n})(),iv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[E1]}),n})(),T1=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Gf,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[E1]}),n})();class I1 extends am{constructor(e,t,r){super(sm(t),jy(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){i1(this,0,e),e.forEach((r,i)=>{$y(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function vm(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Ca=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let a={};return vm(r)?a=r:null!==r&&(a.validators=r.validator,a.asyncValidators=r.asyncValidator),new Uf(i,a)}record(t,r=null){const i=this._reduceControls(t);return new Hy(i,r)}control(t,r,i){let a={};return this.useNonNullable?(vm(r)?a=r:(a.validators=r,a.asyncValidators=i),new $f(t,{...a,nonNullable:!0})):new $f(t,r,i)}array(t,r,i){const a=t.map(u=>this._createControl(u));return new I1(a,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof $f||t instanceof am?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:T1}),n})();const av_firebaseConfig={apiKey:"AIzaSyCpZSKN-i1Jsu7o7kPf8J7UYRn_IwjGowY",authDomain:"tpclinica-labo.firebaseapp.com",projectId:"tpclinica-labo",storageBucket:"tpclinica-labo.appspot.com",messagingSenderId:"199005283770",appId:"1:199005283770:web:3bb67a44df547dee5a2983"};function pt(...n){const e=(0,gl.yG)(n);return(0,Jt.D)(n,e)}var wn=F(7579);class Rr extends wn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const bm=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Zf=F(4671),BI=F(9672);function Kf(...n){const e=(0,gl.yG)(n),t=(0,gl.jO)(n),{args:r,keys:i}=jw(n);if(0===r.length)return(0,Jt.D)([],e);const a=new Mr.y(function VI(n,e,t=Zf.y){return r=>{cv(e,()=>{const{length:i}=n,a=new Array(i);let u=i,h=i;for(let g=0;g<i;g++)cv(e,()=>{const v=(0,Jt.D)(n[g],e);let C=!1;v.subscribe((0,cr.x)(r,S=>{a[g]=S,C||(C=!0,h--),h||r.next(t(a.slice()))},()=>{--u||r.complete()}))},r)},r)}}(r,e,i?u=>du(i,u):Zf.y));return t?a.pipe(Ay(t)):a}function cv(n,e,t){n?(0,BI.f)(t,n,e):e()}var Vd=F(8189);function oi(...n){return function jI(){return(0,Vd.J)(1)}()((0,Jt.D)(n,(0,gl.yG)(n)))}function uv(n){return new Mr.y(e=>{(0,ba.Xf)(n()).subscribe(e)})}var $I=F(9635),wl=F(576);function Yf(n,e){const t=(0,wl.m)(n)?n:()=>n,r=i=>i.error(t());return new Mr.y(e?i=>e.schedule(r,0,i):r)}var Io=F(515),dv=F(727),Wr=F(4482);function hv(){return(0,Wr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,cr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class A1 extends Mr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Wr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new dv.w0;const t=this.getSubject();e.add(this.source.subscribe((0,cr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=dv.w0.EMPTY)}return e}refCount(){return hv()(this)}}function yr(n,e){return(0,Wr.e)((t,r)=>{let i=null,a=0,u=!1;const h=()=>u&&!i&&r.complete();t.subscribe((0,cr.x)(r,g=>{i?.unsubscribe();let v=0;const C=a++;(0,ba.Xf)(n(g,C)).subscribe(i=(0,cr.x)(r,S=>r.next(e?e(g,S,C,v++):S),()=>{i=null,h()}))},()=>{u=!0,h()}))})}function ai(n){return n<=0?()=>Io.E:(0,Wr.e)((e,t)=>{let r=0;e.subscribe((0,cr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function dc(...n){const e=(0,gl.yG)(n);return(0,Wr.e)((t,r)=>{(e?oi(n,t,e):oi(n,t)).subscribe(r)})}function Zr(n,e){return(0,Wr.e)((t,r)=>{let i=0;t.subscribe((0,cr.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var li=F(5577);function Qf(n){return(0,Wr.e)((e,t)=>{let r=!1;e.subscribe((0,cr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function fv(n=HI){return(0,Wr.e)((e,t)=>{let r=!1;e.subscribe((0,cr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function HI(){return new bm}function Kr(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Zr((i,a)=>n(i,a,r)):Zf.y,ai(1),t?Qf(e):fv(()=>new bm))}function Dl(n,e){return(0,wl.m)(e)?(0,li.z)(n,e,1):(0,li.z)(n,1)}var Yr=F(8505);function hc(n){return(0,Wr.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,cr.x)(t,void 0,void 0,u=>{a=(0,ba.Xf)(n(u,hc(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function fR(n,e,t,r,i){return(a,u)=>{let h=t,g=e,v=0;a.subscribe((0,cr.x)(u,C=>{const S=v++;g=h?n(g,C,S):(h=!0,C),r&&u.next(g)},i&&(()=>{h&&u.next(g),u.complete()})))}}function jd(n,e){return(0,Wr.e)(fR(n,e,arguments.length>=2,!0))}function pv(n){return n<=0?()=>Io.E:(0,Wr.e)((e,t)=>{let r=[];e.subscribe((0,cr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function N1(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Zr((i,a)=>n(i,a,r)):Zf.y,pv(1),t?Qf(e):fv(()=>new bm))}function gv(n){return(0,Wr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const rn="primary",fc=Symbol("RouteTitle");class mv{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Cl(n){return new mv(n)}function pR(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const u=r[a],h=n[a];if(u.startsWith(":"))i[u.substring(1)]=h;else if(u!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function El(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!yv(n[i],e[i]))return!1;return!0}function yv(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function vv(n){return Array.prototype.concat.apply([],n)}function bv(n){return n.length>0?n[n.length-1]:null}function Pr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function Ti(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Jt.D)(Promise.resolve(n)):pt(n)}const Jf={exact:function M1(n,e,t){if(!wu(n.segments,e.segments)||!wv(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!M1(n.children[r],e.children[r],t))return!1;return!0},subset:Hd},x1={exact:function O1(n,e){return El(n,e)},subset:function qI(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>yv(n[t],e[t]))},ignored:()=>!0};function Cm(n,e,t){return Jf[t.paths](n.root,e.root,t.matrixParams)&&x1[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Hd(n,e,t){return R1(n,e,e.segments,t)}function R1(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!wu(i,t)||e.hasChildren()||!wv(i,t,r))}if(n.segments.length===t.length){if(!wu(n.segments,t)||!wv(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Hd(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(wu(n.segments,i)&&wv(n.segments,i,r)&&n.children[rn])&&R1(n.children[rn],e,a,r)}}function wv(n,e,t){return e.every((r,i)=>x1[t](n[i].parameters,r.parameters))}class bu{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cl(this.queryParams)),this._queryParamMap}toString(){return Cv.serialize(this)}}class ln{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Pr(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Tm(this)}}class Xf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Cl(this.parameters)),this._parameterMap}toString(){return KI(this)}}function wu(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Em=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new Dv},providedIn:"root"}),n})();class Dv{parse(e){const t=new Cu(e);return new bu(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${ep(e.root,!0)}`,r=function YI(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Im(t)}=${Im(i)}`).join("&"):`${Im(t)}=${Im(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ZI(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Cv=new Dv;function Tm(n){return n.segments.map(e=>KI(e)).join("/")}function ep(n,e){if(!n.hasChildren())return Tm(n);if(e){const t=n.children[rn]?ep(n.children[rn],!1):"",r=[];return Pr(n.children,(i,a)=>{a!==rn&&r.push(`${a}:${ep(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function P1(n,e){let t=[];return Pr(n.children,(r,i)=>{i===rn&&(t=t.concat(e(r,i)))}),Pr(n.children,(r,i)=>{i!==rn&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===rn?[ep(n.children[rn],!1)]:[`${i}:${ep(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[rn]?`${Tm(n)}/${t[0]}`:`${Tm(n)}/(${t.join("//")})`}}function k1(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Im(n){return k1(n).replace(/%3B/gi,";")}function Ev(n){return k1(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Du(n){return decodeURIComponent(n)}function pc(n){return Du(n.replace(/\+/g,"%20"))}function KI(n){return`${Ev(n.path)}${function tp(n){return Object.keys(n).map(e=>`;${Ev(e)}=${Ev(n[e])}`).join("")}(n.parameters)}`}const QI=/^[^\/()?;=#]+/;function Gd(n){const e=n.match(QI);return e?e[0]:""}const JI=/^[^=?&#]+/,np=/^[^&#]+/;class Cu{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ln([],{}):new ln([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[rn]=new ln(e,t)),r}parseSegment(){const e=Gd(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,!1);return this.capture(e),new Xf(Du(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Gd(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Gd(this.remaining);i&&(r=i,this.capture(r))}e[Du(t)]=Du(r)}parseQueryParam(e){const t=function Ea(n){const e=n.match(JI);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const u=function Ii(n){const e=n.match(np);return e?e[0]:""}(this.remaining);u&&(r=u,this.capture(r))}const i=pc(t),a=pc(r);if(e.hasOwnProperty(i)){let u=e[i];Array.isArray(u)||(u=[u],e[i]=u),u.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Gd(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=rn);const u=this.parseChildren();t[a]=1===Object.keys(u).length?u[rn]:new ln([],u),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,!1)}}function zd(n){return n.segments.length>0?new ln([],{[rn]:n}):n}function Vi(n){const e={};for(const r of Object.keys(n.children)){const a=Vi(n.children[r]);(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function Tv(n){if(1===n.numberOfChildren&&n.children[rn]){const e=n.children[rn];return new ln(n.segments.concat(e.segments),e.children)}return n}(new ln(n.segments,e))}function eo(n){return n instanceof bu}function Zd(n,e,t,r,i){if(0===t.length)return So(e.root,e.root,e.root,r,i);const a=function Av(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Sv(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,u)=>{if("object"==typeof a&&null!=a){if(a.outlets){const h={};return Pr(a.outlets,(g,v)=>{h[v]="string"==typeof g?g.split("/"):g}),[...i,{outlets:h}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===u?(a.split("/").forEach((h,g)=>{0==g&&"."===h||(0==g&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,a]},[]);return new Sv(t,e,r)}(t);return a.toRoot()?So(e.root,e.root,new ln([],{}),r,i):function u(g){const v=function L1(n,e,t,r){if(n.isAbsolute)return new Eu(e.root,!0,0);if(-1===r)return new Eu(t,t===e.root,0);return function Nv(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new l.vHH(4005,!1);i=r.segments.length}return new Eu(r,!1,i-a)}(t,r+(Ta(n.commands[0])?0:1),n.numberOfDoubleDots)}(a,e,n.snapshot?._urlSegment,g),C=v.processChildren?ip(v.segmentGroup,v.index,a.commands):Sm(v.segmentGroup,v.index,a.commands);return So(e.root,v.segmentGroup,C,r,i)}(n.snapshot?._lastPathIndex)}function Ta(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ia(n){return"object"==typeof n&&null!=n&&n.outlets}function So(n,e,t,r,i){let u,a={};r&&Pr(r,(g,v)=>{a[v]=Array.isArray(g)?g.map(C=>`${C}`):`${g}`}),u=n===e?t:Iv(n,e,t);const h=zd(Vi(u));return new bu(h,a,i)}function Iv(n,e,t){const r={};return Pr(n.children,(i,a)=>{r[a]=i===e?t:Iv(i,e,t)}),new ln(n.segments,r)}class Sv{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ta(r[0]))throw new l.vHH(4003,!1);const i=r.find(Ia);if(i&&i!==bv(r))throw new l.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Eu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Sm(n,e,t){if(n||(n=new ln([],{})),0===n.segments.length&&n.hasChildren())return ip(n,e,t);const r=function XI(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const u=n.segments[i],h=t[r];if(Ia(h))break;const g=`${h}`,v=r<t.length-1?t[r+1]:null;if(i>0&&void 0===g)break;if(g&&v&&"object"==typeof v&&void 0===v.outlets){if(!Nm(g,v,u))return a;r+=2}else{if(!Nm(g,{},u))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new ln(n.segments.slice(0,r.pathIndex),{});return a.children[rn]=new ln(n.segments.slice(r.pathIndex),n.children),ip(a,0,i)}return r.match&&0===i.length?new ln(n.segments,{}):r.match&&!n.hasChildren()?Am(n,e,t):r.match?ip(n,0,i):Am(n,e,t)}function ip(n,e,t){if(0===t.length)return new ln(n.segments,{});{const r=function U1(n){return Ia(n[0])?n[0].outlets:{[rn]:n}}(t),i={};return Pr(r,(a,u)=>{"string"==typeof a&&(a=[a]),null!==a&&(i[u]=Sm(n.children[u],e,a))}),Pr(n.children,(a,u)=>{void 0===r[u]&&(i[u]=a)}),new ln(n.segments,i)}}function Am(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(Ia(a)){const g=eS(a.outlets);return new ln(r,g)}if(0===i&&Ta(t[0])){r.push(new Xf(n.segments[e].path,xv(t[0]))),i++;continue}const u=Ia(a)?a.outlets[rn]:`${a}`,h=i<t.length-1?t[i+1]:null;u&&h&&Ta(h)?(r.push(new Xf(u,xv(h))),i+=2):(r.push(new Xf(u,{})),i++)}return new ln(r,{})}function eS(n){const e={};return Pr(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Am(new ln([],{}),0,t))}),e}function xv(n){const e={};return Pr(n,(t,r)=>e[r]=`${t}`),e}function Nm(n,e,t){return n==t.path&&El(e,t.parameters)}class Ao{constructor(e,t){this.id=e,this.url=t}}class Ov extends Ao{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Sa extends Ao{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Tu extends Ao{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class xm extends Ao{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class tS extends Ao{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Om extends Ao{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mm extends Ao{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class B1 extends Ao{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class V1 extends Ao{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Mv{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class j1{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $1{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Rv{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class H1{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nS{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Pv{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class kv{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Rm(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Rm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Fv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Fv(e,this._root).map(t=>t.value)}}function Rm(n,e){if(n===e.value)return e;for(const t of e.children){const r=Rm(n,t);if(r)return r}return null}function Fv(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Fv(n,t);if(r.length)return r.unshift(e),r}return[]}class Aa{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Iu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Pm extends kv{constructor(e,t){super(e),this.snapshot=t,km(this,e)}toString(){return this.snapshot.toString()}}function sp(n,e){const t=function z1(n,e){const u=new op([],{},{},"",{},rn,e,null,n.root,-1,{});return new Uv("",new Aa(u,[]))}(n,e),r=new Rr([new Xf("",{})]),i=new Rr({}),a=new Rr({}),u=new Rr({}),h=new Rr(""),g=new mc(r,i,u,h,a,rn,e,t.root);return g.snapshot=t.root,new Pm(new Aa(g,[]),t)}class mc{constructor(e,t,r,i,a,u,h,g){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=h,this.title=this.data?.pipe((0,St.U)(v=>v[fc]))??pt(void 0),this._futureSnapshot=g}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,St.U)(e=>Cl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,St.U)(e=>Cl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Lv(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function q1(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class op{constructor(e,t,r,i,a,u,h,g,v,C,S,R){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=u,this.component=h,this.title=this.data?.[fc],this.routeConfig=g,this._urlSegment=v,this._lastPathIndex=C,this._correctedLastPathIndex=R??C,this._resolve=S}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Cl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Cl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Uv extends kv{constructor(e,t){super(t),this.url=e,km(this,t)}toString(){return Bv(this._root)}}function km(n,e){e.value._routerState=n,e.children.forEach(t=>km(n,t))}function Bv(n){const e=n.children.length>0?` { ${n.children.map(Bv).join(", ")} } `:"";return`${n.value}${e}`}function W1(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,El(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),El(e.params,t.params)||n.params.next(t.params),function _v(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!El(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),El(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Vv(n,e){const t=El(n.params,e.params)&&function WI(n,e){return wu(n,e)&&n.every((t,r)=>El(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Vv(n.parent,e.parent))}function Kd(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function iS(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Kd(n,r,i);return Kd(n,r)})}(n,e,t);return new Aa(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const u=a.route;return u.value._futureSnapshot=e.value,u.children=e.children.map(h=>Kd(n,h)),u}}const r=function kr(n){return new mc(new Rr(n.url),new Rr(n.params),new Rr(n.queryParams),new Rr(n.fragment),new Rr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Kd(n,a));return new Aa(r,i)}}const Fm="ngNavigationCancelingError";function Z1(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=eo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=K1(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function K1(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Fm]=!0,r.cancellationCode=e,t&&(r.url=t),r}function jv(n){return Y1(n)&&eo(n.url)}function Y1(n){return n&&n[Fm]}class Q1{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Yd,this.attachRef=null}}let Yd=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Q1,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Tl=!1;let Su=(()=>{class n{constructor(t,r,i,a,u){this.parentContexts=t,this.location=r,this.changeDetector=a,this.environmentInjector=u,this.activated=null,this._activatedRoute=null,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.name=i||rn,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,Tl);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,Tl);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,Tl);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new l.vHH(4013,Tl);this._activatedRoute=t;const i=this.location,u=t._futureSnapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,g=new sS(t,h,i.injector);if(r&&function J1(n){return!!n.resolveComponentFactory}(r)){const v=r.resolveComponentFactory(u);this.activated=i.createComponent(v,i.length,g)}else this.activated=i.createComponent(u,{index:i.length,injector:g,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Yd),l.Y36(l.s_b),l.$8M("name"),l.Y36(l.sBO),l.Y36(l.lqb))},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class sS{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===mc?this.route:e===Yd?this.childContexts:this.parent.get(e,t)}}let $v=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[Su],encapsulation:2}),n})();function Hv(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function xs(n){const e=n.children&&n.children.map(xs),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==rn&&(t.component=$v),t}function Os(n){return n.outlet||rn}function zv(n,e){const t=n.filter(r=>Os(r)===e);return t.push(...n.filter(r=>Os(r)!==e)),t}function ap(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class aS{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),W1(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Iu(t);e.children.forEach(a=>{const u=a.value.outlet;this.deactivateRoutes(a,i[u],r),delete i[u]}),Pr(i,(a,u)=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const u=r.getContext(i.outlet);u&&this.deactivateChildRoutes(e,t,u.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Iu(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);if(r&&r.outlet){const u=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:u,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Iu(e);for(const u of Object.keys(a))this.deactivateRouteAndItsChildren(a[u],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Iu(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new nS(a.value.snapshot))}),e.children.length&&this.forwardEvent(new Rv(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(W1(i),i===a)if(i.component){const u=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,u.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const u=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),u.children.onOutletReAttached(h.contexts),u.attachRef=h.componentRef,u.route=h.route.value,u.outlet&&u.outlet.attach(h.componentRef,h.route.value),W1(h.route.value),this.activateChildRoutes(e,null,u.children)}else{const h=ap(i.snapshot),g=h?.get(l._Vd)??null;u.attachRef=null,u.route=i,u.resolver=g,u.injector=h,u.outlet&&u.outlet.activateWith(i,u.injector),this.activateChildRoutes(e,null,u.children)}}else this.activateChildRoutes(e,null,r)}}class nD{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Qd{constructor(e,t){this.component=e,this.route=t}}function lp(n,e,t){const r=n._root;return cp(r,e?e._root:null,t,[r.value])}function Au(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:r}function cp(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Iu(e);return n.children.forEach(u=>{(function rD(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,u=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(u&&a.routeConfig===u.routeConfig){const g=function iD(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!wu(n.url,e.url);case"pathParamsOrQueryParamsChange":return!wu(n.url,e.url)||!El(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Vv(n,e)||!El(n.queryParams,e.queryParams);default:return!Vv(n,e)}}(u,a,a.routeConfig.runGuardsAndResolvers);g?i.canActivateChecks.push(new nD(r)):(a.data=u.data,a._resolvedData=u._resolvedData),cp(n,e,a.component?h?h.children:null:t,r,i),g&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new Qd(h.outlet.component,u))}else u&&_c(e,h,i),i.canActivateChecks.push(new nD(r)),cp(n,null,a.component?h?h.children:null:t,r,i)})(u,a[u.value.outlet],t,r.concat([u.value]),i),delete a[u.value.outlet]}),Pr(a,(u,h)=>_c(u,t.getContext(h),i)),i}function _c(n,e,t){const r=Iu(n),i=n.value;Pr(r,(a,u)=>{_c(a,i.component?e?e.children.getContext(u):null:e,t)}),t.canDeactivateChecks.push(new Qd(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function up(n){return"function"==typeof n}function Um(n){return n instanceof bm||"EmptyError"===n?.name}const dp=Symbol("INITIAL_VALUE");function Nu(){return yr(n=>Kf(n.map(e=>e.pipe(ai(1),dc(dp)))).pipe((0,St.U)(e=>{for(const t of e)if(!0!==t){if(t===dp)return dp;if(!1===t||t instanceof bu)return t}return!0}),Zr(e=>e!==dp),ai(1)))}function dD(n){return(0,$I.z)((0,Yr.b)(e=>{if(eo(e))throw Z1(0,e)}),(0,St.U)(e=>!0===e))}const Wv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hD(n,e,t,r,i){const a=Zv(n,e,t);return a.matched?function yS(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?pt(i.map(u=>{const h=Au(u,n);return Ti(function lD(n){return n&&up(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))})).pipe(Nu(),dD()):pt(!0)}(r=Hv(e,r),e,t).pipe((0,St.U)(u=>!0===u?a:{...Wv})):pt(a)}function Zv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Wv}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||pR)(t,n,e);if(!i)return{...Wv};const a={};Pr(i.posParams,(h,g)=>{a[g]=h.path});const u=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:u,positionalParamSegments:i.posParams??{}}}function Bm(n,e,t,r,i="corrected"){if(t.length>0&&function wS(n,e,t){return t.some(r=>hp(n,e,r)&&Os(r)!==rn)}(n,t,r)){const u=new ln(e,function bS(n,e,t,r){const i={};i[rn]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const a of t)if(""===a.path&&Os(a)!==rn){const u=new ln([],{});u._sourceSegment=n,u._segmentIndexShift=e.length,i[Os(a)]=u}return i}(n,e,r,new ln(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function DS(n,e,t){return t.some(r=>hp(n,e,r))}(n,t,r)){const u=new ln(n.segments,function vS(n,e,t,r,i,a){const u={};for(const h of r)if(hp(n,t,h)&&!i[Os(h)]){const g=new ln([],{});g._sourceSegment=n,g._segmentIndexShift="legacy"===a?n.segments.length:e.length,u[Os(h)]=g}return{...i,...u}}(n,e,t,r,n.children,i));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const a=new ln(n.segments,n.children);return a._sourceSegment=n,a._segmentIndexShift=e.length,{segmentGroup:a,slicedSegments:t}}function hp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Kv(n,e,t,r){return!!(Os(n)===r||r!==rn&&hp(e,t,n))&&("**"===n.path||Zv(e,n,t).matched)}function Yv(n,e,t){return 0===e.length&&!n.children[t]}const fp=!1;class pp{constructor(e){this.segmentGroup=e||null}}class Qv{constructor(e){this.urlTree=e}}function Jd(n){return Yf(new pp(n))}function Jv(n){return Yf(new Qv(n))}class xu{constructor(e,t,r,i,a){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0}apply(){const e=Bm(this.urlTree.root,[],[],this.config).segmentGroup,t=new ln(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,rn).pipe((0,St.U)(a=>this.createUrlTree(Vi(a),this.urlTree.queryParams,this.urlTree.fragment))).pipe(hc(a=>{if(a instanceof Qv)return this.allowRedirects=!1,this.match(a.urlTree);throw a instanceof pp?this.noMatchError(a):a}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,rn).pipe((0,St.U)(i=>this.createUrlTree(Vi(i),e.queryParams,e.fragment))).pipe(hc(i=>{throw i instanceof pp?this.noMatchError(i):i}))}noMatchError(e){return new l.vHH(4002,fp)}createUrlTree(e,t,r){const i=zd(e);return new bu(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,St.U)(a=>new ln([],a))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,Jt.D)(i).pipe(Dl(a=>{const u=r.children[a],h=zv(t,a);return this.expandSegmentGroup(e,h,u,a).pipe((0,St.U)(g=>({segment:g,outlet:a})))}),jd((a,u)=>(a[u.outlet]=u.segment,a),{}),N1())}expandSegment(e,t,r,i,a,u){return(0,Jt.D)(r).pipe(Dl(h=>this.expandSegmentAgainstRoute(e,t,r,h,i,a,u).pipe(hc(v=>{if(v instanceof pp)return pt(null);throw v}))),Kr(h=>!!h),hc((h,g)=>{if(Um(h))return Yv(t,i,a)?pt(new ln([],{})):Jd(t);throw h}))}expandSegmentAgainstRoute(e,t,r,i,a,u,h){return Kv(i,t,a,u)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,a,u):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u):Jd(t):Jd(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,u):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Jv(a):this.lineralizeSegments(r,a).pipe((0,li.z)(u=>{const h=new ln(u,{});return this.expandSegment(e,h,t,u,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,u){const{matched:h,consumedSegments:g,remainingSegments:v,positionalParamSegments:C}=Zv(t,i,a);if(!h)return Jd(t);const S=this.applyRedirectCommands(g,i.redirectTo,C);return i.redirectTo.startsWith("/")?Jv(S):this.lineralizeSegments(i,S).pipe((0,li.z)(R=>this.expandSegment(e,t,r,R.concat(v),u,!1)))}matchSegmentAgainstRoute(e,t,r,i,a){return"**"===r.path?(e=Hv(r,e),r.loadChildren?(r._loadedRoutes?pt({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,St.U)(h=>(r._loadedRoutes=h.routes,r._loadedInjector=h.injector,new ln(i,{})))):pt(new ln(i,{}))):hD(t,r,i,e).pipe(yr(({matched:u,consumedSegments:h,remainingSegments:g})=>u?this.getChildConfig(e=r._injector??e,r,i).pipe((0,li.z)(C=>{const S=C.injector??e,R=C.routes,{segmentGroup:L,slicedSegments:$}=Bm(t,h,g,R),K=new ln(L.segments,L.children);if(0===$.length&&K.hasChildren())return this.expandChildren(S,R,K).pipe((0,St.U)(je=>new ln(h,je)));if(0===R.length&&0===$.length)return pt(new ln(h,{}));const J=Os(r)===a;return this.expandSegment(S,K,R,$,J?rn:a,!0).pipe((0,St.U)(Pe=>new ln(h.concat(Pe.segments),Pe.children)))})):Jd(t)))}getChildConfig(e,t,r){return t.children?pt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?pt({routes:t._loadedRoutes,injector:t._loadedInjector}):function _S(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?pt(!0):pt(i.map(u=>{const h=Au(u,n);return Ti(function oD(n){return n&&up(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))})).pipe(Nu(),dD())}(e,t,r).pipe((0,li.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Yr.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function Xv(n){return Yf(K1(fp,3))}())):pt({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return pt(r);if(i.numberOfChildren>1||!i.children[rn])return Yf(new l.vHH(4e3,fp));i=i.children[rn]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new bu(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Pr(e,(i,a)=>{if("string"==typeof i&&i.startsWith(":")){const h=i.substring(1);r[a]=t[h]}else r[a]=i}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let u={};return Pr(t.children,(h,g)=>{u[g]=this.createSegmentGroup(e,h,r,i)}),new ln(a,u)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new l.vHH(4001,fp);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class Xd{}class mR{constructor(e,t,r,i,a,u,h,g){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=a,this.paramsInheritanceStrategy=u,this.relativeLinkResolution=h,this.urlSerializer=g}recognize(){const e=Bm(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,rn).pipe((0,St.U)(t=>{if(null===t)return null;const r=new op([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},rn,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Aa(r,t),a=new Uv(this.url,i);return this.inheritParamsAndData(a._root),a}))}inheritParamsAndData(e){const t=e.value,r=Lv(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Jt.D)(Object.keys(r.children)).pipe(Dl(i=>{const a=r.children[i],u=zv(t,i);return this.processSegmentGroup(e,u,a,i)}),jd((i,a)=>i&&a?(i.push(...a),i):null),function GI(n,e=!1){return(0,Wr.e)((t,r)=>{let i=0;t.subscribe((0,cr.x)(r,a=>{const u=n(a,i++);(u||e)&&r.next(a),!u&&r.complete()}))})}(i=>null!==i),Qf(null),N1(),(0,St.U)(i=>{if(null===i)return null;const a=xt(i);return function pD(n){n.sort((e,t)=>e.value.outlet===rn?-1:t.value.outlet===rn?1:e.value.outlet.localeCompare(t.value.outlet))}(a),a}))}processSegment(e,t,r,i,a){return(0,Jt.D)(t).pipe(Dl(u=>this.processSegmentAgainstRoute(u._injector??e,u,r,i,a)),Kr(u=>!!u),hc(u=>{if(Um(u))return Yv(r,i,a)?pt([]):pt(null);throw u}))}processSegmentAgainstRoute(e,t,r,i,a){if(t.redirectTo||!Kv(t,r,i,a))return pt(null);let u;if("**"===t.path){const h=i.length>0?bv(i).parameters:{},g=_D(r)+i.length;u=pt({snapshot:new op(i,h,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yD(t),Os(t),t.component??t._loadedComponent??null,t,mD(r),g,gp(t),g),consumedSegments:[],remainingSegments:[]})}else u=hD(r,t,i,e).pipe((0,St.U)(({matched:h,consumedSegments:g,remainingSegments:v,parameters:C})=>{if(!h)return null;const S=_D(r)+g.length;return{snapshot:new op(g,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,yD(t),Os(t),t.component??t._loadedComponent??null,t,mD(r),S,gp(t),S),consumedSegments:g,remainingSegments:v}}));return u.pipe(yr(h=>{if(null===h)return pt(null);const{snapshot:g,consumedSegments:v,remainingSegments:C}=h;e=t._injector??e;const S=t._loadedInjector??e,R=function gD(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:L,slicedSegments:$}=Bm(r,v,C,R.filter(J=>void 0===J.redirectTo),this.relativeLinkResolution);if(0===$.length&&L.hasChildren())return this.processChildren(S,R,L).pipe((0,St.U)(J=>null===J?null:[new Aa(g,J)]));if(0===R.length&&0===$.length)return pt([new Aa(g,[])]);const K=Os(t)===a;return this.processSegment(S,R,L,$,K?rn:a).pipe((0,St.U)(J=>null===J?null:[new Aa(g,J)]))}))}}function _R(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function xt(n){const e=[],t=new Set;for(const r of n){if(!_R(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=xt(r.children);e.push(new Aa(r.value,i))}return e.filter(r=>!t.has(r))}function mD(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function _D(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function yD(n){return n.data||{}}function gp(n){return n.resolve||{}}function ur(n,e){return(0,li.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return pt(t);let a=0;return(0,Jt.D)(i).pipe(Dl(u=>function yR(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!n0(i)&&(a[fc]=i.title),function vD(n,e,t,r){const i=function bD(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return pt({});const a={};return(0,Jt.D)(i).pipe((0,li.z)(u=>function TS(n,e,t,r){const i=ap(e)??r,a=Au(n,i);return Ti(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[u],e,t,r).pipe(Kr(),(0,Yr.b)(h=>{a[u]=h}))),pv(1),function wm(n){return(0,St.U)(()=>n)}(a),hc(u=>Um(u)?Io.E:Yf(u)))}(a,n,e,r).pipe((0,St.U)(u=>(n._resolvedData=u,n.data=Lv(n,t).resolve,i&&n0(i)&&(n.data[fc]=i.title),null)))}(u.route,r,n,e)),(0,Yr.b)(()=>a++),pv(1),(0,li.z)(u=>a===i.length?pt(t):Io.E))})}function n0(n){return"string"==typeof n.title||null===n.title}function $m(n){return yr(e=>{const t=n(e);return t?(0,Jt.D)(t).pipe((0,St.U)(()=>e)):pt(e)})}let r0=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===rn);return r}getResolvedTitleForRoute(t){return t.data[fc]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(s0)},providedIn:"root"}),n})(),s0=(()=>{class n extends r0{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Xi))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class IS{}class mp extends class SS{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const Hm=new l.OlP("",{providedIn:"root",factory:()=>({})}),eh=new l.OlP("ROUTES");let Gm=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return pt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=Ti(t.loadComponent()).pipe((0,Yr.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),gv(()=>{this.componentLoaders.delete(t)})),i=new A1(r,()=>new wn.x).pipe(hv());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return pt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,St.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let g,v,C=!1;Array.isArray(h)?v=h:(g=h.create(t).injector,v=vv(g.get(eh,[],l.XFs.Self|l.XFs.Optional)));return{routes:v.map(xs),injector:g}}),gv(()=>{this.childrenLoaders.delete(r)})),u=new A1(a,()=>new wn.x).pipe(hv());return this.childrenLoaders.set(r,u),u}loadModuleFactoryOrRoutes(t){return Ti(t()).pipe((0,li.z)(r=>r instanceof l.YKP||Array.isArray(r)?pt(r):(0,Jt.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(l.Sil))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class DD{}class CD{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function _p(n){throw n}function yp(n,e,t){return e.parse("/")}const NS={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},xS={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function o0(){const n=(0,l.f3M)(Em),e=(0,l.f3M)(Yd),t=(0,l.f3M)(Ue),r=(0,l.f3M)(l.zs3),i=(0,l.f3M)(l.Sil),a=(0,l.f3M)(eh,{optional:!0})??[],u=(0,l.f3M)(Hm,{optional:!0})??{},h=(0,l.f3M)(s0),g=(0,l.f3M)(r0,{optional:!0}),v=(0,l.f3M)(DD,{optional:!0}),C=(0,l.f3M)(IS,{optional:!0}),S=new On(null,n,e,t,r,i,vv(a));return v&&(S.urlHandlingStrategy=v),C&&(S.routeReuseStrategy=C),S.titleStrategy=g??h,function OS(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(u,S),S}let On=(()=>{class n{constructor(t,r,i,a,u,h,g){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=i,this.location=a,this.config=g,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new wn.x,this.errorHandler=_p,this.malformedUriErrorHandler=yp,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>pt(void 0),this.urlHandlingStrategy=new CD,this.routeReuseStrategy=new mp,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=u.get(Gm),this.configLoader.onLoadEndListener=R=>this.triggerEvent(new j1(R)),this.configLoader.onLoadStartListener=R=>this.triggerEvent(new Mv(R)),this.ngModule=u.get(l.h0i),this.console=u.get(l.c2e);const S=u.get(l.R0b);this.isNgZoneEnabled=S instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(g),this.currentUrlTree=function Dm(){return new bu(new ln([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=sp(this.currentUrlTree,this.rootComponentType),this.transitions=new Rr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Zr(i=>0!==i.id),(0,St.U)(i=>({...i,extractedUrl:this.urlHandlingStrategy.extract(i.rawUrl)})),yr(i=>{let a=!1,u=!1;return pt(i).pipe((0,Yr.b)(h=>{this.currentNavigation={id:h.id,initialUrl:h.rawUrl,extractedUrl:h.extractedUrl,trigger:h.source,extras:h.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),yr(h=>{const g=this.browserUrlTree.toString(),v=!this.navigated||h.extractedUrl.toString()!==g||g!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||v)&&this.urlHandlingStrategy.shouldProcessUrl(h.rawUrl))return TD(h.source)&&(this.browserUrlTree=h.extractedUrl),pt(h).pipe(yr(S=>{const R=this.transitions.getValue();return r.next(new Ov(S.id,this.serializeUrl(S.extractedUrl),S.source,S.restoredState)),R!==this.transitions.getValue()?Io.E:Promise.resolve(S)}),function CS(n,e,t,r){return yr(i=>function e0(n,e,t,r,i){return new xu(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,St.U)(a=>({...i,urlAfterRedirects:a}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Yr.b)(S=>{this.currentNavigation={...this.currentNavigation,finalUrl:S.urlAfterRedirects},i.urlAfterRedirects=S.urlAfterRedirects}),function jm(n,e,t,r,i,a){return(0,li.z)(u=>function t0(n,e,t,r,i,a,u="emptyOnly",h="legacy"){return new mR(n,e,t,r,i,u,h,a).recognize().pipe(yr(g=>null===g?function gR(n){return new Mr.y(e=>e.error(n))}(new Xd):pt(g)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i,a).pipe((0,St.U)(h=>({...u,targetSnapshot:h}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Yr.b)(S=>{if(i.targetSnapshot=S.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!S.extras.skipLocationChange){const L=this.urlHandlingStrategy.merge(S.urlAfterRedirects,S.rawUrl);this.setBrowserUrl(L,S)}this.browserUrlTree=S.urlAfterRedirects}const R=new tS(S.id,this.serializeUrl(S.extractedUrl),this.serializeUrl(S.urlAfterRedirects),S.targetSnapshot);r.next(R)}));if(v&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:R,extractedUrl:L,source:$,restoredState:K,extras:J}=h,Te=new Ov(R,this.serializeUrl(L),$,K);r.next(Te);const Pe=sp(L,this.rootComponentType).snapshot;return pt(i={...h,targetSnapshot:Pe,urlAfterRedirects:L,extras:{...J,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=h.rawUrl,h.resolve(null),Io.E}),(0,Yr.b)(h=>{const g=new Om(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot);this.triggerEvent(g)}),(0,St.U)(h=>i={...h,guards:lp(h.targetSnapshot,h.currentSnapshot,this.rootContexts)}),function uD(n,e){return(0,li.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:u}}=t;return 0===u.length&&0===a.length?pt({...t,guardsResult:!0}):function uS(n,e,t,r){return(0,Jt.D)(n).pipe((0,li.z)(i=>function mS(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return a&&0!==a.length?pt(a.map(h=>{const g=ap(e)??i,v=Au(h,g);return Ti(function aD(n){return n&&up(n.canDeactivate)}(v)?v.canDeactivate(n,e,t,r):g.runInContext(()=>v(n,e,t,r))).pipe(Kr())})).pipe(Nu()):pt(!0)}(i.component,i.route,t,e,r)),Kr(i=>!0!==i,!0))}(u,r,i,n).pipe((0,li.z)(h=>h&&function sD(n){return"boolean"==typeof n}(h)?function dS(n,e,t,r){return(0,Jt.D)(e).pipe(Dl(i=>oi(function fS(n,e){return null!==n&&e&&e(new $1(n)),pt(!0)}(i.route.parent,r),function hS(n,e){return null!==n&&e&&e(new H1(n)),pt(!0)}(i.route,r),function gS(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(u=>function lS(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(u)).filter(u=>null!==u).map(u=>uv(()=>pt(u.guards.map(g=>{const v=ap(u.node)??t,C=Au(g,v);return Ti(function Lm(n){return n&&up(n.canActivateChild)}(C)?C.canActivateChild(r,n):v.runInContext(()=>C(r,n))).pipe(Kr())})).pipe(Nu())));return pt(a).pipe(Nu())}(n,i.path,t),function pS(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return pt(!0);const i=r.map(a=>uv(()=>{const u=ap(e)??t,h=Au(a,u);return Ti(function qv(n){return n&&up(n.canActivate)}(h)?h.canActivate(e,n):u.runInContext(()=>h(e,n))).pipe(Kr())}));return pt(i).pipe(Nu())}(n,i.route,t))),Kr(i=>!0!==i,!0))}(r,a,n,e):pt(h)),(0,St.U)(h=>({...t,guardsResult:h})))})}(this.ngModule.injector,h=>this.triggerEvent(h)),(0,Yr.b)(h=>{if(i.guardsResult=h.guardsResult,eo(h.guardsResult))throw Z1(0,h.guardsResult);const g=new Mm(h.id,this.serializeUrl(h.extractedUrl),this.serializeUrl(h.urlAfterRedirects),h.targetSnapshot,!!h.guardsResult);this.triggerEvent(g)}),Zr(h=>!!h.guardsResult||(this.restoreHistory(h),this.cancelNavigationTransition(h,"",3),!1)),$m(h=>{if(h.guards.canActivateChecks.length)return pt(h).pipe((0,Yr.b)(g=>{const v=new B1(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}),yr(g=>{let v=!1;return pt(g).pipe(ur(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Yr.b)({next:()=>v=!0,complete:()=>{v||(this.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),(0,Yr.b)(g=>{const v=new V1(g.id,this.serializeUrl(g.extractedUrl),this.serializeUrl(g.urlAfterRedirects),g.targetSnapshot);this.triggerEvent(v)}))}),$m(h=>{const g=v=>{const C=[];v.routeConfig?.loadComponent&&!v.routeConfig._loadedComponent&&C.push(this.configLoader.loadComponent(v.routeConfig).pipe((0,Yr.b)(S=>{v.component=S}),(0,St.U)(()=>{})));for(const S of v.children)C.push(...g(S));return C};return Kf(g(h.targetSnapshot.root)).pipe(Qf(),ai(1))}),$m(()=>this.afterPreactivation()),(0,St.U)(h=>{const g=function rS(n,e,t){const r=Kd(n,e._root,t?t._root:void 0);return new Pm(r,e)}(this.routeReuseStrategy,h.targetSnapshot,h.currentRouterState);return i={...h,targetRouterState:g}}),(0,Yr.b)(h=>{this.currentUrlTree=h.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(h.urlAfterRedirects,h.rawUrl),this.routerState=h.targetRouterState,"deferred"===this.urlUpdateStrategy&&(h.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,h),this.browserUrlTree=h.urlAfterRedirects)}),((n,e,t)=>(0,St.U)(r=>(new aS(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,h=>this.triggerEvent(h)),(0,Yr.b)({next(){a=!0},complete(){a=!0}}),gv(()=>{a||u||this.cancelNavigationTransition(i,"",1),this.currentNavigation?.id===i.id&&(this.currentNavigation=null)}),hc(h=>{if(u=!0,Y1(h)){jv(h)||(this.navigated=!0,this.restoreHistory(i,!0));const g=new Tu(i.id,this.serializeUrl(i.extractedUrl),h.message,h.cancellationCode);if(r.next(g),jv(h)){const v=this.urlHandlingStrategy.merge(h.url,this.rawUrlTree),C={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||TD(i.source)};this.scheduleNavigation(v,"imperative",null,C,{resolve:i.resolve,reject:i.reject,promise:i.promise})}else i.resolve(!1)}else{this.restoreHistory(i,!0);const g=new xm(i.id,this.serializeUrl(i.extractedUrl),h,i.targetSnapshot??void 0);r.next(g);try{i.resolve(this.errorHandler(h))}catch(v){i.reject(v)}}return Io.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const i={replaceUrl:!0},a=t.state?.navigationId?t.state:null;if(a){const h={...a};delete h.navigationId,delete h.\u0275routerPageId,0!==Object.keys(h).length&&(i.state=h)}const u=this.parseUrl(t.url);this.scheduleNavigation(u,r,a,i)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(xs),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:u,queryParamsHandling:h,preserveFragment:g}=r,v=i||this.routerState.root,C=g?this.currentUrlTree.fragment:u;let S=null;switch(h){case"merge":S={...this.currentUrlTree.queryParams,...a};break;case"preserve":S=this.currentUrlTree.queryParams;break;default:S=a||null}return null!==S&&(S=this.removeEmptyProps(S)),Zd(v,this.currentUrlTree,t,S,C??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=eo(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function ED(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...NS}:!1===r?{...xS}:r,eo(t))return Cm(this.currentUrlTree,t,i);const a=this.parseUrl(t);return Cm(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Sa(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,i,a,u){if(this.disposed)return Promise.resolve(!1);let h,g,v;u?(h=u.resolve,g=u.reject,v=u.promise):v=new Promise((R,L)=>{h=R,g=L});const C=++this.navigationId;let S;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(i=this.location.getState()),S=i&&i.\u0275routerPageId?i.\u0275routerPageId:a.replaceUrl||a.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):S=0,this.setTransition({id:C,targetPageId:S,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:a,resolve:h,reject:g,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(R=>Promise.reject(R))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),a={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",a):this.location.go(i,"",a)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===i?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,i){const a=new Tu(t.id,this.serializeUrl(t.extractedUrl),r,i);this.triggerEvent(a),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:function(){return o0()},providedIn:"root"}),n})();function TD(n){return"imperative"!==n}let th=(()=>{class n{constructor(t,r,i,a,u){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=a,this.el=u,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.onChanges=new wn.x,this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){if(null!=this.tabIndexAttribute)return;const r=this.renderer,i=this.el.nativeElement;null!==t?r.setAttribute(i,"tabindex",t):r.removeAttribute(i,"tabindex")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){return null===this.urlTree||this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(On),l.Y36(mc),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})(),qm=(()=>{class n{constructor(t,r,i){this.router=t,this.route=r,this.locationStrategy=i,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.commands=null,this.href=null,this.onChanges=new wn.x,this.subscription=t.events.subscribe(a=>{a instanceof Sa&&this.updateTargetUrlAndHref()})}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:null}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,r,i,a,u){return!!(0!==t||r||i||a||u||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!1)}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(On),l.Y36(mc),l.Y36(we))},n.\u0275dir=l.lG2({type:n,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,r){1&t&&l.NdJ("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),2&t&&l.uIk("target",r.target)("href",r.href,l.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class RS{}let ID=(()=>{class n{constructor(t,r,i,a,u){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=u}setUpPreloading(){this.subscription=this.router.events.pipe(Zr(t=>t instanceof Sa),Dl(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,l.MMx)(a.providers,t,`Route: ${a.path}`));const u=a._injector??t,h=a._loadedInjector??u;a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent?i.push(this.preloadConfig(u,a)):(a.children||a._loadedRoutes)&&i.push(this.processRoutes(h,a.children??a._loadedRoutes))}return(0,Jt.D)(i).pipe((0,Vd.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):pt(null);const a=i.pipe((0,li.z)(u=>null===u?pt(void 0):(r._loadedRoutes=u.routes,r._loadedInjector=u.injector,this.processRoutes(u.injector??t,u.routes))));if(r.loadComponent&&!r._loadedComponent){const u=this.loader.loadComponent(r);return(0,Jt.D)([a,u]).pipe((0,Vd.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(On),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(RS),l.LFG(Gm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nh=new l.OlP("");let SD=(()=>{class n{constructor(t,r,i={}){this.router=t,this.viewportScroller=r,this.options=i,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},i.scrollPositionRestoration=i.scrollPositionRestoration||"disabled",i.anchorScrolling=i.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ov?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Sa&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Pv&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new Pv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function ih(n,e){return{\u0275kind:n,\u0275providers:e}}function a0(n){return[{provide:eh,multi:!0,useValue:n}]}function AD(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const r=n.get(On),i=n.get(ND);1===n.get(Zm)&&r.initialNavigation(),n.get(xD,null,l.XFs.Optional)?.setUpPreloading(),n.get(nh,null,l.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.next(),i.complete()}}const ND=new l.OlP("",{factory:()=>new wn.x}),Zm=new l.OlP("",{providedIn:"root",factory:()=>1});const xD=new l.OlP("");function OD(n){return ih(0,[{provide:xD,useExisting:ID},{provide:RS,useExisting:n}])}const l0=new l.OlP("ROUTER_FORROOT_GUARD"),LS=[Ue,{provide:Em,useClass:Dv},{provide:On,useFactory:o0},Yd,{provide:mc,useFactory:function rh(n){return n.routerState.root},deps:[On]},Gm];function c0(){return new l.PXZ("Router",On)}let MD=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[LS,[],a0(t),{provide:l0,useFactory:BS,deps:[[On,new l.FiY,new l.tp0]]},{provide:Hm,useValue:r||{}},r?.useHash?{provide:we,useClass:et}:{provide:we,useClass:nt},{provide:nh,useFactory:()=>{const n=(0,l.f3M)(On),e=(0,l.f3M)(td),t=(0,l.f3M)(Hm);return t.scrollOffset&&e.setOffset(t.scrollOffset),new SD(n,e,t)}},r?.preloadingStrategy?OD(r.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:c0},r?.initialNavigation?VS(r):[],[{provide:Km,useFactory:AD},{provide:l.tb,multi:!0,useExisting:Km}]]}}static forChild(t){return{ngModule:n,providers:[a0(t)]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l0,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[$v]}),n})();function BS(n){return"guarded"}function VS(n){return["disabled"===n.initialNavigation?ih(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(On);return()=>{e.setUpLocationChangeListener()}}},{provide:Zm,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?ih(2,[{provide:Zm,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(W,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(a=>{const u=e.get(On),h=e.get(ND);(function i(a){e.get(On).events.pipe(Zr(h=>h instanceof Sa||h instanceof Tu||h instanceof xm),(0,St.U)(h=>h instanceof Sa||h instanceof Tu&&(0===h.code||1===h.code)&&null),Zr(h=>null!==h),ai(1)).subscribe(()=>{a()})})(()=>{a(!0),r=!0}),u.afterPreactivation=()=>(a(!0),r||h.closed?pt(void 0):h),u.initialNavigation()}))}}]).\u0275providers:[]]}const Km=new l.OlP("");var pe=F(5861),ji=F(9681),Xt=F(2090),wp=F(4859);const kD="firebasestorage.googleapis.com",FD="storageBucket";class sr extends Xt.ZR{constructor(e,t,r=0){super(Ym(e),`Firebase Storage: ${t} (${Ym(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,sr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Ym(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Ym(n){return"storage/"+n}function u0(){return new sr("unknown","An unknown error occurred, please check the error payload for server response.")}function Qm(){return new sr("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}function f0(){return new sr("canceled","User canceled the upload/download.")}function Jm(){return new sr("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function yc(n){return new sr("invalid-argument",n)}function g0(){return new sr("app-deleted","The Firebase app was deleted.")}function Xm(n,e){return new sr("invalid-format","String does not match format '"+n+"': "+e)}function sh(n){throw new sr("internal-error","Internal error: "+n)}class ci{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=ci.makeFromUrl(e,t)}catch{return new ci(e,"")}if(""===r.path)return r;throw function WS(n){return new sr("invalid-default-bucket","Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",h=new RegExp("^gs://"+i+"(/(.*))?$","i");function v(Oe){Oe.path_=decodeURIComponent(Oe.path)}const S=t.replace(/[.]/g,"\\."),je=[{regex:h,indices:{bucket:1,path:3},postModify:function a(Oe){"/"===Oe.path.charAt(Oe.path.length-1)&&(Oe.path_=Oe.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${S}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:v},{regex:new RegExp(`^https?://${t===kD?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:v}];for(let Oe=0;Oe<je.length;Oe++){const qe=je[Oe],Ze=qe.regex.exec(e);if(Ze){let Vt=Ze[qe.indices.path];Vt||(Vt=""),r=new ci(Ze[qe.indices.bucket],Vt),qe.postModify(r);break}}if(null==r)throw function p0(n){return new sr("invalid-url","Invalid URL '"+n+"'.")}(e);return r}}class QS{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Dp(n){return"string"==typeof n||n instanceof String}function y0(n){return e_()&&n instanceof Blob}function e_(){return typeof Blob<"u"}function v0(n,e,t,r){if(r<e)throw yc(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw yc(`Invalid value for '${n}'. Expected ${t} or less.`)}function Sl(n,e,t){let r=e;return null==t&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function $D(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}var vc=(()=>{return(n=vc||(vc={}))[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",vc;var n})();function b0(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),a=-1!==e.indexOf(n);return t||i||a}class ER{constructor(e,t,r,i,a,u,h,g,v,C,S,R=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=u,this.callback_=h,this.errorCallback_=g,this.timeout_=v,this.progressCallback_=C,this.connectionFactory_=S,this.retry=R,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((L,$)=>{this.resolve_=L,this.reject_=$,this.start_()})}start_(){const t=(r,i)=>{const a=this.resolve_,u=this.reject_,h=i.connection;if(i.wasSuccessCode)try{const g=this.callback_(h,h.getResponse());!function VD(n){return void 0!==n}(g)?a():a(g)}catch(g){u(g)}else if(null!==h){const g=u0();g.serverResponse=h.getErrorText(),u(this.errorCallback_?this.errorCallback_(h,g):g)}else u(i.canceled?this.appDelete_?g0():f0():Qm())};this.canceled_?t(0,new Cp(!1,null,!0)):this.backoffId_=function m0(n,e,t){let r=1,i=null,a=null,u=!1,h=0;function g(){return 2===h}let v=!1;function C(...J){v||(v=!0,e.apply(null,J))}function S(J){i=setTimeout(()=>{i=null,n(L,g())},J)}function R(){a&&clearTimeout(a)}function L(J,...Te){if(v)return void R();if(J)return R(),void C.call(null,J,...Te);if(g()||u)return R(),void C.call(null,J,...Te);let je;r<64&&(r*=2),1===h?(h=2,je=0):je=1e3*(r+Math.random()),S(je)}let $=!1;function K(J){$||($=!0,R(),!v&&(null!==i?(J||(h=2),clearTimeout(i),S(0)):J||(h=1)))}return S(0),a=setTimeout(()=>{u=!0,K(!0)},t),K}((r,i)=>{if(i)return void r(!1,new Cp(!1,null,!0));const a=this.connectionFactory_();this.pendingConnection_=a;const u=h=>{null!==this.progressCallback_&&this.progressCallback_(h.loaded,h.lengthComputable?h.total:-1)};null!==this.progressCallback_&&a.addUploadProgressListener(u),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&a.removeUploadProgressListener(u),this.pendingConnection_=null;const h=a.getErrorCode()===vc.NO_ERROR,g=a.getStatus();if((!h||b0(g,this.additionalRetryCodes_))&&this.retry){const C=a.getErrorCode()===vc.ABORT;return void r(!1,new Cp(!1,null,C))}const v=-1!==this.successCodes_.indexOf(g);r(!0,new Cp(v,a))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function JS(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class Cp{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}function rA(...n){const e=function nA(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}();if(void 0!==e){const t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}if(e_())return new Blob(n);throw new sr("unsupported-environment","This browser doesn't seem to support creating Blobs")}class w0{constructor(e,t){this.data=e,this.contentType=t||null}}function qD(n){const e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<=127?e.push(r):r<=2047?e.push(192|r>>6,128|63&r):55296==(64512&r)?t<n.length-1&&56320==(64512&n.charCodeAt(t+1))?(r=65536|(1023&r)<<10|1023&n.charCodeAt(++t),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):e.push(239,191,189):56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function WD(n,e){switch(n){case"base64":{const i=-1!==e.indexOf("-"),a=-1!==e.indexOf("_");if(i||a)throw Xm(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case"base64url":{const i=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(i||a)throw Xm(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=function GD(n){return atob(n)}(e)}catch{throw Xm(n,"Invalid character found")}const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}class ZD{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Xm("data_url","Must be formatted 'data:[<mediatype>][;base64],<data>");const r=t[1]||null;null!=r&&(this.base64=function YD(n,e){return n.length>=e.length&&n.substring(n.length-e.length)===e}(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}class xa{constructor(e,t){let r=0,i="";y0(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(y0(this.data_)){const i=function HD(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}(this.data_,e,t);return null===i?null:new xa(i)}{const r=new Uint8Array(this.data_.buffer,e,t-e);return new xa(r,!0)}}static getBlob(...e){if(e_()){const t=e.map(r=>r instanceof xa?r.data_:r);return new xa(rA.apply(null,t))}{const t=e.map(u=>Dp(u)?function zD(n,e){switch(n){case"raw":return new w0(qD(e));case"base64":case"base64url":return new w0(WD(n,e));case"data_url":return new w0(function Ep(n){const e=new ZD(n);return e.base64?WD("base64",e.rest):function iA(n){let e;try{e=decodeURIComponent(n)}catch{throw Xm("data_url","Malformed data URL.")}return qD(e)}(e.rest)}(e),function KD(n){return new ZD(n).contentType}(e))}throw u0()}("raw",u).data:u.data_);let r=0;t.forEach(u=>{r+=u.byteLength});const i=new Uint8Array(r);let a=0;return t.forEach(u=>{for(let h=0;h<u.length;h++)i[a++]=u[h]}),new xa(i,!0)}}uploadData(){return this.data_}}function t_(n){let e;try{e=JSON.parse(n)}catch{return null}return function jD(n){return"object"==typeof n&&!Array.isArray(n)}(e)?e:null}function JD(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}function SR(n,e){return e}class $i{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||SR}}let n_=null;function Tp(){if(n_)return n_;const n=[];n.push(new $i("bucket")),n.push(new $i("generation")),n.push(new $i("metageneration")),n.push(new $i("name","fullPath",!0));const t=new $i("name");t.xform=function e(a,u){return function oA(n){return!Dp(n)||n.length<2?n:JD(n)}(u)},n.push(t);const i=new $i("size");return i.xform=function r(a,u){return void 0!==u?Number(u):u},n.push(i),n.push(new $i("timeCreated")),n.push(new $i("updated")),n.push(new $i("md5Hash",null,!0)),n.push(new $i("cacheControl",null,!0)),n.push(new $i("contentDisposition",null,!0)),n.push(new $i("contentEncoding",null,!0)),n.push(new $i("contentLanguage",null,!0)),n.push(new $i("contentType",null,!0)),n.push(new $i("metadata","customMetadata",!0)),n_=n,n_}function XD(n,e,t){const r=t_(e);return null===r?null:function Ip(n,e,t){const r={type:"file"},i=t.length;for(let a=0;a<i;a++){const u=t[a];r[u.local]=u.xform(r,e[u.server])}return function aA(n,e){Object.defineProperty(n,"ref",{get:function t(){const a=new ci(n.bucket,n.fullPath);return e._makeStorageReference(a)}})}(r,n),r}(n,r,t)}function no(n,e){const t={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(t[a.server]=n[a.local])}return JSON.stringify(t)}class Oa{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function Ma(n){if(!n)throw u0()}function Mu(n,e){return function t(r,i){const a=XD(n,i,e);return Ma(null!==a),a}}function oh(n){return function e(t,r){let i;return i=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?function qS(){return new sr("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function zS(){return new sr("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===t.getStatus()?function UD(n){return new sr("quota-exceeded","Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(n.bucket):403===t.getStatus()?function h0(n){return new sr("unauthorized","User does not have permission to access '"+n+"'.")}(n.path):r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}}function ah(n){const e=oh(n);return function t(r,i){let a=e(r,i);return 404===r.getStatus()&&(a=function d0(n){return new sr("object-not-found","Object '"+n+"' does not exist.")}(n.path)),a.serverResponse=i.serverResponse,a}}function s_(n,e,t){const r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=function I0(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}class lh{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}}function Ap(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch{Ma(!1)}return Ma(!!t&&-1!==(e||["active"]).indexOf(t)),t}function o_(n){switch(n){case"running":case"pausing":case"canceling":return"running";case"paused":return"paused";case"success":return"success";case"canceled":return"canceled";default:return"error"}}class nC{constructor(e,t,r){if(function _0(n){return"function"==typeof n}(e)||null!=t||null!=r)this.next=e,this.error=t??void 0,this.complete=r??void 0;else{const a=e;this.next=a.next,this.error=a.error,this.complete=a.complete}}}function Ru(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}class rC extends class mA{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=vc.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=vc.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=vc.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw sh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==i)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return void 0!==r?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw sh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw sh("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw sh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw sh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function ro(){return new rC}class ch{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Tp(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals("canceled"))this._needToFetchStatus=!0,this.completeTransitions_();else{const a=this.isExponentialBackoffExpired();if(b0(i.status,[])){if(!a)return this.sleepTime=Math.max(2*this.sleepTime,1e3),this._needToFetchStatus=!0,void this.completeTransitions_();i=Qm()}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals("canceled")?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,a)=>{this._resolve=i,this._reject=a,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const r=function hA(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),u=s_(e,r,i),h={name:u.fullPath},g=Sl(a,n.host,n._protocol),C={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":u.contentType,"Content-Type":"application/json; charset=utf-8"},S=no(u,t),$=new Oa(g,"POST",function L(K){let J;Ap(K);try{J=K.getResponseHeader("X-Goog-Upload-URL")}catch{Ma(!1)}return Ma(Dp(J)),J},n.maxUploadRetryTime);return $.urlParams=h,$.headers=C,$.body=S,$.errorHandler=oh(e),$}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ro,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._uploadUrl=a,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,r)=>{const i=function fA(n,e,t,r){const g=new Oa(t,"POST",function a(v){const C=Ap(v,["active","final"]);let S=null;try{S=v.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Ma(!1)}S||Ma(!1);const R=Number(S);return Ma(!isNaN(R)),new lh(R,r.size(),"final"===C)},n.maxUploadRetryTime);return g.headers={"X-Goog-Upload-Command":"query"},g.errorHandler=oh(e),g}(this._ref.storage,this._ref._location,e,this._blob),a=this._ref.storage._makeRequest(i,ro,t,r);this._request=a,a.getPromise().then(u=>{this._request=void 0,this._updateProgress(u.current),this._needToFetchStatus=!1,u.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=262144*this._chunkMultiplier,t=new lh(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,a)=>{let u;try{u=function pA(n,e,t,r,i,a,u,h){const g=new lh(0,0);if(u?(g.current=u.current,g.total=u.total):(g.current=0,g.total=r.size()),r.size()!==g.total)throw function KS(){return new sr("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const v=g.total-g.current;let C=v;i>0&&(C=Math.min(C,i));const S=g.current;let L="";L=0===C?"finalize":v===C?"upload, finalize":"upload";const $={"X-Goog-Upload-Command":L,"X-Goog-Upload-Offset":`${g.current}`},K=r.slice(S,S+C);if(null===K)throw Jm();const je=new Oa(t,"POST",function J(Oe,qe){const Ze=Ap(Oe,["active","final"]),ht=g.current+C,Vt=r.size();let Dn;return Dn="final"===Ze?Mu(e,a)(Oe,qe):null,new lh(ht,Vt,"final"===Ze,Dn)},e.maxUploadRetryTime);return je.headers=$,je.body=K.uploadData(),je.progressCallback=h||null,je.errorHandler=oh(n),je}(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(g){return this._error=g,void this._transition("error")}const h=this._ref.storage._makeRequest(u,ro,i,a,!1);this._request=h,h.getPromise().then(g=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(g.current),g.finalized?(this._metadata=g.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier*2<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const r=function C0(n,e,t){const i=Sl(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Oa(i,"GET",Mu(n,t),u);return h.errorHandler=ah(e),h}(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,ro,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const r=function S0(n,e,t,r,i){const a=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"},g=function h(){let je="";for(let Oe=0;Oe<2;Oe++)je+=Math.random().toString().slice(2);return je}();u["Content-Type"]="multipart/related; boundary="+g;const v=s_(e,r,i),C=no(v,t),L=xa.getBlob("--"+g+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+C+"\r\n--"+g+"\r\nContent-Type: "+v.contentType+"\r\n\r\n",r,"\r\n--"+g+"--");if(null===L)throw Jm();const $={name:v.fullPath},K=Sl(a,n.host,n._protocol),Te=n.maxUploadRetryTime,Pe=new Oa(K,"POST",Mu(n,t),Te);return Pe.urlParams=$,Pe.headers=u,Pe.body=L.uploadData(),Pe.errorHandler=oh(e),Pe}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,ro,e,t);this._request=i,i.getPromise().then(a=>{this._request=void 0,this._metadata=a,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=e,this._notifyObservers();break;case"canceled":this._error=f0(),this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=o_(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){const a=new nC(t||void 0,r||void 0,i||void 0);return this._addObserver(a),()=>{this._removeObserver(a)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(o_(this._state)){case"success":Ru(this._resolve.bind(null,this.snapshot))();break;case"canceled":case"error":Ru(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(o_(this._state)){case"running":case"paused":e.next&&Ru(e.next.bind(e,this.snapshot))();break;case"success":e.complete&&Ru(e.complete.bind(e))();break;default:e.error&&Ru(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class Pu{constructor(e,t){this._service=e,this._location=t instanceof ci?t:ci.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Pu(e,t)}get root(){const e=new ci(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return JD(this._location.path)}get storage(){return this._service}get parent(){const e=function QD(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new ci(this._location.bucket,e);return new Pu(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function YS(n){return new sr("invalid-root-operation","The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function wA(n){n._throwIfRoot("getDownloadURL");const e=function uA(n,e,t){const i=Sl(e.fullServerUrl(),n.host,n._protocol),u=n.maxOperationRetryTime,h=new Oa(i,"GET",function cA(n,e){return function t(r,i){const a=XD(n,i,e);return Ma(null!==a),function D0(n,e,t,r){const i=t_(e);if(null===i||!Dp(i.downloadTokens))return null;const a=i.downloadTokens;if(0===a.length)return null;const u=encodeURIComponent;return a.split(",").map(v=>{const S=n.fullPath;return Sl("/b/"+u(n.bucket)+"/o/"+u(S),t,r)+$D({alt:"media",token:v})})[0]}(a,i,n.host,n._protocol)}}(n,t),u);return h.errorHandler=ah(e),h}(n.storage,n._location,Tp());return n.storage.makeRequestWithTokens(e,ro).then(t=>{if(null===t)throw function BD(){return new sr("no-download-url","The given file does not have any download URLs.")}();return t})}function Op(n,e){if(n instanceof x0){const t=n;if(null==t._bucket)throw function ZS(){return new sr("no-default-bucket","No default bucket found. Did you set the '"+FD+"' property when initializing the app?")}();const r=new Pu(t,t._bucket);return null!=e?Op(r,e):r}return void 0!==e?function a_(n,e){const t=function sA(n,e){const t=e.split("/").filter(r=>r.length>0).join("/");return 0===n.length?t:n+"/"+t}(n._location.path,e),r=new ci(n._location.bucket,t);return new Pu(n.storage,r)}(n,e):n}function CA(n,e){const t=e?.[FD];return null==t?null:ci.makeFromBucketSpec(t,n)}class x0{constructor(e,t,r,i,a){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=kD,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?ci.makeFromBucketSpec(i,this._host):CA(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?ci.makeFromBucketSpec(this._url,e):CA(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){v0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){v0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,pe.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,pe.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Pu(this,e)}_makeRequest(e,t,r,i,a=!0){if(this._deleted)return new QS(g0());{const u=function tA(n,e,t,r,i,a,u=!0){const h=$D(n.urlParams),g=n.url+h,v=Object.assign({},n.headers);return function TR(n,e){e&&(n["X-Firebase-GMPID"]=e)}(v,e),function XS(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(v,t),function eA(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(v,a),function IR(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(v,r),new ER(g,n.method,v,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,u)}(e,this._appId,r,i,t,this._firebaseVersion,a);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}makeRequestWithTokens(e,t){var r=this;return(0,pe.Z)(function*(){const[i,a]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,a).getPromise()})()}}const O0="@firebase/storage",pC="storage";function OA(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new x0(t,r,i,e,ji.SDK_VERSION)}!function yC(){(0,ji._registerComponent)(new wp.wA(pC,OA,"PUBLIC").setMultipleInstances(!0)),(0,ji.registerVersion)(O0,"0.9.12",""),(0,ji.registerVersion)(O0,"0.9.12","esm2017")}();const M0=["toast-component",""];function vC(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",5),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.remove())}),l.TgZ(1,"span",6),l._uU(2,"\xd7"),l.qZA()()}}function bC(n,e){if(1&n&&(l.ynx(0),l._uU(1),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.hij("[",t.duplicatesCount+1,"]")}}function MA(n,e){if(1&n&&(l.TgZ(0,"div"),l._uU(1),l.YNc(2,bC,2,1,"ng-container",4),l.qZA()),2&n){const t=l.oxw();l.Tol(t.options.titleClass),l.uIk("aria-label",t.title),l.xp6(1),l.hij(" ",t.title," "),l.xp6(1),l.Q6J("ngIf",t.duplicatesCount)}}function RA(n,e){if(1&n&&l._UZ(0,"div",7),2&n){const t=l.oxw();l.Tol(t.options.messageClass),l.Q6J("innerHTML",t.message,l.oJD)}}function PR(n,e){if(1&n&&(l.TgZ(0,"div",8),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.Tol(t.options.messageClass),l.uIk("aria-label",t.message),l.xp6(1),l.hij(" ",t.message," ")}}function wC(n,e){if(1&n&&(l.TgZ(0,"div"),l._UZ(1,"div",9),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Udp("width",t.width+"%")}}class l_{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class DC{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new wn.x,this._activate=new wn.x,this._manualClose=new wn.x,this._resetTimeout=new wn.x,this._countDuplicate=new wn.x}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class Fu{constructor(e,t,r,i,a,u){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=a,this.toastRef=u,this._onTap=new wn.x,this._onAction=new wn.x,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const P0=new l.OlP("ToastConfig");class $R extends class jR{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class k0{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let CC=(()=>{class n{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),PA=(()=>{class n{constructor(t,r,i,a){this._overlayContainer=t,this._componentFactoryResolver=r,this._appRef=i,this._document=a,this._paneElements=new Map}create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new $R(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new k0(this._createPortalHost(t))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(CC),l.LFG(l._Vd),l.LFG(l.z2F),l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ms=(()=>{class n{constructor(t,r,i,a,u){this.overlay=r,this._injector=i,this.sanitizer=a,this.ngZone=u,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},a=""){return this._preBuildNotification(a,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,a){const{includeTitleDuplicates:u}=this.toastrConfig;for(const h of this.toasts){const g=u&&h.title===t;if((!u||g)&&h.message===r)return h.toastRef.onDuplicate(i,a),h}return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,a){return a.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,a)):this._buildNotification(t,r,i,a)}_buildNotification(t,r,i,a){if(!a.toastComponent)throw new Error("toastComponent required");const u=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&a.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==u)return u;this.previousToastMessage=r;let h=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(h=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const g=this.overlay.create(a.positionClass,this.overlayContainer);this.index=this.index+1;let v=r;r&&a.enableHtml&&(v=this.sanitizer.sanitize(l.q3G.HTML,r));const C=new DC(g),S=new Fu(this.index,a,v,i,t,C),L=l.zs3.create({providers:[{provide:Fu,useValue:S}],parent:this._injector}),$=new l_(a.toastComponent,L),K=g.attach($,a.newestOnTop);C.componentInstance=K.instance;const J={toastId:this.index,title:i||"",message:r||"",toastRef:C,onShown:C.afterActivate(),onHidden:C.afterClosed(),onTap:S.onTap(),onAction:S.onAction(),portal:K};return h||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{J.toastRef.activate()})),this.toasts.push(J),J}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(P0),l.LFG(PA),l.LFG(l.zs3),l.LFG(ua),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const kA={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class n{constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(a=>{this.duplicatesCount=a})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ms),l.Y36(Fu),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r.tapToast()})("mouseenter",function(){return r.stickAround()})("mouseleave",function(){return r.delayedHideToast()}),2&t&&(l.d8E("@flyInOut",r.state),l.Tol(r.toastClasses),l.Udp("display",r.displayStyle))},attrs:M0,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(t,r){1&t&&(l.YNc(0,vC,3,0,"button",0),l.YNc(1,MA,3,5,"div",1),l.YNc(2,RA,1,3,"div",2),l.YNc(3,PR,2,4,"div",3),l.YNc(4,wC,2,2,"div",4)),2&t&&(l.Q6J("ngIf",r.options.closeButton),l.xp6(1),l.Q6J("ngIf",r.title),l.xp6(1),l.Q6J("ngIf",r.message&&r.options.enableHtml),l.xp6(1),l.Q6J("ngIf",r.message&&!r.options.enableHtml),l.xp6(1),l.Q6J("ngIf",r.options.progressBar))},dependencies:[hn],encapsulation:2,data:{animation:[_d("flyInOut",[Ts("inactive",Li({opacity:0})),Ts("active",Li({opacity:1})),Ts("removed",Li({opacity:0})),tu("inactive => active",Cr("{{ easeTime }}ms {{ easing }}")),tu("active => removed",Cr("{{ easeTime }}ms {{ easing }}"))])]}}),n})()};let FA=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[{provide:P0,useValue:{default:kA,config:t}}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ti]}),n})();var zR=F(6451),L0=F(5363),LA=F(6063);class UA extends wn.x{constructor(e=1/0,t=1/0,r=LA.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:a,_windowTime:u}=this;t||(r.push(e),!i&&r.push(a.now()+u)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,a=i.slice();for(let u=0;u<a.length&&!e.closed;u+=r?1:2)e.next(a[u]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,a=(i?1:2)*e;if(e<1/0&&a<r.length&&r.splice(0,r.length-a),!i){const u=t.now();let h=0;for(let g=1;g<r.length&&r[g]<=u;g+=2)h=g;h&&r.splice(0,h+1)}}}var BA=F(3099);function VA(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,BA.B)({connector:()=>new UA(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function EC(n,e){return(0,wl.m)(e)?yr(()=>n,e):yr(()=>n)}var c_=F(9468),Gn=F(5813),Ra=F(2011),Rs=F(5867);class u_{constructor(){return(0,Rs.C6)()}}var Pa=F(1877);const Al=new Map,IC={activated:!1,tokenObservers:[]},V0={initialized:!1,enabled:!1};function Bn(n){return Al.get(n)||IC}function so(n,e){Al.set(n,e)}function j0(){return V0}class SC{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,pe.Z)(function*(){t.stop();try{t.pending=new Xt.BH,yield function YA(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Xt.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const as=new Xt.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function G0(n){if(!Bn(n).activated)throw as.create("use-before-activation",{appName:n.name})}function h_(n,e){return f_.apply(this,arguments)}function f_(){return(f_=(0,pe.Z)(function*({url:n,body:e},t){var r,i;const a={"Content-Type":"application/json"},u=t.getImmediate({optional:!0});if(u){const L=yield u.getHeartbeatsHeader();L&&(a["X-Firebase-Client"]=L)}const h={method:"POST",body:JSON.stringify(e),headers:a};let g,v;try{g=yield fetch(n,h)}catch(L){throw as.create("fetch-network-error",{originalErrorMessage:null===(r=L)||void 0===r?void 0:r.message})}if(200!==g.status)throw as.create("fetch-status-error",{httpStatus:g.status});try{v=yield g.json()}catch(L){throw as.create("fetch-parse-error",{originalErrorMessage:null===(i=L)||void 0===i?void 0:i.message})}const C=v.ttl.match(/^([\d.]+)(s)$/);if(!C||!C[2]||isNaN(Number(C[1])))throw as.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${v.ttl}`});const S=1e3*Number(C[1]),R=Date.now();return{token:v.token,expireTimeMillis:R+S,issuedAtTimeMillis:R}})).apply(this,arguments)}function NC(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const hh="firebase-app-check-store";let m_=null;function JA(){return m_||(m_=new Promise((n,e)=>{var t;try{const r=indexedDB.open("firebase-app-check-database",1);r.onsuccess=i=>{n(i.target.result)},r.onerror=i=>{var a;e(as.create("storage-open",{originalErrorMessage:null===(a=i.target.error)||void 0===a?void 0:a.message}))},r.onupgradeneeded=i=>{0===i.oldVersion&&i.target.result.createObjectStore(hh,{keyPath:"compositeKey"})}}catch(r){e(as.create("storage-open",{originalErrorMessage:null===(t=r)||void 0===t?void 0:t.message}))}}),m_)}function PC(){return(PC=(0,pe.Z)(function*(n,e){const r=(yield JA()).transaction(hh,"readwrite"),a=r.objectStore(hh).put({compositeKey:n,value:e});return new Promise((u,h)=>{a.onsuccess=g=>{u()},r.onerror=g=>{var v;h(as.create("storage-set",{originalErrorMessage:null===(v=g.target.error)||void 0===v?void 0:v.message}))}})})).apply(this,arguments)}const __=new Pa.Yd("@firebase/app-check");function z0(n,e){return(0,Xt.hl)()?function MC(n,e){return function RC(n,e){return PC.apply(this,arguments)}(function nN(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{__.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function bc(){return j0().enabled}function q0(){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,pe.Z)(function*(){const n=j0();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const sN={error:"UNKNOWN_ERROR"};function Z0(n){return Xt.US.encodeString(JSON.stringify(n),!1)}function ph(n){return gh.apply(this,arguments)}function gh(){return(gh=(0,pe.Z)(function*(n,e=!1){const t=n.app;G0(t);const r=Bn(t);let a,i=r.token;if(i&&!mh(i)&&(so(t,Object.assign(Object.assign({},r),{token:void 0})),i=void 0),!i){const g=yield r.cachedTokenPromise;g&&(mh(g)?i=g:yield z0(t,void 0))}if(!e&&i&&mh(i))return{token:i.token};let h,u=!1;if(bc()){r.exchangeTokenPromise||(r.exchangeTokenPromise=h_(NC(t,yield q0()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),u=!0);const g=yield r.exchangeTokenPromise;return yield z0(t,g),so(t,Object.assign(Object.assign({},r),{token:g})),{token:g.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),u=!0),i=yield r.exchangeTokenPromise}catch(g){"appCheck/throttled"===g.code?__.warn(g.message):__.error(g),a=g}return i?a?h=mh(i)?{token:i.token,internalError:a}:UC(a):(h={token:i.token},so(t,Object.assign(Object.assign({},r),{token:i})),yield z0(t,i)):h=UC(a),u&&K0(t,h),h})).apply(this,arguments)}function LC(n,e){const t=Bn(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),so(n,Object.assign(Object.assign({},t),{tokenObservers:r}))}function oN(n){const{app:e}=n,t=Bn(e);let r=t.tokenRefresher;r||(r=function XR(n){const{app:e}=n;return new SC((0,pe.Z)(function*(){let r;if(r=Bn(e).token?yield ph(n,!0):yield ph(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Bn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),so(e,Object.assign(Object.assign({},t),{tokenRefresher:r}))),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function K0(n,e){const t=Bn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function mh(n){return n.expireTimeMillis-Date.now()>0}function UC(n){return{token:Z0(sN),error:n}}class aN{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Bn(this.app);for(const t of e)LC(this.app,t.next);return Promise.resolve()}}const pN="app-check-internal";!function gN(){(0,ji._registerComponent)(new wp.wA("app-check",n=>function lN(n,e){return new aN(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(pN).initialize()})),(0,ji._registerComponent)(new wp.wA(pN,n=>function BC(n){return{getToken:e=>ph(n,e),addTokenListener:e=>function FC(n,e,t,r){const{app:i}=n,a=Bn(i),u={next:t,error:r,type:e};if(so(i,Object.assign(Object.assign({},a),{tokenObservers:[...a.tokenObservers,u]})),a.token&&mh(a.token)){const h=a.token;Promise.resolve().then(()=>{t({token:h.token}),oN(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>oN(n))}(n,"INTERNAL",e),removeTokenListener:e=>LC(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,ji.registerVersion)("@firebase/app-check","0.5.15")}();class o{constructor(){return(0,Gn.vb)("app-check")}}typeof window<"u"&&window;var dt=F(127);const ke=new l.OlP("angularfire2.auth.use-emulator"),Rt=new l.OlP("angularfire2.auth.settings"),_n=new l.OlP("angularfire2.auth.tenant-id"),zn=new l.OlP("angularfire2.auth.langugage-code"),wc=new l.OlP("angularfire2.auth.use-device-language"),b_=new l.OlP("angularfire.auth.persistence"),w_=(n,e,t,r,i,a,u,h)=>(0,Ra.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const g=e.runOutsideAngular(()=>n.auth());if(t&&g.useEmulator(...t),r&&(g.tenantId=r),g.languageCode=i,a&&g.useDeviceLanguage(),u)for(const[v,C]of Object.entries(u))g.settings[v]=C;return h&&g.setPersistence(h),g},[t,r,i,a,u,h]);let _h=(()=>{class n{constructor(t,r,i,a,u,h,g,v,C,S,R,L){const $=new wn.x,K=pt(void 0).pipe((0,L0.Q)(u.outsideAngular),yr(()=>a.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,5881)))),(0,St.U)(()=>(0,Ra.on)(t,a,r)),(0,St.U)(J=>w_(J,a,h,v,C,S,g,R)),VA({bufferSize:1,refCount:!1}));if(Ho(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=pt(null);else{K.pipe(Kr()).subscribe();const Te=K.pipe(yr(Oe=>Oe.getRedirectResult().then(qe=>qe,()=>null)),Gn.iC,VA({bufferSize:1,refCount:!1})),Pe=K.pipe(yr(Oe=>new Mr.y(qe=>({unsubscribe:a.runOutsideAngular(()=>Oe.onAuthStateChanged(Ze=>qe.next(Ze),Ze=>qe.error(Ze),()=>qe.complete()))})))),je=K.pipe(yr(Oe=>new Mr.y(qe=>({unsubscribe:a.runOutsideAngular(()=>Oe.onIdTokenChanged(Ze=>qe.next(Ze),Ze=>qe.error(Ze),()=>qe.complete()))}))));this.authState=Te.pipe(EC(Pe),(0,c_.R)(u.outsideAngular),(0,L0.Q)(u.insideAngular)),this.user=Te.pipe(EC(je),(0,c_.R)(u.outsideAngular),(0,L0.Q)(u.insideAngular)),this.idToken=this.user.pipe(yr(Oe=>Oe?(0,Jt.D)(Oe.getIdToken()):pt(null))),this.idTokenResult=this.user.pipe(yr(Oe=>Oe?(0,Jt.D)(Oe.getIdTokenResult()):pt(null))),this.credential=(0,zR.T)(Te,$,this.authState.pipe(Zr(Oe=>!Oe))).pipe((0,St.U)(Oe=>Oe?.user?Oe:null),(0,c_.R)(u.outsideAngular),(0,L0.Q)(u.insideAngular))}return(0,Ra.pX)(this,K,a,{spy:{apply:(J,Te,Pe)=>{(J.startsWith("signIn")||J.startsWith("createUser"))&&Pe.then(je=>$.next(je))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ra.Dh),l.LFG(Ra.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Gn.HU),l.LFG(ke,8),l.LFG(Rt,8),l.LFG(_n,8),l.LFG(zn,8),l.LFG(wc,8),l.LFG(b_,8),l.LFG(o,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),eb=(()=>{class n{constructor(){dt.Z.registerVersion("angularfire",Gn.q4.full,"auth-compat")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[_h]}),n})();var Pp=F(4986);function kp(){return(0,Wr.e)((n,e)=>{let t,r=!1;n.subscribe((0,cr.x)(e,i=>{const a=t;t=i,r&&e.next([a,i]),r=!0}))})}function tb(n,e){return n===e}F(5881);var Ct,RB=F(3942),PB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Lu={},_N=_N||{},Wt=PB||self;function ZC(){}function KC(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function nb(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var yN="closure_uid_"+(1e9*Math.random()>>>0),FB=0;function LB(n,e,t){return n.call.apply(n.bind,arguments)}function UB(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ls(n,e,t){return(ls=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?LB:UB).apply(null,arguments)}function YC(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Gi(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,a){for(var u=Array(arguments.length-2),h=2;h<arguments.length;h++)u[h-2]=arguments[h];return e.prototype[i].apply(r,u)}}function vh(){this.s=this.s,this.o=this.o}var VB={};vh.prototype.s=!1,vh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var n=function kB(n){return Object.prototype.hasOwnProperty.call(n,yN)&&n[yN]||(n[yN]=++FB)}(this);delete VB[n]}},vh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const sP=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function vN(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function oP(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(KC(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let u=0;u<a;u++)n[i+u]=r[u]}else n.push(r)}}function cs(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}cs.prototype.h=function(){this.defaultPrevented=!0};var jB=function(){if(!Wt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Wt.addEventListener("test",ZC,e),Wt.removeEventListener("test",ZC,e)}catch{}return n}();function QC(n){return/^[\s\xa0]*$/.test(n)}var aP=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function bN(n,e){return n<e?-1:n>e?1:0}function JC(){var n=Wt.navigator;return n&&(n=n.userAgent)?n:""}function Dc(n){return-1!=JC().indexOf(n)}function wN(n){return wN[" "](n),n}wN[" "]=ZC;var XC,n,HB=Dc("Opera"),D_=Dc("Trident")||Dc("MSIE"),lP=Dc("Edge"),DN=lP||D_,cP=Dc("Gecko")&&!(-1!=JC().toLowerCase().indexOf("webkit")&&!Dc("Edge"))&&!(Dc("Trident")||Dc("MSIE"))&&!Dc("Edge"),GB=-1!=JC().toLowerCase().indexOf("webkit")&&!Dc("Edge");function uP(){var n=Wt.document;return n?n.documentMode:void 0}e:{var CN="",EN=(n=JC(),cP?/rv:([^\);]+)(\)|;)/.exec(n):lP?/Edge\/([\d\.]+)/.exec(n):D_?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):GB?/WebKit\/(\S+)/.exec(n):HB?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(EN&&(CN=EN?EN[1]:""),D_){var TN=uP();if(null!=TN&&TN>parseFloat(CN)){XC=String(TN);break e}}XC=CN}var zB={};var WB=Wt.document&&D_&&(uP()||parseInt(XC,10))||void 0;function rb(n,e){if(cs.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(cP){e:{try{wN(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:ZB[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&rb.X.h.call(this)}}Gi(rb,cs);var ZB={2:"touch",3:"pen",4:"mouse"};rb.prototype.h=function(){rb.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var ib="closure_listenable_"+(1e6*Math.random()|0),KB=0;function YB(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++KB,this.ba=this.ea=!1}function eE(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function SN(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function hP(n){const e={};for(const t in n)e[t]=n[t];return e}const fP="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pP(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<fP.length;a++)t=fP[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function tE(n){this.src=n,this.g={},this.h=0}function AN(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=sP(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(eE(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function NN(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.ba&&a.listener==e&&a.capture==!!t&&a.ha==r)return i}return-1}tE.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var u=NN(n,e,r,i);return-1<u?(e=n[u],t||(e.ea=!1)):((e=new YB(e,this.src,a,!!r,i)).ea=t,n.push(e)),e};var xN="closure_lm_"+(1e6*Math.random()|0),ON={};function gP(n,e,t,r,i){if(r&&r.once)return _P(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)gP(n,e[a],t,r,i);return null}return t=kN(t),n&&n[ib]?n.N(e,t,nb(r)?!!r.capture:!!r,i):mP(n,e,t,!1,r,i)}function mP(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var u=nb(i)?!!i.capture:!!i,h=RN(n);if(h||(n[xN]=h=new tE(n)),(t=h.add(e,t,r,u,a)).proxy)return t;if(r=function QB(){const e=JB;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)jB||(i=u),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(vP(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function _P(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)_P(n,e[a],t,r,i);return null}return t=kN(t),n&&n[ib]?n.O(e,t,nb(r)?!!r.capture:!!r,i):mP(n,e,t,!0,r,i)}function yP(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)yP(n,e[a],t,r,i);else r=nb(r)?!!r.capture:!!r,t=kN(t),n&&n[ib]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=NN(a=n.g[e],t,r,i))&&(eE(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=RN(n))&&(e=n.g[e.toString()],n=-1,e&&(n=NN(e,t,r,i)),(t=-1<n?e[n]:null)&&MN(t))}function MN(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[ib])AN(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(vP(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=RN(e))?(AN(t,n),0==t.h&&(t.src=null,e[xN]=null)):eE(n)}}}function vP(n){return n in ON?ON[n]:ON[n]="on"+n}function JB(n,e){if(n.ba)n=!0;else{e=new rb(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&MN(n),n=t.call(r,e)}return n}function RN(n){return(n=n[xN])instanceof tE?n:null}var PN="__closure_events_fn_"+(1e9*Math.random()>>>0);function kN(n){return"function"==typeof n?n:(n[PN]||(n[PN]=function(e){return n.handleEvent(e)}),n[PN])}function Ai(){vh.call(this),this.i=new tE(this),this.P=this,this.I=null}function zi(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new cs(e,n);else if(e instanceof cs)e.target=e.target||n;else{var i=e;pP(e=new cs(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var u=e.g=t[a];i=nE(u,r,!0,e)&&i}if(i=nE(u=e.g=n,r,!0,e)&&i,i=nE(u,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=nE(u=e.g=t[a],r,!1,e)&&i}function nE(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var u=e[a];if(u&&!u.ba&&u.capture==t){var h=u.listener,g=u.ha||u.src;u.ea&&AN(n.i,u),i=!1!==h.call(g,r)&&i}}return i&&!r.defaultPrevented}Gi(Ai,vh),Ai.prototype[ib]=!0,Ai.prototype.removeEventListener=function(n,e,t,r){yP(this,n,e,t,r)},Ai.prototype.M=function(){if(Ai.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)eE(t[r]);delete n.g[e],n.h--}}this.I=null},Ai.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Ai.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var FN=Wt.JSON.stringify;function XB(){var n=DP;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var LN,bP=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new tV,n=>n.reset());class tV{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function nV(n){Wt.setTimeout(()=>{throw n},0)}function wP(n,e){LN||function rV(){var n=Wt.Promise.resolve(void 0);LN=function(){n.then(iV)}}(),UN||(LN(),UN=!0),DP.add(n,e)}var UN=!1,DP=new class eV{constructor(){this.h=this.g=null}add(e,t){const r=bP.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function iV(){for(var n;n=XB();){try{n.h.call(n.g)}catch(t){nV(t)}var e=bP;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}UN=!1}function rE(n,e){Ai.call(this),this.h=n||1,this.g=e||Wt,this.j=ls(this.lb,this),this.l=Date.now()}function BN(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function VN(n,e,t){if("function"==typeof n)t&&(n=ls(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ls(n.handleEvent,n)}return 2147483647<Number(e)?-1:Wt.setTimeout(n,e||0)}function CP(n){n.g=VN(()=>{n.g=null,n.i&&(n.i=!1,CP(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Gi(rE,Ai),(Ct=rE.prototype).ca=!1,Ct.R=null,Ct.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),zi(this,"tick"),this.ca&&(BN(this),this.start()))}},Ct.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ct.M=function(){rE.X.M.call(this),BN(this),delete this.g};class sV extends vh{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:CP(this)}M(){super.M(),this.g&&(Wt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function sb(n){vh.call(this),this.h=n,this.g={}}Gi(sb,vh);var EP=[];function TP(n,e,t,r){Array.isArray(t)||(t&&(EP[0]=t.toString()),t=EP);for(var i=0;i<t.length;i++){var a=gP(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function IP(n){SN(n.g,function(e,t){this.g.hasOwnProperty(t)&&MN(e)},n),n.g={}}function iE(){this.g=!0}function C_(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function cV(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var u=1;u<i.length;u++)i[u]=""}}}return FN(t)}catch{return e}}(n,t)+(r?" "+r:"")})}sb.prototype.M=function(){sb.X.M.call(this),IP(this)},sb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},iE.prototype.Aa=function(){this.g=!1},iE.prototype.info=function(){};var Fp={},SP=null;function sE(){return SP=SP||new Ai}function AP(n){cs.call(this,Fp.Pa,n)}function ob(n){const e=sE();zi(e,new AP(e,n))}function NP(n,e){cs.call(this,Fp.STAT_EVENT,n),this.stat=e}function Ps(n){const e=sE();zi(e,new NP(e,n))}function xP(n,e){cs.call(this,Fp.Qa,n),this.size=e}function ab(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Wt.setTimeout(function(){n()},e)}Fp.Pa="serverreachability",Gi(AP,cs),Fp.STAT_EVENT="statevent",Gi(NP,cs),Fp.Qa="timingevent",Gi(xP,cs);var oE={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},OP={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function jN(){}function RP(){}jN.prototype.h=null;var GN,lb={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function $N(){cs.call(this,"d")}function HN(){cs.call(this,"c")}function aE(){}function cb(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new sb(this),this.O=uV,this.T=new rE(n=DN?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new PP}function PP(){this.i=null,this.g="",this.h=!1}Gi($N,cs),Gi(HN,cs),Gi(aE,jN),aE.prototype.g=function(){return new XMLHttpRequest},aE.prototype.i=function(){return{}},GN=new aE;var uV=45e3,zN={},lE={};function qN(n,e,t){n.K=1,n.v=hE(Uu(e)),n.s=t,n.P=!0,kP(n,null)}function kP(n,e){n.F=Date.now(),ub(n),n.A=Uu(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),zP(t.i,"t",r),n.C=0,t=n.l.H,n.h=new PP,n.g=gk(n.l,t?e:null,!n.s),0<n.N&&(n.L=new sV(ls(n.La,n,n.g),n.N)),TP(n.S,n.g,"readystatechange",n.ib),e=n.H?hP(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),ob(1),function oV(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var u="",h=a.split("&"),g=0;g<h.length;g++){var v=h[g].split("=");if(1<v.length){var C=v[0];v=v[1];var S=C.split("_");u=2<=S.length&&"type"==S[1]?u+(C+"=")+v+"&":u+(C+"=redacted&")}}else u=null;else u=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+u})}(n.j,n.u,n.A,n.m,n.U,n.s)}function FP(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function LP(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=dV(n,t),i==lE){4==e&&(n.o=4,Ps(14),r=!1),C_(n.j,n.m,null,"[Incomplete Response]");break}if(i==zN){n.o=4,Ps(15),C_(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}C_(n.j,n.m,i,null),WN(n,i)}FP(n)&&i!=lE&&i!=zN&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ps(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),tx(e),e.K=!0,Ps(11))):(C_(n.j,n.m,t,"[Invalid Chunked Response]"),Lp(n),db(n))}function dV(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?lE:(t=Number(e.substring(t,r)),isNaN(t)?zN:(r+=1)+t>e.length?lE:(e=e.substr(r,t),n.C=r+t,e))}function ub(n){n.V=Date.now()+n.O,UP(n,n.O)}function UP(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=ab(ls(n.gb,n),e)}function cE(n){n.B&&(Wt.clearTimeout(n.B),n.B=null)}function db(n){0==n.l.G||n.I||dk(n.l,n)}function Lp(n){cE(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,BN(n.T),IP(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function WN(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||ZN(t.h,n)))if(!n.J&&ZN(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;yE(t),mE(t)}ex(t),Ps(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=ab(ls(t.cb,t),6e3));if(1>=ZP(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Bp(t,11)}else if((n.J||t.g==n)&&yE(t),!QC(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let v=i[e];if(t.T=v[0],v=v[1],2==t.G)if("c"==v[0]){t.I=v[1],t.ka=v[2];const C=v[3];null!=C&&(t.ma=C,t.j.info("VER="+t.ma));const S=v[4];null!=S&&(t.Ca=S,t.j.info("SVER="+t.Ca));const R=v[5];null!=R&&"number"==typeof R&&0<R&&(t.J=r=1.5*R,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const L=n.g;if(L){const $=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($){var a=r.h;a.g||-1==$.indexOf("spdy")&&-1==$.indexOf("quic")&&-1==$.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&(KN(a,a.h),a.h=null))}if(r.D){const K=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;K&&(r.za=K,dr(r.F,r.D,K))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var u=n;if((r=t).sa=pk(r,r.H?r.ka:null,r.V),u.J){KP(r.h,u);var h=u,g=r.J;g&&h.setTimeout(g),h.B&&(cE(h),ub(h)),r.g=u}else ck(r);0<t.i.length&&_E(t)}else"stop"!=v[0]&&"close"!=v[0]||Bp(t,7);else 3==t.G&&("stop"==v[0]||"close"==v[0]?"stop"==v[0]?Bp(t,7):XN(t):"noop"!=v[0]&&t.l&&t.l.wa(v),t.A=0)}ob(4)}catch{}}function BP(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(KC(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function fV(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(KC(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function hV(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(KC(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(Ct=cb.prototype).setTimeout=function(n){this.O=n},Ct.ib=function(n){n=n.target;const e=this.L;e&&3==Bu(n)?e.l():this.La(n)},Ct.La=function(n){try{if(n==this.g)e:{const C=Bu(this.g);var e=this.g.Ea();const S=this.g.aa();if(!(3>C)&&(3!=C||DN||this.g&&(this.h.h||this.g.fa()||rk(this.g)))){this.I||4!=C||7==e||ob(8==e||0>=S?3:2),cE(this);var t=this.g.aa();this.Y=t;t:if(FP(this)){var r=rk(this.g);n="";var i=r.length,a=4==Bu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Lp(this),db(this);var u="";break t}this.h.i=new Wt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,u=this.h.g}else u=this.g.fa();if(this.i=200==t,function aV(n,e,t,r,i,a,u){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+u})}(this.j,this.u,this.A,this.m,this.U,C,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var h,g=this.g;if((h=g.g?g.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!QC(h)){var v=h;break t}}v=null}if(!(t=v)){this.i=!1,this.o=3,Ps(12),Lp(this),db(this);break e}C_(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,WN(this,t)}this.P?(LP(this,C,u),DN&&this.i&&3==C&&(TP(this.S,this.T,"tick",this.hb),this.T.start())):(C_(this.j,this.m,u,null),WN(this,u)),4==C&&Lp(this),this.i&&!this.I&&(4==C?dk(this.l,this):(this.i=!1,ub(this)))}else 400==t&&0<u.indexOf("Unknown SID")?(this.o=3,Ps(12)):(this.o=0,Ps(13)),Lp(this),db(this)}}}catch{}},Ct.hb=function(){if(this.g){var n=Bu(this.g),e=this.g.fa();this.C<e.length&&(cE(this),LP(this,n,e),this.i&&4!=n&&ub(this))}},Ct.cancel=function(){this.I=!0,Lp(this)},Ct.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function lV(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(ob(3),Ps(17)),Lp(this),this.o=2,db(this)):UP(this,this.V-n)};var VP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Up(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Up){this.h=void 0!==e?e:n.h,uE(this,n.j),this.s=n.s,this.g=n.g,dE(this,n.m),this.l=n.l,e=n.i;var t=new pb;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),jP(this,t),this.o=n.o}else n&&(t=String(n).match(VP))?(this.h=!!e,uE(this,t[1]||"",!0),this.s=hb(t[2]||""),this.g=hb(t[3]||"",!0),dE(this,t[4]),this.l=hb(t[5]||"",!0),jP(this,t[6]||"",!0),this.o=hb(t[7]||"")):(this.h=!!e,this.i=new pb(null,this.h))}function Uu(n){return new Up(n)}function uE(n,e,t){n.j=t?hb(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function dE(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function jP(n,e,t){e instanceof pb?(n.i=e,function bV(n,e){e&&!n.j&&(bh(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(HP(this,r),zP(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=fb(e,yV)),n.i=new pb(e,n.h))}function dr(n,e,t){n.i.set(e,t)}function hE(n){return dr(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function hb(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function fb(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,gV),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function gV(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Up.prototype.toString=function(){var n=[],e=this.j;e&&n.push(fb(e,$P,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(fb(e,$P,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(fb(t,"/"==t.charAt(0)?_V:mV,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",fb(t,vV)),n.join("")};var $P=/[#\/\?@]/g,mV=/[#\?:]/g,_V=/[#\?]/g,yV=/[#\?@]/g,vV=/#/g;function pb(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function bh(n){n.g||(n.g=new Map,n.h=0,n.i&&function pV(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function HP(n,e){bh(n),e=E_(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function GP(n,e){return bh(n),e=E_(n,e),n.g.has(e)}function zP(n,e,t){HP(n,e),0<t.length&&(n.i=null,n.g.set(E_(n,e),vN(t)),n.h+=t.length)}function E_(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function qP(n){this.l=n||DV,n=Wt.PerformanceNavigationTiming?0<(n=Wt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Wt.g&&Wt.g.Ga&&Wt.g.Ga()&&Wt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ct=pb.prototype).add=function(n,e){bh(this),this.i=null,n=E_(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ct.forEach=function(n,e){bh(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Ct.oa=function(){bh(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},Ct.W=function(n){bh(this);let e=[];if("string"==typeof n)GP(this,n)&&(e=e.concat(this.g.get(E_(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ct.set=function(n,e){return bh(this),this.i=null,GP(this,n=E_(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ct.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},Ct.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),u=this.W(r);for(r=0;r<u.length;r++){var i=a;""!==u[r]&&(i+="="+encodeURIComponent(String(u[r]))),n.push(i)}}return this.i=n.join("&")};var DV=10;function WP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function ZP(n){return n.h?1:n.g?n.g.size:0}function ZN(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function KN(n,e){n.g?n.g.add(e):n.h=e}function KP(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function YP(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return vN(n.i)}function YN(){}function CV(){this.g=new YN}function EV(n,e,t){const r=t||"";try{BP(n,function(i,a){let u=i;nb(i)&&(u=FN(i)),e.push(r+a+"="+encodeURIComponent(u))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function fE(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function gb(n){this.l=n.ac||null,this.j=n.jb||!1}function pE(n,e){Ai.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=QN,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}qP.prototype.cancel=function(){if(this.i=YP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},YN.prototype.stringify=function(n){return Wt.JSON.stringify(n,void 0)},YN.prototype.parse=function(n){return Wt.JSON.parse(n,void 0)},Gi(gb,jN),gb.prototype.g=function(){return new pE(this.l,this.j)},gb.prototype.i=function(n){return function(){return n}}({}),Gi(pE,Ai);var QN=0;function QP(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function mb(n){n.readyState=4,n.l=null,n.j=null,n.A=null,_b(n)}function _b(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ct=pE.prototype).open=function(n,e){if(this.readyState!=QN)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,_b(this)},Ct.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||Wt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},Ct.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,mb(this)),this.readyState=QN},Ct.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,_b(this)),this.g&&(this.readyState=3,_b(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof Wt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;QP(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},Ct.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?mb(this):_b(this),3==this.readyState&&QP(this)}},Ct.Va=function(n){this.g&&(this.response=this.responseText=n,mb(this))},Ct.Ua=function(n){this.g&&(this.response=n,mb(this))},Ct.ga=function(){this.g&&mb(this)},Ct.setRequestHeader=function(n,e){this.v.append(n,e)},Ct.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ct.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(pE.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var IV=Wt.JSON.parse;function Tr(n){Ai.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=JP,this.K=this.L=!1}Gi(Tr,Ai);var JP="",SV=/^https?$/i,AV=["POST","PUT"];function XP(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ek(n),gE(n)}function ek(n){n.D||(n.D=!0,zi(n,"complete"),zi(n,"error"))}function tk(n){if(n.h&&typeof _N<"u"&&(!n.C[1]||4!=Bu(n)||2!=n.aa()))if(n.v&&4==Bu(n))VN(n.Ha,0,n);else if(zi(n,"readystatechange"),4==Bu(n)){n.h=!1;try{const h=n.aa();e:switch(h){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===h){var i=String(n.H).match(VP)[1]||null;if(!i&&Wt.self&&Wt.self.location){var a=Wt.self.location.protocol;i=a.substr(0,a.length-1)}r=!SV.test(i?i.toLowerCase():"")}t=r}if(t)zi(n,"complete"),zi(n,"success");else{n.m=6;try{var u=2<Bu(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.aa()+"]",ek(n)}}finally{gE(n)}}}function gE(n,e){if(n.g){nk(n);const t=n.g,r=n.C[0]?ZC:null;n.g=null,n.C=null,e||zi(n,"ready");try{t.onreadystatechange=r}catch{}}}function nk(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(Wt.clearTimeout(n.A),n.A=null)}function Bu(n){return n.g?n.g.readyState:0}function rk(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case JP:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function ik(n){let e="";return SN(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function JN(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=ik(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):dr(n,e,t))}function yb(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function sk(n){this.Ca=0,this.i=[],this.j=new iE,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=yb("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=yb("baseRetryDelayMs",5e3,n),this.bb=yb("retryDelaySeedMs",1e4,n),this.$a=yb("forwardChannelMaxRetries",2,n),this.ta=yb("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new qP(n&&n.concurrentRequestLimit),this.Fa=new CV,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function XN(n){if(ok(n),3==n.G){var e=n.U++,t=Uu(n.F);dr(t,"SID",n.I),dr(t,"RID",e),dr(t,"TYPE","terminate"),vb(n,t),(e=new cb(n,n.j,e,void 0)).K=2,e.v=hE(Uu(t)),t=!1,Wt.navigator&&Wt.navigator.sendBeacon&&(t=Wt.navigator.sendBeacon(e.v.toString(),"")),!t&&Wt.Image&&((new Image).src=e.v,t=!0),t||(e.g=gk(e.l,null),e.g.da(e.v)),e.F=Date.now(),ub(e)}fk(n)}function mE(n){n.g&&(tx(n),n.g.cancel(),n.g=null)}function ok(n){mE(n),n.u&&(Wt.clearTimeout(n.u),n.u=null),yE(n),n.h.cancel(),n.m&&("number"==typeof n.m&&Wt.clearTimeout(n.m),n.m=null)}function _E(n){WP(n.h)||n.m||(n.m=!0,wP(n.Ja,n),n.C=0)}function ak(n,e){var t;t=e?e.m:n.U++;const r=Uu(n.F);dr(r,"SID",n.I),dr(r,"RID",t),dr(r,"AID",n.T),vb(n,r),n.o&&n.s&&JN(r,n.o,n.s),t=new cb(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=lk(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),KN(n.h,t),qN(t,r,e)}function vb(n,e){n.ia&&SN(n.ia,function(t,r){dr(e,r,t)}),n.l&&BP({},function(t,r){dr(e,r,t)})}function lk(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ls(n.l.Ra,n.l,n):null;e:{var i=n.i;let a=-1;for(;;){const u=["count="+t];-1==a?0<t?(a=i[0].h,u.push("ofs="+a)):a=0:u.push("ofs="+a);let h=!0;for(let g=0;g<t;g++){let v=i[g].h;const C=i[g].g;if(v-=a,0>v)a=Math.max(0,i[g].h-100),h=!1;else try{EV(C,u,"req"+v+"_")}catch{r&&r(C)}}if(h){r=u.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function ck(n){n.g||n.u||(n.Z=1,wP(n.Ia,n),n.A=0)}function ex(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=ab(ls(n.Ia,n),hk(n,n.A)),n.A++,0))}function tx(n){null!=n.B&&(Wt.clearTimeout(n.B),n.B=null)}function uk(n){n.g=new cb(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Uu(n.sa);dr(e,"RID","rpc"),dr(e,"SID",n.I),dr(e,"CI",n.L?"0":"1"),dr(e,"AID",n.T),dr(e,"TYPE","xmlhttp"),vb(n,e),n.o&&n.s&&JN(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=hE(Uu(e)),t.s=null,t.P=!0,kP(t,n)}function yE(n){null!=n.v&&(Wt.clearTimeout(n.v),n.v=null)}function dk(n,e){var t=null;if(n.g==e){yE(n),tx(n),n.g=null;var r=2}else{if(!ZN(n.h,e))return;t=e.D,KP(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;zi(r=sE(),new xP(r,t,e,i)),_E(n)}else ck(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function xV(n,e){return!(ZP(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=ab(ls(n.Ja,n,e),hk(n,n.C)),n.C++,0)))}(n,e)||2==r&&ex(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Bp(n,5);break;case 4:Bp(n,10);break;case 3:Bp(n,6);break;default:Bp(n,2)}}function hk(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Bp(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ls(n.kb,n);t||(t=new Up("//www.google.com/images/cleardot.gif"),Wt.location&&"http"==Wt.location.protocol||uE(t,"https"),hE(t)),function TV(n,e){const t=new iE;if(Wt.Image){const r=new Image;r.onload=YC(fE,t,r,"TestLoadImage: loaded",!0,e),r.onerror=YC(fE,t,r,"TestLoadImage: error",!1,e),r.onabort=YC(fE,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=YC(fE,t,r,"TestLoadImage: timeout",!1,e),Wt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ps(2);n.G=0,n.l&&n.l.va(e),fk(n),ok(n)}function fk(n){if(n.G=0,n.la=[],n.l){const e=YP(n.h);(0!=e.length||0!=n.i.length)&&(oP(n.la,e),oP(n.la,n.i),n.h.i.length=0,vN(n.i),n.i.length=0),n.l.ua()}}function pk(n,e,t){var r=t instanceof Up?Uu(t):new Up(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),dE(r,r.m);else{var i=Wt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Up(null,void 0);r&&uE(a,r),e&&(a.g=e),i&&dE(a,i),t&&(a.l=t),r=a}return e=n.za,(t=n.D)&&e&&dr(r,t,e),dr(r,"VER",n.ma),vb(n,r),r}function gk(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Tr(t&&n.Da&&!n.ra?new gb({jb:!0}):n.ra)).Ka(n.H),e}function mk(){}function vE(){if(D_&&!(10<=Number(WB)))throw Error("Environmental error: no available transport.")}function xo(n,e){Ai.call(this),this.g=new sk(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!QC(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!QC(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new T_(this)}function _k(n){$N.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function yk(){HN.call(this),this.status=1}function T_(n){this.g=n}(Ct=Tr.prototype).Ka=function(n){this.L=n},Ct.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():GN.g(),this.C=function MP(n){return n.h||(n.h=n.i())}(this.u?this.u:GN),this.g.onreadystatechange=ls(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(a){return void XP(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=Wt.FormData&&n instanceof Wt.FormData,!(0<=sP(AV,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,u]of t)this.g.setRequestHeader(a,u);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{nk(this),0<this.B&&((this.K=function NV(n){return D_&&function qB(){return function $B(n){var e=zB;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=aP(String(XC)).split("."),t=aP("9").split("."),r=Math.max(e.length,t.length);for(let u=0;0==n&&u<r;u++){var i=e[u]||"",a=t[u]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==i[0].length&&0==a[0].length)break;n=bN(0==i[1].length?0:parseInt(i[1],10),0==a[1].length?0:parseInt(a[1],10))||bN(0==i[2].length,0==a[2].length)||bN(i[2],a[2]),i=i[3],a=a[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ls(this.qa,this)):this.A=VN(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){XP(this,a)}},Ct.qa=function(){typeof _N<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,zi(this,"timeout"),this.abort(8))},Ct.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,zi(this,"complete"),zi(this,"abort"),gE(this))},Ct.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),gE(this,!0)),Tr.X.M.call(this)},Ct.Ha=function(){this.s||(this.F||this.v||this.l?tk(this):this.fb())},Ct.fb=function(){tk(this)},Ct.aa=function(){try{return 2<Bu(this)?this.g.status:-1}catch{return-1}},Ct.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ct.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),IV(e)}},Ct.Ea=function(){return this.m},Ct.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ct=sk.prototype).ma=8,Ct.G=1,Ct.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new cb(this,this.j,n,void 0);let a=this.s;if(this.S&&(a?(a=hP(a),pP(a,this.S)):a=this.S),null!==this.o||this.N||(i.H=a,a=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=lk(this,i,e),dr(t=Uu(this.F),"RID",n),dr(t,"CVER",22),this.D&&dr(t,"X-HTTP-Session-Id",this.D),vb(this,t),a&&(this.N?e="headers="+encodeURIComponent(String(ik(a)))+"&"+e:this.o&&JN(t,this.o,a)),KN(this.h,i),this.Ya&&dr(t,"TYPE","init"),this.O?(dr(t,"$req",e),dr(t,"SID","null"),i.Z=!0,qN(i,t,null)):qN(i,t,e),this.G=2}}else 3==this.G&&(n?ak(this,n):0==this.i.length||WP(this.h)||ak(this))},Ct.Ia=function(){if(this.u=null,uk(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=ab(ls(this.eb,this),n)}},Ct.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ps(10),mE(this),uk(this))},Ct.cb=function(){null!=this.v&&(this.v=null,mE(this),ex(this),Ps(19))},Ct.kb=function(n){n?(this.j.info("Successfully pinged google.com"),Ps(2)):(this.j.info("Failed to ping google.com"),Ps(1))},(Ct=mk.prototype).xa=function(){},Ct.wa=function(){},Ct.va=function(){},Ct.ua=function(){},Ct.Ra=function(){},vE.prototype.g=function(n,e){return new xo(n,e)},Gi(xo,Ai),xo.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;Ps(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=pk(n,null,n.V),_E(n)},xo.prototype.close=function(){XN(this.g)},xo.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=FN(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&_E(e)},xo.prototype.M=function(){this.g.l=null,delete this.j,XN(this.g),delete this.g,xo.X.M.call(this)},Gi(_k,$N),Gi(yk,HN),Gi(T_,mk),T_.prototype.xa=function(){zi(this.g,"a")},T_.prototype.wa=function(n){zi(this.g,new _k(n))},T_.prototype.va=function(n){zi(this.g,new yk(n))},T_.prototype.ua=function(){zi(this.g,"b")},vE.prototype.createWebChannel=vE.prototype.g,xo.prototype.send=xo.prototype.u,xo.prototype.open=xo.prototype.m,xo.prototype.close=xo.prototype.close,oE.NO_ERROR=0,oE.TIMEOUT=8,oE.HTTP_ERROR=6,OP.COMPLETE="complete",RP.EventType=lb,lb.OPEN="a",lb.CLOSE="b",lb.ERROR="c",lb.MESSAGE="d",Ai.prototype.listen=Ai.prototype.N,Tr.prototype.listenOnce=Tr.prototype.O,Tr.prototype.getLastError=Tr.prototype.Oa,Tr.prototype.getLastErrorCode=Tr.prototype.Ea,Tr.prototype.getStatus=Tr.prototype.aa,Tr.prototype.getResponseJson=Tr.prototype.Sa,Tr.prototype.getResponseText=Tr.prototype.fa,Tr.prototype.send=Tr.prototype.da,Tr.prototype.setWithCredentials=Tr.prototype.Ka;var OV=Lu.createWebChannelTransport=function(){return new vE},MV=Lu.getStatEventTarget=function(){return sE()},nx=Lu.ErrorCode=oE,RV=Lu.EventType=OP,PV=Lu.Event=Fp,vk=Lu.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},kV=Lu.FetchXmlHttpFactory=gb,bE=Lu.WebChannel=RP,FV=Lu.XhrIo=Tr;const bk="@firebase/firestore";class Ni{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ni.UNAUTHENTICATED=new Ni(null),Ni.GOOGLE_CREDENTIALS=new Ni("google-credentials-uid"),Ni.FIRST_PARTY=new Ni("first-party-uid"),Ni.MOCK_USER=new Ni("mock-user");let I_="9.12.1";const wh=new Pa.Yd("@firebase/firestore");function rx(){return wh.logLevel}function ze(n,...e){if(wh.logLevel<=Pa.in.DEBUG){const t=e.map(ix);wh.debug(`Firestore (${I_}): ${n}`,...t)}}function Fr(n,...e){if(wh.logLevel<=Pa.in.ERROR){const t=e.map(ix);wh.error(`Firestore (${I_}): ${n}`,...t)}}function Vp(n,...e){if(wh.logLevel<=Pa.in.WARN){const t=e.map(ix);wh.warn(`Firestore (${I_}): ${n}`,...t)}}function ix(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function gt(n="Unexpected state"){const e=`FIRESTORE (${I_}) INTERNAL ASSERTION FAILED: `+n;throw Fr(e),new Error(e)}function Ut(n,e){n||gt()}function rt(n,e){return n}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Be extends Xt.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ui{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class wk{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class BV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ni.UNAUTHENTICATED))}shutdown(){}}class VV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class jV{constructor(e){this.t=e,this.currentUser=Ni.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=v=>this.i!==i?(i=this.i,t(v)):Promise.resolve();let u=new ui;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ui,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const v=u;e.enqueueRetryable((0,pe.Z)(function*(){yield v.promise,yield a(r.currentUser)}))},g=v=>{ze("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(ze("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ui)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ze("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ut("string"==typeof r.accessToken),new wk(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ut(null===e||"string"==typeof e),new Ni(e)}}class $V{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Ni.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(Ut(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class HV{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new $V(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Ni.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dk{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GV{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=a=>{null!=a.error&&ze("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.A;return this.A=a.token,ze("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{ze("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.T.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.T.getImmediate({optional:!0});a?i(a):ze("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ut("string"==typeof t.token),this.A=t.token,new Dk(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function zV(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Ck{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=zV(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+=e.charAt(i[a]%e.length))}return r}}function Zt(n,e){return n<e?-1:n>e?1:0}function S_(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function Ek(n){return n+"\0"}class hr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Be(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Be(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Be(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Be(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return hr.fromMillis(Date.now())}static fromDate(e){return hr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new hr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Zt(this.nanoseconds,e.nanoseconds):Zt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Bt(e)}static min(){return new Bt(new hr(0,0))}static max(){return new Bt(new hr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class bb{constructor(e,t,r){void 0===t?t=0:t>e.length&&gt(),void 0===r?r=e.length-t:r>e.length-t&&gt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===bb.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof bb?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),u=t.get(i);if(a<u)return-1;if(a>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class yn extends bb{construct(e,t,r){return new yn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Be(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new yn(t)}static emptyPath(){return new yn([])}}const qV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ir extends bb{construct(e,t,r){return new Ir(e,t,r)}static isValidIdentifier(e){return qV.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ir.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ir(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const a=()=>{if(0===r.length)throw new Be(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if("\\"===h){if(i+1===e.length)throw new Be(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[i+1];if("\\"!==g&&"."!==g&&"`"!==g)throw new Be(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,i+=2}else"`"===h?(u=!u,i++):"."!==h||u?(r+=h,i++):(a(),i++)}if(a(),u)throw new Be(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ir(t)}static emptyPath(){return new Ir([])}}class Xe{constructor(e){this.path=e}static fromPath(e){return new Xe(yn.fromString(e))}static fromName(e){return new Xe(yn.fromString(e).popFirst(5))}static empty(){return new Xe(yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===yn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return yn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Xe(new yn(e.slice()))}}class wE{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function sx(n){return n.fields.find(e=>2===e.kind)}function jp(n){return n.fields.filter(e=>2!==e.kind)}wE.UNKNOWN_ID=-1;class DE{constructor(e,t){this.fieldPath=e,this.kind=t}}class wb{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new wb(0,Oo.min())}}function Tk(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Bt.fromTimestamp(1e9===r?new hr(t+1,0):new hr(t,r));return new Oo(i,Xe.empty(),e)}function Ik(n){return new Oo(n.readTime,n.key,-1)}class Oo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Oo(Bt.min(),Xe.empty(),-1)}static max(){return new Oo(Bt.max(),Xe.empty(),-1)}}function ox(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Xe.comparator(n.documentKey,e.documentKey),0!==t?t:Zt(n.largestBatchId,e.largestBatchId))}const Sk="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Ak{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function Dh(n){return ax.apply(this,arguments)}function ax(){return ax=(0,pe.Z)(function*(n){if(n.code!==ye.FAILED_PRECONDITION||n.message!==Sk)throw n;ze("LocalStore","Unexpectedly lost primary lease")}),ax.apply(this,arguments)}class he{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&gt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new he((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof he?t:he.resolve(t)}catch(t){return he.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):he.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):he.reject(t)}static resolve(e){return new he((t,r)=>{t(e)})}static reject(e){return new he((t,r)=>{r(e)})}static waitFor(e){return new he((t,r)=>{let i=0,a=0,u=!1;e.forEach(h=>{++i,h.next(()=>{++a,u&&a===i&&t()},g=>r(g))}),u=!0,a===i&&t()})}static or(e){let t=he.resolve(!1);for(const r of e)t=t.next(i=>i?he.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,a)=>{r.push(t.call(this,i,a))}),this.waitFor(r)}static mapArray(e,t){return new he((r,i)=>{const a=e.length,u=new Array(a);let h=0;for(let g=0;g<a;g++){const v=g;t(e[v]).next(C=>{u[v]=C,++h,h===a&&r(u)},C=>i(C))}})}static doWhile(e,t){return new he((r,i)=>{const a=()=>{!0===e()?t().next(()=>{a()},i):r()};a()})}}class CE{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new ui,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Db(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{const i=lx(r.target.error);this.P.reject(new Db(e,i))}}static open(e,t,r,i){try{return new CE(t,e.transaction(i,r))}catch(a){throw new Db(t,a)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(ze("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new YV(t)}}class Nl{constructor(e,t,r){this.name=e,this.version=t,this.S=r,12.2===Nl.D((0,Xt.z$)())&&Fr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return ze("SimpleDb","Removing database:",e),$p(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!(0,Xt.hl)())return!1;if(Nl.N())return!0;const e=(0,Xt.z$)(),t=Nl.D(e),r=0<t&&t<10,i=Nl.k(e),a=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||a)}static N(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.O)}static M(e,t){return e.store(t)}static D(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}F(e){var t=this;return(0,pe.Z)(function*(){return t.db||(ze("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const a=indexedDB.open(t.name,t.version);a.onsuccess=u=>{r(u.target.result)},a.onblocked=()=>{i(new Db(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=u=>{const h=u.target.error;i("VersionError"===h.name?new Be(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===h.name?new Be(ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+h):new Db(e,h))},a.onupgradeneeded=u=>{ze("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',u.oldVersion),t.S.$(u.target.result,a.transaction,u.oldVersion,t.version).next(()=>{ze("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.B&&(t.db.onversionchange=r=>t.B(r)),t.db})()}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var a=this;return(0,pe.Z)(function*(){const u="readonly"===t;let h=0;for(;;){++h;try{a.db=yield a.F(e);const g=CE.open(a.db,e,u?"readonly":"readwrite",r),v=i(g).next(C=>(g.V(),C)).catch(C=>(g.abort(C),he.reject(C))).toPromise();return v.catch(()=>{}),yield g.v,v}catch(g){const v=g,C="FirebaseError"!==v.name&&h<3;if(ze("SimpleDb","Transaction failed with error:",v.message,"Retrying:",C),a.close(),!C)return Promise.reject(v)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class KV{constructor(e){this.U=e,this.q=!1,this.K=null}get isDone(){return this.q}get G(){return this.K}set cursor(e){this.U=e}done(){this.q=!0}j(e){this.K=e}delete(){return $p(this.U.delete())}}class Db extends Be{constructor(e,t){super(ye.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ch(n){return"IndexedDbTransactionError"===n.name}class YV{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(ze("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(ze("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),$p(r)}add(e){return ze("SimpleDb","ADD",this.store.name,e,e),$p(this.store.add(e))}get(e){return $p(this.store.get(e)).next(t=>(void 0===t&&(t=null),ze("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return ze("SimpleDb","DELETE",this.store.name,e),$p(this.store.delete(e))}count(){return ze("SimpleDb","COUNT",this.store.name),$p(this.store.count())}W(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),a=[];return this.H(i,(u,h)=>{a.push(h)}).next(()=>a)}{const i=this.store.getAll(r.range);return new he((a,u)=>{i.onerror=h=>{u(h.target.error)},i.onsuccess=h=>{a(h.target.result)}})}}J(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new he((i,a)=>{r.onerror=u=>{a(u.target.error)},r.onsuccess=u=>{i(u.target.result)}})}Y(e,t){ze("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.X=!1;const i=this.cursor(r);return this.H(i,(a,u,h)=>h.delete())}Z(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.H(i,t)}tt(e){const t=this.cursor({});return new he((r,i)=>{t.onerror=a=>{const u=lx(a.target.error);i(u)},t.onsuccess=a=>{const u=a.target.result;u?e(u.primaryKey,u.value).next(h=>{h?u.continue():r()}):r()}})}H(e,t){const r=[];return new he((i,a)=>{e.onerror=u=>{a(u.target.error)},e.onsuccess=u=>{const h=u.target.result;if(!h)return void i();const g=new KV(h),v=t(h.primaryKey,h.value,g);if(v instanceof he){const C=v.catch(S=>(g.done(),he.reject(S)));r.push(C)}g.isDone?i():null===g.G?h.continue():h.continue(g.G)}}).next(()=>he.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.X?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function $p(n){return new he((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=lx(r.target.error);t(i)}})}let Nk=!1;function lx(n){const e=Nl.D((0,Xt.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new Be("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Nk||(Nk=!0,setTimeout(()=>{throw r},0)),r}}return n}class QV{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}nt(e){var t=this;ze("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,pe.Z)(function*(){t.task=null;try{ze("IndexBackiller",`Documents written: ${yield t.et.st()}`)}catch(r){Ch(r)?ze("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield Dh(r)}yield t.nt(6e4)}))}}class JV{constructor(e,t){this.localStore=e,this.persistence=t}st(e=50){var t=this;return(0,pe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.it(r,e))})()}it(e,t){const r=new Set;let i=t,a=!0;return he.doWhile(()=>!0===a&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(u=>{if(null!==u&&!r.has(u))return ze("IndexBackiller",`Processing collection: ${u}`),this.rt(e,u,i).next(h=>{i-=h,r.add(u)});a=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(a=>{const u=a.changes;return this.localStore.indexManager.updateIndexEntries(e,u).next(()=>this.ot(i,a)).next(h=>(ze("IndexBackiller",`Updating offset: ${h}`),this.localStore.indexManager.updateCollectionGroup(e,t,h))).next(()=>u.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,a)=>{const u=Ik(a);ox(u,r)>0&&(r=u)}),new Oo(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class oo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}function xk(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Hp(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ok(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}oo.at=-1;class Sr{constructor(e,t){this.comparator=e,this.root=t||qi.EMPTY}insert(e,t){return new Sr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qi.BLACK,null,null))}remove(e){return new Sr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new EE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new EE(this.root,e,this.comparator,!1)}getReverseIterator(){return new EE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new EE(this.root,e,this.comparator,!0)}}class EE{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qi{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??qi.RED,this.left=i??qi.EMPTY,this.right=a??qi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new qi(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return qi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return qi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw gt();const e=this.left.check();if(e!==this.right.check())throw gt();return e+(this.isRed()?0:1)}}qi.EMPTY=null,qi.RED=!0,qi.BLACK=!1,qi.EMPTY=new class{constructor(){this.size=0}get key(){throw gt()}get value(){throw gt()}get color(){throw gt()}get left(){throw gt()}get right(){throw gt()}copy(n,e,t,r,i){return this}insert(n,e,t){return new qi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Vn{constructor(e){this.comparator=e,this.data=new Sr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Mk(this.data.getIterator())}getIteratorFrom(e){return new Mk(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Vn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Vn(this.comparator);return t.data=e,t}}class Mk{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function A_(n){return n.hasNext()?n.getNext():void 0}class Mo{constructor(e){this.fields=e,e.sort(Ir.comparator)}static empty(){return new Mo([])}unionWith(e){let t=new Vn(Ir.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Mo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return S_(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class di{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new di(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new di(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}di.EMPTY_BYTE_STRING=new di("");const ej=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Eh(n){if(Ut(!!n),"string"==typeof n){let e=0;const t=ej.exec(n);if(Ut(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ar(n.seconds),nanos:Ar(n.nanos)}}function Ar(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Gp(n){return"string"==typeof n?di.fromBase64String(n):di.fromUint8Array(n)}function cx(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Rk(n){const e=n.mapValue.fields.__previous_value__;return cx(e)?Rk(e):e}function Cb(n){const e=Eh(n.mapValue.fields.__local_write_time__.timestampValue);return new hr(e.seconds,e.nanos)}class tj{constructor(e,t,r,i,a,u,h,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.useFetchStreams=g}}class Th{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Th("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Th&&e.projectId===this.projectId&&e.database===this.database}}function Eb(n){return null==n}function Tb(n){return 0===n&&1/n==-1/0}function Pk(n){return"number"==typeof n&&Number.isInteger(n)&&!Tb(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Ih={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},TE={nullValue:"NULL_VALUE"};function zp(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?cx(n)?4:Uk(n)?9007199254740991:10:gt()}function Cc(n,e){if(n===e)return!0;const t=zp(n);if(t!==zp(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Cb(n).isEqual(Cb(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const a=Eh(r.timestampValue),u=Eh(i.timestampValue);return a.seconds===u.seconds&&a.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Gp(n.bytesValue).isEqual(Gp(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Ar(r.geoPointValue.latitude)===Ar(i.geoPointValue.latitude)&&Ar(r.geoPointValue.longitude)===Ar(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ar(r.integerValue)===Ar(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const a=Ar(r.doubleValue),u=Ar(i.doubleValue);return a===u?Tb(a)===Tb(u):isNaN(a)&&isNaN(u)}return!1}(n,e);case 9:return S_(n.arrayValue.values||[],e.arrayValue.values||[],Cc);case 10:return function(r,i){const a=r.mapValue.fields||{},u=i.mapValue.fields||{};if(xk(a)!==xk(u))return!1;for(const h in a)if(a.hasOwnProperty(h)&&(void 0===u[h]||!Cc(a[h],u[h])))return!1;return!0}(n,e);default:return gt()}var i}function Ib(n,e){return void 0!==(n.values||[]).find(t=>Cc(t,e))}function Sh(n,e){if(n===e)return 0;const t=zp(n),r=zp(e);if(t!==r)return Zt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Zt(n.booleanValue,e.booleanValue);case 2:return function(i,a){const u=Ar(i.integerValue||i.doubleValue),h=Ar(a.integerValue||a.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return kk(n.timestampValue,e.timestampValue);case 4:return kk(Cb(n),Cb(e));case 5:return Zt(n.stringValue,e.stringValue);case 6:return function(i,a){const u=Gp(i),h=Gp(a);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(i,a){const u=i.split("/"),h=a.split("/");for(let g=0;g<u.length&&g<h.length;g++){const v=Zt(u[g],h[g]);if(0!==v)return v}return Zt(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,a){const u=Zt(Ar(i.latitude),Ar(a.latitude));return 0!==u?u:Zt(Ar(i.longitude),Ar(a.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,a){const u=i.values||[],h=a.values||[];for(let g=0;g<u.length&&g<h.length;++g){const v=Sh(u[g],h[g]);if(v)return v}return Zt(u.length,h.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,a){if(i===Ih.mapValue&&a===Ih.mapValue)return 0;if(i===Ih.mapValue)return 1;if(a===Ih.mapValue)return-1;const u=i.fields||{},h=Object.keys(u),g=a.fields||{},v=Object.keys(g);h.sort(),v.sort();for(let C=0;C<h.length&&C<v.length;++C){const S=Zt(h[C],v[C]);if(0!==S)return S;const R=Sh(u[h[C]],g[v[C]]);if(0!==R)return R}return Zt(h.length,v.length)}(n.mapValue,e.mapValue);default:throw gt()}}function kk(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Zt(n,e);const t=Eh(n),r=Eh(e),i=Zt(t.seconds,r.seconds);return 0!==i?i:Zt(t.nanos,r.nanos)}function N_(n){return ux(n)}function ux(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=Eh(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Gp(n.bytesValue).toBase64():"referenceValue"in n?Xe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",a=!0;for(const u of r.values||[])a?a=!1:i+=",",i+=ux(u);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let a="{",u=!0;for(const h of i)u?u=!1:a+=",",a+=`${h}:${ux(r.fields[h])}`;return a+"}"}(n.mapValue):gt();var e}function qp(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function dx(n){return!!n&&"integerValue"in n}function Sb(n){return!!n&&"arrayValue"in n}function Fk(n){return!!n&&"nullValue"in n}function Lk(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function IE(n){return!!n&&"mapValue"in n}function Ab(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Hp(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ab(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ab(n.arrayValue.values[t]);return e}return Object.assign({},n)}function Uk(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function nj(n){return"nullValue"in n?TE:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?qp(Th.empty(),Xe.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:gt()}function rj(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?qp(Th.empty(),Xe.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?Ih:gt()}function Bk(n,e){const t=Sh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function Vk(n,e){const t=Sh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class Wi{constructor(e){this.value=e}static empty(){return new Wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!IE(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ab(t)}setAll(e){let t=Ir.emptyPath(),r={},i=[];e.forEach((u,h)=>{if(!t.isImmediateParentOf(h)){const g=this.getFieldsMap(t);this.applyChanges(g,r,i),r={},i=[],t=h.popLast()}u?r[h.lastSegment()]=Ab(u):i.push(h.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,i)}delete(e){const t=this.field(e.popLast());IE(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cc(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];IE(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Hp(t,(i,a)=>e[i]=a);for(const i of r)delete e[i]}clone(){return new Wi(Ab(this.value))}}function jk(n){const e=[];return Hp(n.fields,(t,r)=>{const i=new Ir([t]);if(IE(r)){const a=jk(r.mapValue).fields;if(0===a.length)e.push(i);else for(const u of a)e.push(i.child(u))}else e.push(i)}),new Mo(e)}class Jn{constructor(e,t,r,i,a,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.data=a,this.documentState=u}static newInvalidDocument(e){return new Jn(e,0,Bt.min(),Bt.min(),Wi.empty(),0)}static newFoundDocument(e,t,r){return new Jn(e,1,t,Bt.min(),r,0)}static newNoDocument(e,t){return new Jn(e,2,t,Bt.min(),Wi.empty(),0)}static newUnknownDocument(e,t){return new Jn(e,3,t,Bt.min(),Wi.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Jn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Jn(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ij{constructor(e,t=null,r=[],i=[],a=null,u=null,h=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=u,this.endAt=h,this.ht=null}}function $k(n,e=null,t=[],r=[],i=null,a=null,u=null){return new ij(n,e,t,r,i,a,u)}function Wp(n){const e=rt(n);if(null===e.ht){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>{return(i=r).field.canonicalString()+i.op.toString()+N_(i.value);var i}).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Eb(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>N_(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>N_(r)).join(",")),e.ht=t}return e.ht}function Nb(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<n.orderBy.length;i++)if(!fj(n.orderBy[i],e.orderBy[i]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let i=0;i<n.filters.length;i++)if((t=n.filters[i]).op!==(r=e.filters[i]).op||!t.field.isEqual(r.field)||!Cc(t.value,r.value))return!1;var t,r;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Wk(n.startAt,e.startAt)&&Wk(n.endAt,e.endAt)}function SE(n){return Xe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function AE(n,e){return n.filters.filter(t=>t instanceof Zi&&t.field.isEqual(e))}function Hk(n,e,t){let r=TE,i=!0;for(const a of AE(n,e)){let u=TE,h=!0;switch(a.op){case"<":case"<=":u=nj(a.value);break;case"==":case"in":case">=":u=a.value;break;case">":u=a.value,h=!1;break;case"!=":case"not-in":u=TE}Bk({value:r,inclusive:i},{value:u,inclusive:h})<0&&(r=u,i=h)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];Bk({value:r,inclusive:i},{value:u,inclusive:t.inclusive})<0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}function Gk(n,e,t){let r=Ih,i=!0;for(const a of AE(n,e)){let u=Ih,h=!0;switch(a.op){case">=":case">":u=rj(a.value),h=!1;break;case"==":case"in":case"<=":u=a.value;break;case"<":u=a.value,h=!1;break;case"!=":case"not-in":u=Ih}Vk({value:r,inclusive:i},{value:u,inclusive:h})>0&&(r=u,i=h)}if(null!==t)for(let a=0;a<n.orderBy.length;++a)if(n.orderBy[a].field.isEqual(e)){const u=t.position[a];Vk({value:r,inclusive:i},{value:u,inclusive:t.inclusive})>0&&(r=u,i=t.inclusive);break}return{value:r,inclusive:i}}class Zi extends class{}{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.lt(e,t,r):new oj(e,t,r):"array-contains"===t?new cj(e,r):"in"===t?new uj(e,r):"not-in"===t?new dj(e,r):"array-contains-any"===t?new hj(e,r):new Zi(e,t,r)}static lt(e,t,r){return"in"===t?new aj(e,r):new lj(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.ft(Sh(t,this.value)):null!==t&&zp(this.value)===zp(t)&&this.ft(Sh(t,this.value))}ft(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return gt()}}dt(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class oj extends Zi{constructor(e,t,r){super(e,t,r),this.key=Xe.fromName(r.referenceValue)}matches(e){const t=Xe.comparator(e.key,this.key);return this.ft(t)}}class aj extends Zi{constructor(e,t){super(e,"in",t),this.keys=zk(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class lj extends Zi{constructor(e,t){super(e,"not-in",t),this.keys=zk(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function zk(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Xe.fromName(r.referenceValue))}class cj extends Zi{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Sb(t)&&Ib(t.arrayValue,this.value)}}class uj extends Zi{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Ib(this.value.arrayValue,t)}}class dj extends Zi{constructor(e,t){super(e,"not-in",t)}matches(e){if(Ib(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Ib(this.value.arrayValue,t)}}class hj extends Zi{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Sb(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Ib(this.value.arrayValue,r))}}class Ah{constructor(e,t){this.position=e,this.inclusive=t}}class x_{constructor(e,t="asc"){this.field=e,this.dir=t}}function fj(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}function qk(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const a=e[i],u=n.position[i];if(r=a.field.isKeyField()?Xe.comparator(Xe.fromName(u.referenceValue),t.key):Sh(u,t.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Wk(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Cc(n.position[t],e.position[t]))return!1;return!0}class Vu{constructor(e,t=null,r=[],i=[],a=null,u="F",h=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=u,this.startAt=h,this.endAt=g,this._t=null,this.wt=null}}function Zk(n,e,t,r,i,a,u,h){return new Vu(n,e,t,r,i,a,u,h)}function O_(n){return new Vu(n)}function Kk(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function hx(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function fx(n){for(const e of n.filters)if(e.dt())return e.field;return null}function px(n){return null!==n.collectionGroup}function M_(n){const e=rt(n);if(null===e._t){e._t=[];const t=fx(e),r=hx(e);if(null!==t&&null===r)t.isKeyField()||e._t.push(new x_(t)),e._t.push(new x_(Ir.keyField(),"asc"));else{let i=!1;for(const a of e.explicitOrderBy)e._t.push(a),a.field.isKeyField()&&(i=!0);if(!i){const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e._t.push(new x_(Ir.keyField(),a))}}}return e._t}function ks(n){const e=rt(n);if(!e.wt)if("F"===e.limitType)e.wt=$k(e.path,e.collectionGroup,M_(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const a of M_(e))t.push(new x_(a.field,"desc"===a.dir?"asc":"desc"));const r=e.endAt?new Ah(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Ah(e.startAt.position,e.startAt.inclusive):null;e.wt=$k(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.wt}function NE(n,e,t){return new Vu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function xb(n,e){return Nb(ks(n),ks(e))&&n.limitType===e.limitType}function Yk(n){return`${Wp(ks(n))}|lt:${n.limitType}`}function gx(n){return`Query(target=${function sj(n){let e=n.path.canonicalString();return null!==n.collectionGroup&&(e+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(e+=`, filters: [${n.filters.map(t=>{return`${(r=t).field.canonicalString()} ${r.op} ${N_(r.value)}`;var r}).join(", ")}]`),Eb(n.limit)||(e+=", limit: "+n.limit),n.orderBy.length>0&&(e+=`, orderBy: [${n.orderBy.map(t=>{return`${(r=t).field.canonicalString()} (${r.dir})`;var r}).join(", ")}]`),n.startAt&&(e+=", startAt: ",e+=n.startAt.inclusive?"b:":"a:",e+=n.startAt.position.map(t=>N_(t)).join(",")),n.endAt&&(e+=", endAt: ",e+=n.endAt.inclusive?"a:":"b:",e+=n.endAt.position.map(t=>N_(t)).join(",")),`Target(${e})`}(ks(n))}; limitType=${n.limitType})`}function mx(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Xe.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of t.explicitOrderBy)if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,a,u){const h=qk(i,a,u);return i.inclusive?h<=0:h<0}(t.startAt,M_(t),r)||t.endAt&&!function(i,a,u){const h=qk(i,a,u);return i.inclusive?h>=0:h>0}(t.endAt,M_(t),r)));var t,r}function Qk(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Jk(n){return(e,t)=>{let r=!1;for(const i of M_(n)){const a=pj(i,e,t);if(0!==a)return a;r=r||i.field.isKeyField()}return 0}}function pj(n,e,t){const r=n.field.isKeyField()?Xe.comparator(e.key,t.key):function(i,a,u){const h=a.data.field(i),g=u.data.field(i);return null!==h&&null!==g?Sh(h,g):gt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return gt()}}function Xk(n,e){if(n.gt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tb(e)?"-0":e}}function eF(n){return{integerValue:""+n}}function tF(n,e){return Pk(e)?eF(e):Xk(n,e)}class xE{constructor(){this._=void 0}}function gj(n,e,t){return n instanceof R_?function(r,i){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(a.fields.__previous_value__=i),{mapValue:a}}(t,e):n instanceof Zp?rF(n,e):n instanceof Kp?iF(n,e):function(r,i){const a=nF(r,i),u=sF(a)+sF(r.yt);return dx(a)&&dx(r.yt)?eF(u):Xk(r.It,u)}(n,e)}function mj(n,e,t){return n instanceof Zp?rF(n,e):n instanceof Kp?iF(n,e):t}function nF(n,e){return n instanceof P_?dx(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class R_ extends xE{}class Zp extends xE{constructor(e){super(),this.elements=e}}function rF(n,e){const t=oF(e);for(const r of n.elements)t.some(i=>Cc(i,r))||t.push(r);return{arrayValue:{values:t}}}class Kp extends xE{constructor(e){super(),this.elements=e}}function iF(n,e){let t=oF(e);for(const r of n.elements)t=t.filter(i=>!Cc(i,r));return{arrayValue:{values:t}}}class P_ extends xE{constructor(e,t){super(),this.It=e,this.yt=t}}function sF(n){return Ar(n.integerValue||n.doubleValue)}function oF(n){return Sb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class Ob{constructor(e,t){this.field=e,this.transform=t}}class yj{constructor(e,t){this.version=e,this.transformResults=t}}class fr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fr}static exists(e){return new fr(void 0,e)}static updateTime(e){return new fr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function OE(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class ME{}function aF(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new F_(n.key,fr.none()):new k_(n.key,n.data,fr.none());{const t=n.data,r=Wi.empty();let i=new Vn(Ir.comparator);for(let a of e.fields)if(!i.has(a)){let u=t.field(a);null===u&&a.length>1&&(a=a.popLast(),u=t.field(a)),null===u?r.delete(a):r.set(a,u),i=i.add(a)}return new ju(n.key,r,new Mo(i.toArray()),fr.none())}}function vj(n,e,t){n instanceof k_?function(r,i,a){const u=r.value.clone(),h=uF(r.fieldTransforms,i,a.transformResults);u.setAll(h),i.convertToFoundDocument(a.version,u).setHasCommittedMutations()}(n,e,t):n instanceof ju?function(r,i,a){if(!OE(r.precondition,i))return void i.convertToUnknownDocument(a.version);const u=uF(r.fieldTransforms,i,a.transformResults),h=i.data;h.setAll(cF(r)),h.setAll(u),i.convertToFoundDocument(a.version,h).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Mb(n,e,t,r){return n instanceof k_?function(i,a,u,h){if(!OE(i.precondition,a))return u;const g=i.value.clone(),v=dF(i.fieldTransforms,h,a);return g.setAll(v),a.convertToFoundDocument(a.version,g).setHasLocalMutations(),null}(n,e,t,r):n instanceof ju?function(i,a,u,h){if(!OE(i.precondition,a))return u;const g=dF(i.fieldTransforms,h,a),v=a.data;return v.setAll(cF(i)),v.setAll(g),a.convertToFoundDocument(a.version,v).setHasLocalMutations(),null===u?null:u.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(C=>C.field))}(n,e,t,r):(u=t,OE(n.precondition,a=e)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):u);var a,u}function bj(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),a=nF(r.transform,i||null);null!=a&&(null===t&&(t=Wi.empty()),t.set(r.field,a))}return t||null}function lF(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&S_(t,r,(i,a)=>function _j(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Zp&&r instanceof Zp||t instanceof Kp&&r instanceof Kp?S_(t.elements,r.elements,Cc):t instanceof P_&&r instanceof P_?Cc(t.yt,r.yt):t instanceof R_&&r instanceof R_);var t,r}(i,a))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class k_ extends ME{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ju extends ME{constructor(e,t,r,i,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function cF(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function uF(n,e,t){const r=new Map;Ut(n.length===t.length);for(let i=0;i<t.length;i++){const a=n[i],u=a.transform,h=e.data.field(a.field);r.set(a.field,mj(u,h,t[i]))}return r}function dF(n,e,t){const r=new Map;for(const i of n){const a=i.transform,u=t.data.field(i.field);r.set(i.field,gj(a,u,e))}return r}class F_ extends ME{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class _x extends ME{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class wj{constructor(e){this.count=e}}var Qr,vn;function hF(n){switch(n){default:return gt();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function fF(n){if(void 0===n)return Fr("GRPC error has no .code"),ye.UNKNOWN;switch(n){case Qr.OK:return ye.OK;case Qr.CANCELLED:return ye.CANCELLED;case Qr.UNKNOWN:return ye.UNKNOWN;case Qr.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case Qr.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case Qr.INTERNAL:return ye.INTERNAL;case Qr.UNAVAILABLE:return ye.UNAVAILABLE;case Qr.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case Qr.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case Qr.NOT_FOUND:return ye.NOT_FOUND;case Qr.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case Qr.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case Qr.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case Qr.ABORTED:return ye.ABORTED;case Qr.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case Qr.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case Qr.DATA_LOSS:return ye.DATA_LOSS;default:return gt()}}(vn=Qr||(Qr={}))[vn.OK=0]="OK",vn[vn.CANCELLED=1]="CANCELLED",vn[vn.UNKNOWN=2]="UNKNOWN",vn[vn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vn[vn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vn[vn.NOT_FOUND=5]="NOT_FOUND",vn[vn.ALREADY_EXISTS=6]="ALREADY_EXISTS",vn[vn.PERMISSION_DENIED=7]="PERMISSION_DENIED",vn[vn.UNAUTHENTICATED=16]="UNAUTHENTICATED",vn[vn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vn[vn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vn[vn.ABORTED=10]="ABORTED",vn[vn.OUT_OF_RANGE=11]="OUT_OF_RANGE",vn[vn.UNIMPLEMENTED=12]="UNIMPLEMENTED",vn[vn.INTERNAL=13]="INTERNAL",vn[vn.UNAVAILABLE=14]="UNAVAILABLE",vn[vn.DATA_LOSS=15]="DATA_LOSS";class Nh{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,a]of r)if(this.equalsFn(i,e))return a}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hp(this.inner,(t,r)=>{for(const[i,a]of r)e(i,a)})}isEmpty(){return Ok(this.inner)}size(){return this.innerSize}}const Dj=new Sr(Xe.comparator);function ao(){return Dj}const pF=new Sr(Xe.comparator);function Rb(...n){let e=pF;for(const t of n)e=e.insert(t.key,t);return e}function gF(n){let e=pF;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Ec(){return Pb()}function mF(){return Pb()}function Pb(){return new Nh(n=>n.toString(),(n,e)=>n.isEqual(e))}const Cj=new Sr(Xe.comparator),Ej=new Vn(Xe.comparator);function en(...n){let e=Ej;for(const t of n)e=e.add(t);return e}const Tj=new Vn(Zt);function RE(){return Tj}class kb{constructor(e,t,r,i,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,Fb.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new kb(Bt.min(),i,RE(),ao(),en())}}class Fb{constructor(e,t,r,i,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Fb(r,t,en(),en(),en())}}class PE{constructor(e,t,r,i){this.Tt=e,this.removedTargetIds=t,this.key=r,this.Et=i}}class _F{constructor(e,t){this.targetId=e,this.At=t}}class yF{constructor(e,t,r=di.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class vF{constructor(){this.Rt=0,this.bt=wF(),this.Pt=di.EMPTY_BYTE_STRING,this.vt=!1,this.Vt=!0}get current(){return this.vt}get resumeToken(){return this.Pt}get St(){return 0!==this.Rt}get Dt(){return this.Vt}Ct(e){e.approximateByteSize()>0&&(this.Vt=!0,this.Pt=e)}xt(){let e=en(),t=en(),r=en();return this.bt.forEach((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:gt()}}),new Fb(this.Pt,this.vt,e,t,r)}Nt(){this.Vt=!1,this.bt=wF()}kt(e,t){this.Vt=!0,this.bt=this.bt.insert(e,t)}Ot(e){this.Vt=!0,this.bt=this.bt.remove(e)}Mt(){this.Rt+=1}Ft(){this.Rt-=1}$t(){this.Vt=!0,this.vt=!0}}class Ij{constructor(e){this.Bt=e,this.Lt=new Map,this.Ut=ao(),this.qt=bF(),this.Kt=new Vn(Zt)}Gt(e){for(const t of e.Tt)e.Et&&e.Et.isFoundDocument()?this.Qt(t,e.Et):this.jt(t,e.key,e.Et);for(const t of e.removedTargetIds)this.jt(t,e.key,e.Et)}Wt(e){this.forEachTarget(e,t=>{const r=this.zt(t);switch(e.state){case 0:this.Ht(t)&&r.Ct(e.resumeToken);break;case 1:r.Ft(),r.St||r.Nt(),r.Ct(e.resumeToken);break;case 2:r.Ft(),r.St||this.removeTarget(t);break;case 3:this.Ht(t)&&(r.$t(),r.Ct(e.resumeToken));break;case 4:this.Ht(t)&&(this.Jt(t),r.Ct(e.resumeToken));break;default:gt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Lt.forEach((r,i)=>{this.Ht(i)&&t(i)})}Yt(e){const t=e.targetId,r=e.At.count,i=this.Xt(t);if(i){const a=i.target;if(SE(a))if(0===r){const u=new Xe(a.path);this.jt(t,u,Jn.newNoDocument(u,Bt.min()))}else Ut(1===r);else this.Zt(t)!==r&&(this.Jt(t),this.Kt=this.Kt.add(t))}}te(e){const t=new Map;this.Lt.forEach((a,u)=>{const h=this.Xt(u);if(h){if(a.current&&SE(h.target)){const g=new Xe(h.target.path);null!==this.Ut.get(g)||this.ee(u,g)||this.jt(u,g,Jn.newNoDocument(g,e))}a.Dt&&(t.set(u,a.xt()),a.Nt())}});let r=en();this.qt.forEach((a,u)=>{let h=!0;u.forEachWhile(g=>{const v=this.Xt(g);return!v||2===v.purpose||(h=!1,!1)}),h&&(r=r.add(a))}),this.Ut.forEach((a,u)=>u.setReadTime(e));const i=new kb(e,t,this.Kt,this.Ut,r);return this.Ut=ao(),this.qt=bF(),this.Kt=new Vn(Zt),i}Qt(e,t){if(!this.Ht(e))return;const r=this.ee(e,t.key)?2:0;this.zt(e).kt(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ne(t.key).add(e))}jt(e,t,r){if(!this.Ht(e))return;const i=this.zt(e);this.ee(e,t)?i.kt(t,1):i.Ot(t),this.qt=this.qt.insert(t,this.ne(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.Lt.delete(e)}Zt(e){const t=this.zt(e).xt();return this.Bt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Mt(e){this.zt(e).Mt()}zt(e){let t=this.Lt.get(e);return t||(t=new vF,this.Lt.set(e,t)),t}ne(e){let t=this.qt.get(e);return t||(t=new Vn(Zt),this.qt=this.qt.insert(e,t)),t}Ht(e){const t=null!==this.Xt(e);return t||ze("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){const t=this.Lt.get(e);return t&&t.St?null:this.Bt.se(e)}Jt(e){this.Lt.set(e,new vF),this.Bt.getRemoteKeysForTarget(e).forEach(t=>{this.jt(e,t,null)})}ee(e,t){return this.Bt.getRemoteKeysForTarget(e).has(t)}}function bF(){return new Sr(Xe.comparator)}function wF(){return new Sr(Xe.comparator)}const Sj={asc:"ASCENDING",desc:"DESCENDING"},Aj={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Nj{constructor(e,t){this.databaseId=e,this.gt=t}}function Lb(n,e){return n.gt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function DF(n,e){return n.gt?e.toBase64():e.toUint8Array()}function xj(n,e){return Lb(n,e.toTimestamp())}function xi(n){return Ut(!!n),Bt.fromTimestamp(function(e){const t=Eh(e);return new hr(t.seconds,t.nanos)}(n))}function yx(n,e){return(t=n,new yn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function CF(n){const e=yn.fromString(n);return Ut(OF(e)),e}function Ub(n,e){return yx(n.databaseId,e.path)}function Tc(n,e){const t=CF(e);if(t.get(1)!==n.databaseId.projectId)throw new Be(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Be(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Xe(TF(t))}function vx(n,e){return yx(n.databaseId,e)}function EF(n){const e=CF(n);return 4===e.length?yn.emptyPath():TF(e)}function Bb(n){return new yn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function TF(n){return Ut(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function IF(n,e,t){return{name:Ub(n,e),fields:t.value.mapValue.fields}}function SF(n,e,t){const r=Tc(n,e.name),i=xi(e.updateTime),a=new Wi({mapValue:{fields:e.fields}}),u=Jn.newFoundDocument(r,i,a);return t&&u.setHasCommittedMutations(),t?u.setHasCommittedMutations():u}function Vb(n,e){let t;if(e instanceof k_)t={update:IF(n,e.key,e.value)};else if(e instanceof F_)t={delete:Ub(n,e.key)};else if(e instanceof ju)t={update:IF(n,e.key,e.data),updateMask:Bj(e.fieldMask)};else{if(!(e instanceof _x))return gt();t={verify:Ub(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,a){const u=a.transform;if(u instanceof R_)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Zp)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Kp)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof P_)return{fieldPath:a.field.canonicalString(),increment:u.yt};throw gt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:xj(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:gt()),t;var i}function bx(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?fr.updateTime(xi(i.updateTime)):void 0!==i.exists?fr.exists(i.exists):fr.none():fr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(a,u){let h=null;"setToServerValue"in u?(Ut("REQUEST_TIME"===u.setToServerValue),h=new R_):"appendMissingElements"in u?h=new Zp(u.appendMissingElements.values||[]):"removeAllFromArray"in u?h=new Kp(u.removeAllFromArray.values||[]):"increment"in u?h=new P_(a,u.increment):gt();const g=Ir.fromServerFormat(u.fieldPath);return new Ob(g,h)}(n,i)):[];var i;if(e.update){const i=Tc(n,e.update.name),a=new Wi({mapValue:{fields:e.update.fields}});if(e.updateMask){const u=new Mo((e.updateMask.fieldPaths||[]).map(v=>Ir.fromServerFormat(v)));return new ju(i,a,u,t,r)}return new k_(i,a,t,r)}if(e.delete){const i=Tc(n,e.delete);return new F_(i,t)}if(e.verify){const i=Tc(n,e.verify);return new _x(i,t)}return gt()}function AF(n,e){return{documents:[vx(n,e.path)]}}function wx(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=vx(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=vx(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(g){if(0===g.length)return;const v=g.map(C=>function(S){if("=="===S.op){if(Lk(S.value))return{unaryFilter:{field:L_(S.field),op:"IS_NAN"}};if(Fk(S.value))return{unaryFilter:{field:L_(S.field),op:"IS_NULL"}}}else if("!="===S.op){if(Lk(S.value))return{unaryFilter:{field:L_(S.field),op:"IS_NOT_NAN"}};if(Fk(S.value))return{unaryFilter:{field:L_(S.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:L_(S.field),op:Fj(S.op),value:S.value}}}(C));return 1===v.length?v[0]:{compositeFilter:{op:"AND",filters:v}}}(e.filters);i&&(t.structuredQuery.where=i);const a=function(g){if(0!==g.length)return g.map(v=>{return{field:L_((C=v).field),direction:kj(C.dir)};var C})}(e.orderBy);a&&(t.structuredQuery.orderBy=a);const u=(v=e.limit,n.gt||Eb(v)?v:{value:v});var v,h,g;return null!==u&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt={before:(h=e.startAt).inclusive,values:h.position}),e.endAt&&(t.structuredQuery.endAt={before:!(g=e.endAt).inclusive,values:g.position}),t}function NF(n){let e=EF(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ut(1===r);const C=t.from[0];C.allDescendants?i=C.collectionId:e=e.child(C.collectionId)}let a=[];t.where&&(a=xF(t.where));let u=[];t.orderBy&&(u=t.orderBy.map(C=>{return new x_(U_((S=C).field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction));var S}));let h=null;t.limit&&(h=function(C){let S;return S="object"==typeof C?C.value:C,Eb(S)?null:S}(t.limit));let g=null;var C;t.startAt&&(g=new Ah((C=t.startAt).values||[],!!C.before));let v=null;return t.endAt&&(v=function(C){return new Ah(C.values||[],!C.before)}(t.endAt)),Zk(e,i,u,a,h,"F",g,v)}function xF(n){return n?void 0!==n.unaryFilter?[Uj(n)]:void 0!==n.fieldFilter?[Lj(n)]:void 0!==n.compositeFilter?n.compositeFilter.filters.map(e=>xF(e)).reduce((e,t)=>e.concat(t)):gt():[]}function kj(n){return Sj[n]}function Fj(n){return Aj[n]}function L_(n){return{fieldPath:n.canonicalString()}}function U_(n){return Ir.fromServerFormat(n.fieldPath)}function Lj(n){return Zi.create(U_(n.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return gt()}}(n.fieldFilter.op),n.fieldFilter.value)}function Uj(n){switch(n.unaryFilter.op){case"IS_NAN":const e=U_(n.unaryFilter.field);return Zi.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=U_(n.unaryFilter.field);return Zi.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=U_(n.unaryFilter.field);return Zi.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=U_(n.unaryFilter.field);return Zi.create(i,"!=",{nullValue:"NULL_VALUE"});default:return gt()}}function Bj(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function OF(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}function Fs(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=MF(e)),e=Vj(n.get(t),e);return MF(e)}function Vj(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const a=n.charAt(i);switch(a){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=a}}return t}function MF(n){return n+"\x01\x01"}function Ic(n){const e=n.length;if(Ut(e>=2),2===e)return Ut("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),yn.emptyPath();const t=e-2,r=[];let i="";for(let a=0;a<e;){const u=n.indexOf("\x01",a);switch((u<0||u>t)&&gt(),n.charAt(u+1)){case"\x01":const h=n.substring(a,u);let g;0===i.length?g=h:(i+=h,g=i,i=""),r.push(g);break;case"\x10":i+=n.substring(a,u),i+="\0";break;case"\x11":i+=n.substring(a,u+1);break;default:gt()}a=u+2}return new yn(r)}const RF=["userId","batchId"];function kE(n,e){return[n,Fs(e)]}function PF(n,e,t){return[n,Fs(e),t]}const jj={},$j=["prefixPath","collectionGroup","readTime","documentId"],Hj=["prefixPath","collectionGroup","documentId"],Gj=["collectionGroup","readTime","prefixPath","documentId"],zj=["canonicalId","targetId"],qj=["targetId","path"],Wj=["path","targetId"],Zj=["collectionId","parent"],Kj=["indexId","uid"],Yj=["uid","sequenceNumber"],Qj=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Jj=["indexId","uid","orderedDocumentKey"],Xj=["userId","collectionPath","documentId"],e$=["userId","collectionPath","largestBatchId"],t$=["userId","collectionGroup","largestBatchId"],kF=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],n$=[...kF,"documentOverlays"],FF=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],LF=FF,r$=[...LF,"indexConfiguration","indexState","indexEntries"];class Dx extends Ak{constructor(e,t){super(),this.ie=e,this.currentSequenceNumber=t}}function Oi(n,e){const t=rt(n);return Nl.M(t.ie,e)}class Cx{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&vj(a,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Mb(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Mb(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=mF();return this.mutations.forEach(i=>{const a=e.get(i.key),u=a.overlayedDocument;let h=this.applyToLocalView(u,a.mutatedFields);h=t.has(i.key)?null:h;const g=aF(u,h);null!==g&&r.set(i.key,g),u.isValidDocument()||u.convertToNoDocument(Bt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),en())}isEqual(e){return this.batchId===e.batchId&&S_(this.mutations,e.mutations,(t,r)=>lF(t,r))&&S_(this.baseMutations,e.baseMutations,(t,r)=>lF(t,r))}}class Ex{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Ut(e.mutations.length===r.length);let i=Cj;const a=e.mutations;for(let u=0;u<a.length;u++)i=i.insert(a[u].key,r[u].version);return new Ex(e,t,r,i)}}class Tx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class xh{constructor(e,t,r,i,a=Bt.min(),u=Bt.min(),h=di.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=h}withSequenceNumber(e){return new xh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new xh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new xh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class UF{constructor(e){this.re=e}}function BF(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:FE(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Ub(i=n.re,(a=e).key),fields:a.data.value.mapValue.fields,updateTime:Lb(i,a.version.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Yp(e.version)};else{if(!e.isUnknownDocument())return gt();r.unknownDocument={path:t.path.toArray(),version:Yp(e.version)}}var i,a;return r}function FE(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Yp(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Qp(n){const e=new hr(n.seconds,n.nanoseconds);return Bt.fromTimestamp(e)}function Jp(n,e){const t=(e.baseMutations||[]).map(a=>bx(n.re,a));for(let a=0;a<e.mutations.length-1;++a){const u=e.mutations[a];a+1<e.mutations.length&&void 0!==e.mutations[a+1].transform&&(u.updateTransforms=e.mutations[a+1].transform.fieldTransforms,e.mutations.splice(a+1,1),++a)}const r=e.mutations.map(a=>bx(n.re,a)),i=hr.fromMillis(e.localWriteTimeMs);return new Cx(e.batchId,i,t,r)}function jb(n){const e=Qp(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?Qp(n.lastLimboFreeSnapshotVersion):Bt.min();let r;var i;return void 0!==n.query.documents?(Ut(1===(i=n.query).documents.length),r=ks(O_(EF(i.documents[0])))):r=ks(NF(n.query)),new xh(r,n.targetId,0,n.lastListenSequenceNumber,e,t,di.fromBase64String(n.resumeToken))}function VF(n,e){const t=Yp(e.snapshotVersion),r=Yp(e.lastLimboFreeSnapshotVersion);let i;i=SE(e.target)?AF(n.re,e.target):wx(n.re,e.target);const a=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Wp(e.target),readTime:t,resumeToken:a,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Ix(n){const e=NF({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?NE(e,e.limit,"L"):e}function Sx(n,e){return new Tx(e.largestBatchId,bx(n.re,e.overlayMutation))}function jF(n,e){const t=e.path.lastSegment();return[n,Fs(e.path.popLast()),t]}function $F(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Yp(r.readTime),documentKey:Fs(r.documentKey.path),largestBatchId:r.largestBatchId}}class s${getBundleMetadata(e,t){return HF(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Qp(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return HF(e).put({bundleId:(r=t).id,createTime:Yp(xi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return GF(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:Ix(i.bundledQuery),readTime:Qp(i.readTime)};var i})}saveNamedQuery(e,t){return GF(e).put({name:(r=t).name,readTime:Yp(xi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function HF(n){return Oi(n,"bundles")}function GF(n){return Oi(n,"namedQueries")}class LE{constructor(e,t){this.It=e,this.userId=t}static oe(e,t){return new LE(e,t.uid||"")}getOverlay(e,t){return $b(e).get(jF(this.userId,t)).next(r=>r?Sx(this.It,r):null)}getOverlays(e,t){const r=Ec();return he.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((a,u)=>{const h=new Tx(t,u);i.push(this.ue(e,h))}),he.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(u=>i.add(Fs(u.getCollectionPath())));const a=[];return i.forEach(u=>{const h=IDBKeyRange.bound([this.userId,u,r],[this.userId,u,r+1],!1,!0);a.push($b(e).Y("collectionPathOverlayIndex",h))}),he.waitFor(a)}getOverlaysForCollection(e,t,r){const i=Ec(),a=Fs(t),u=IDBKeyRange.bound([this.userId,a,r],[this.userId,a,Number.POSITIVE_INFINITY],!0);return $b(e).W("collectionPathOverlayIndex",u).next(h=>{for(const g of h){const v=Sx(this.It,g);i.set(v.getKey(),v)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const a=Ec();let u;const h=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return $b(e).Z({index:"collectionGroupOverlayIndex",range:h},(g,v,C)=>{const S=Sx(this.It,v);a.size()<i||S.largestBatchId===u?(a.set(S.getKey(),S),u=S.largestBatchId):C.done()}).next(()=>a)}ue(e,t){return $b(e).put(function(r,i,a){const[u,h,g]=jF(i,a.mutation.key);return{userId:i,collectionPath:h,documentId:g,collectionGroup:a.mutation.key.getCollectionGroup(),largestBatchId:a.largestBatchId,overlayMutation:Vb(r.re,a.mutation)}}(this.It,this.userId,t))}}function $b(n){return Oi(n,"documentOverlays")}class Xp{constructor(){}ce(e,t){this.ae(e,t),t.he()}ae(e,t){if("nullValue"in e)this.le(t,5);else if("booleanValue"in e)this.le(t,10),t.fe(e.booleanValue?1:0);else if("integerValue"in e)this.le(t,15),t.fe(Ar(e.integerValue));else if("doubleValue"in e){const r=Ar(e.doubleValue);isNaN(r)?this.le(t,13):(this.le(t,15),Tb(r)?t.fe(0):t.fe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.le(t,20),"string"==typeof r?t.de(r):(t.de(`${r.seconds||""}`),t.fe(r.nanos||0))}else if("stringValue"in e)this._e(e.stringValue,t),this.we(t);else if("bytesValue"in e)this.le(t,30),t.me(Gp(e.bytesValue)),this.we(t);else if("referenceValue"in e)this.ge(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.le(t,45),t.fe(r.latitude||0),t.fe(r.longitude||0)}else"mapValue"in e?Uk(e)?this.le(t,Number.MAX_SAFE_INTEGER):(this.ye(e.mapValue,t),this.we(t)):"arrayValue"in e?(this.pe(e.arrayValue,t),this.we(t)):gt()}_e(e,t){this.le(t,25),this.Ie(e,t)}Ie(e,t){t.de(e)}ye(e,t){const r=e.fields||{};this.le(t,55);for(const i of Object.keys(r))this._e(i,t),this.ae(r[i],t)}pe(e,t){const r=e.values||[];this.le(t,50);for(const i of r)this.ae(i,t)}ge(e,t){this.le(t,37),Xe.fromName(e).path.forEach(r=>{this.le(t,60),this.Ie(r,t)})}le(e,t){e.fe(t)}we(e){e.fe(2)}}function o$(n){if(0===n)return 8;let e=0;return n>>4==0&&(e+=4,n<<=4),n>>6==0&&(e+=2,n<<=2),n>>7==0&&(e+=1),e}function zF(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const a=o$(255&t[i]);if(r+=a,8!==a)break}return r}(n);return Math.ceil(e/8)}Xp.Te=new Xp;class a${constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ee(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ae(r.value),r=t.next();this.Re()}be(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Pe(r.value),r=t.next();this.ve()}Ve(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ae(r);else if(r<2048)this.Ae(960|r>>>6),this.Ae(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|r>>>12),this.Ae(128|63&r>>>6),this.Ae(128|63&r);else{const i=t.codePointAt(0);this.Ae(240|i>>>18),this.Ae(128|63&i>>>12),this.Ae(128|63&i>>>6),this.Ae(128|63&i)}}this.Re()}Se(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Pe(r);else if(r<2048)this.Pe(960|r>>>6),this.Pe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Pe(480|r>>>12),this.Pe(128|63&r>>>6),this.Pe(128|63&r);else{const i=t.codePointAt(0);this.Pe(240|i>>>18),this.Pe(128|63&i>>>12),this.Pe(128|63&i>>>6),this.Pe(128|63&i)}}this.ve()}De(e){const t=this.Ce(e),r=zF(t);this.xe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Ne(e){const t=this.Ce(e),r=zF(t);this.xe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}ke(){this.Oe(255),this.Oe(255)}Me(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.xe(e.length),this.buffer.set(e,this.position),this.position+=e.length}$e(){return this.buffer.slice(0,this.position)}Ce(e){const t=function(i){const a=new DataView(new ArrayBuffer(8));return a.setFloat64(0,i,!1),new Uint8Array(a.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Ae(e){const t=255&e;0===t?(this.Oe(0),this.Oe(255)):255===t?(this.Oe(255),this.Oe(0)):this.Oe(t)}Pe(e){const t=255&e;0===t?(this.Fe(0),this.Fe(255)):255===t?(this.Fe(255),this.Fe(0)):this.Fe(e)}Re(){this.Oe(0),this.Oe(1)}ve(){this.Fe(0),this.Fe(1)}Oe(e){this.xe(1),this.buffer[this.position++]=e}Fe(e){this.xe(1),this.buffer[this.position++]=~e}xe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class l${constructor(e){this.Be=e}me(e){this.Be.Ee(e)}de(e){this.Be.Ve(e)}fe(e){this.Be.De(e)}he(){this.Be.ke()}}class c${constructor(e){this.Be=e}me(e){this.Be.be(e)}de(e){this.Be.Se(e)}fe(e){this.Be.Ne(e)}he(){this.Be.Me()}}class Hb{constructor(){this.Be=new a$,this.Le=new l$(this.Be),this.Ue=new c$(this.Be)}seed(e){this.Be.seed(e)}qe(e){return 0===e?this.Le:this.Ue}$e(){return this.Be.$e()}reset(){this.Be.reset()}}class eg{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new eg(this.indexId,this.documentKey,this.arrayValue,r)}}function tg(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=qF(n.arrayValue,e.arrayValue),0!==t?t:(t=qF(n.directionalValue,e.directionalValue),0!==t?t:Xe.comparator(n.documentKey,e.documentKey)))}function qF(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class u${constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ge=e.orderBy,this.Qe=[];for(const t of e.filters){const r=t;r.dt()?this.je=r:this.Qe.push(r)}}We(e){const t=sx(e);if(void 0!==t&&!this.ze(t))return!1;const r=jp(e);let i=0,a=0;for(;i<r.length&&this.ze(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.je){const u=r[i];if(!this.He(this.je,u)||!this.Je(this.Ge[a++],u))return!1;++i}for(;i<r.length;++i){const u=r[i];if(a>=this.Ge.length||!this.Je(this.Ge[a++],u))return!1}return!0}ze(e){for(const t of this.Qe)if(this.He(t,e))return!0;return!1}He(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Je(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class d${constructor(){this.Ye=new Ax}addToCollectionParentIndex(e,t){return this.Ye.add(t),he.resolve()}getCollectionParents(e,t){return he.resolve(this.Ye.getEntries(t))}addFieldIndex(e,t){return he.resolve()}deleteFieldIndex(e,t){return he.resolve()}getDocumentsMatchingTarget(e,t){return he.resolve(null)}getIndexType(e,t){return he.resolve(0)}getFieldIndexes(e,t){return he.resolve([])}getNextCollectionGroupToUpdate(e){return he.resolve(null)}getMinOffset(e,t){return he.resolve(Oo.min())}getMinOffsetFromCollectionGroup(e,t){return he.resolve(Oo.min())}updateCollectionGroup(e,t,r){return he.resolve()}updateIndexEntries(e,t){return he.resolve()}}class Ax{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Vn(yn.comparator),a=!i.has(r);return this.index[t]=i.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vn(yn.comparator)).toArray()}}const UE=new Uint8Array(0);class h${constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Ax,this.Ze=new Nh(r=>Wp(r),(r,i)=>Nb(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});const a={collectionId:r,parent:Fs(i)};return WF(e).put(a)}return he.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[Ek(t),""],!1,!0);return WF(e).W(i).next(a=>{for(const u of a){if(u.collectionId!==t)break;r.push(Ic(u.parent))}return r})}addFieldIndex(e,t){const r=BE(e),i={indexId:(u=t).indexId,collectionGroup:u.collectionGroup,fields:u.fields.map(h=>[h.fieldPath.canonicalString(),h.kind])};var u;delete i.indexId;const a=r.add(i);if(t.indexState){const u=zb(e);return a.next(h=>{u.put($F(h,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return a.next()}deleteFieldIndex(e,t){const r=BE(e),i=zb(e),a=Gb(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=Gb(e);let i=!0;const a=new Map;return he.forEach(this.tn(t),u=>this.en(e,u).next(h=>{i&&(i=!!h),a.set(u,h)})).next(()=>{if(i){let u=en();const h=[];return he.forEach(a,(g,v)=>{var C;ze("IndexedDbIndexManager",`Using index ${C=g,`id=${C.indexId}|cg=${C.collectionGroup}|f=${C.fields.map(je=>`${je.fieldPath}:${je.kind}`).join(",")}`} to execute ${Wp(t)}`);const S=function(je,Oe){const qe=sx(Oe);if(void 0===qe)return null;for(const Ze of AE(je,qe.fieldPath))switch(Ze.op){case"array-contains-any":return Ze.value.arrayValue.values||[];case"array-contains":return[Ze.value]}return null}(v,g),R=function(je,Oe){const qe=new Map;for(const Ze of jp(Oe))for(const ht of AE(je,Ze.fieldPath))switch(ht.op){case"==":case"in":qe.set(Ze.fieldPath.canonicalString(),ht.value);break;case"not-in":case"!=":return qe.set(Ze.fieldPath.canonicalString(),ht.value),Array.from(qe.values())}return null}(v,g),L=function(je,Oe){const qe=[];let Ze=!0;for(const ht of jp(Oe)){const Vt=0===ht.kind?Hk(je,ht.fieldPath,je.startAt):Gk(je,ht.fieldPath,je.startAt);qe.push(Vt.value),Ze&&(Ze=Vt.inclusive)}return new Ah(qe,Ze)}(v,g),$=function(je,Oe){const qe=[];let Ze=!0;for(const ht of jp(Oe)){const Vt=0===ht.kind?Gk(je,ht.fieldPath,je.endAt):Hk(je,ht.fieldPath,je.endAt);qe.push(Vt.value),Ze&&(Ze=Vt.inclusive)}return new Ah(qe,Ze)}(v,g),K=this.nn(g,v,L),J=this.nn(g,v,$),Te=this.sn(g,v,R),Pe=this.rn(g.indexId,S,K,L.inclusive,J,$.inclusive,Te);return he.forEach(Pe,je=>r.J(je,t.limit).next(Oe=>{Oe.forEach(qe=>{const Ze=Xe.fromSegments(qe.documentKey);u.has(Ze)||(u=u.add(Ze),h.push(Ze))})}))}).next(()=>h)}return he.resolve(null)})}tn(e){let t=this.Ze.get(e);return t||(t=[e],this.Ze.set(e,t),t)}rn(e,t,r,i,a,u,h){const g=(null!=t?t.length:1)*Math.max(r.length,a.length),v=g/(null!=t?t.length:1),C=[];for(let S=0;S<g;++S){const R=t?this.on(t[S/v]):UE,L=this.un(e,R,r[S%v],i),$=this.cn(e,R,a[S%v],u),K=h.map(J=>this.un(e,R,J,!0));C.push(...this.createRange(L,$,K))}return C}un(e,t,r,i){const a=new eg(e,Xe.empty(),t,r);return i?a:a.Ke()}cn(e,t,r,i){const a=new eg(e,Xe.empty(),t,r);return i?a.Ke():a}en(e,t){const r=new u$(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(a=>{let u=null;for(const h of a)r.We(h)&&(!u||h.fields.length>u.fields.length)&&(u=h);return u})}getIndexType(e,t){let r=2;return he.forEach(this.tn(t),i=>this.en(e,i).next(a=>{a?0!==r&&a.fields.length<function(u){let h=new Vn(Ir.comparator),g=!1;for(const v of u.filters){const C=v;C.field.isKeyField()||("array-contains"===C.op||"array-contains-any"===C.op?g=!0:h=h.add(C.field))}for(const v of u.orderBy)v.field.isKeyField()||(h=h.add(v.field));return h.size+(g?1:0)}(i)&&(r=1):r=0})).next(()=>r)}an(e,t){const r=new Hb;for(const i of jp(e)){const a=t.data.field(i.fieldPath);if(null==a)return null;const u=r.qe(i.kind);Xp.Te.ce(a,u)}return r.$e()}on(e){const t=new Hb;return Xp.Te.ce(e,t.qe(0)),t.$e()}hn(e,t){const r=new Hb;return Xp.Te.ce(qp(this.databaseId,t),r.qe(function(i){const a=jp(i);return 0===a.length?0:a[a.length-1].kind}(e))),r.$e()}sn(e,t,r){if(null===r)return[];let i=[];i.push(new Hb);let a=0;for(const u of jp(e)){const h=r[a++];for(const g of i)if(this.ln(t,u.fieldPath)&&Sb(h))i=this.fn(i,u,h);else{const v=g.qe(u.kind);Xp.Te.ce(h,v)}}return this.dn(i)}nn(e,t,r){return this.sn(e,t,r.position)}dn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].$e();return t}fn(e,t,r){const i=[...e],a=[];for(const u of r.arrayValue.values||[])for(const h of i){const g=new Hb;g.seed(h.$e()),Xp.Te.ce(u,g.qe(t.kind)),a.push(g)}return a}ln(e,t){return!!e.filters.find(r=>r instanceof Zi&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=BE(e),i=zb(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(a=>{const u=[];return he.forEach(a,h=>i.get([h.indexId,this.uid]).next(g=>{u.push(function(v,C){const S=C?new wb(C.sequenceNumber,new Oo(Qp(C.readTime),new Xe(Ic(C.documentKey)),C.largestBatchId)):wb.empty(),R=v.fields.map(([L,$])=>new DE(Ir.fromServerFormat(L),$));return new wE(v.indexId,v.collectionGroup,R,S)}(h,g))})).next(()=>u)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const a=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==a?a:Zt(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=BE(e),a=zb(e);return this._n(e).next(u=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(h=>he.forEach(h,g=>a.put($F(g.indexId,this.user,u,r)))))}updateIndexEntries(e,t){const r=new Map;return he.forEach(t,(i,a)=>{const u=r.get(i.collectionGroup);return(u?he.resolve(u):this.getFieldIndexes(e,i.collectionGroup)).next(h=>(r.set(i.collectionGroup,h),he.forEach(h,g=>this.wn(e,i,g).next(v=>{const C=this.mn(a,g);return v.isEqual(C)?he.resolve():this.gn(e,a,g,v,C)}))))})}yn(e,t,r,i){return Gb(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.hn(r,t.key),documentKey:t.key.path.toArray()})}pn(e,t,r,i){return Gb(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.hn(r,t.key),t.key.path.toArray()])}wn(e,t,r){const i=Gb(e);let a=new Vn(tg);return i.Z({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.hn(r,t)])},(u,h)=>{a=a.add(new eg(r.indexId,t,h.arrayValue,h.directionalValue))}).next(()=>a)}mn(e,t){let r=new Vn(tg);const i=this.an(t,e);if(null==i)return r;const a=sx(t);if(null!=a){const u=e.data.field(a.fieldPath);if(Sb(u))for(const h of u.arrayValue.values||[])r=r.add(new eg(t.indexId,e.key,this.on(h),i))}else r=r.add(new eg(t.indexId,e.key,UE,i));return r}gn(e,t,r,i,a){ze("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const u=[];return function(h,g,v,C,S){const R=h.getIterator(),L=g.getIterator();let $=A_(R),K=A_(L);for(;$||K;){let J=!1,Te=!1;if($&&K){const Pe=v($,K);Pe<0?Te=!0:Pe>0&&(J=!0)}else null!=$?Te=!0:J=!0;J?(C(K),K=A_(L)):Te?(S($),$=A_(R)):($=A_(R),K=A_(L))}}(i,a,tg,h=>{u.push(this.yn(e,t,r,h))},h=>{u.push(this.pn(e,t,r,h))}),he.waitFor(u)}_n(e){let t=1;return zb(e).Z({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,a)=>{a.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((u,h)=>tg(u,h)).filter((u,h,g)=>!h||0!==tg(u,g[h-1]));const i=[];i.push(e);for(const u of r){const h=tg(u,e),g=tg(u,t);if(0===h)i[0]=e.Ke();else if(h>0&&g<0)i.push(u),i.push(u.Ke());else if(g>0)break}i.push(t);const a=[];for(let u=0;u<i.length;u+=2)a.push(IDBKeyRange.bound([i[u].indexId,this.uid,i[u].arrayValue,i[u].directionalValue,UE,[]],[i[u+1].indexId,this.uid,i[u+1].arrayValue,i[u+1].directionalValue,UE,[]]));return a}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(ZF)}getMinOffset(e,t){return he.mapArray(this.tn(t),r=>this.en(e,r).next(i=>i||gt())).next(ZF)}}function WF(n){return Oi(n,"collectionParents")}function Gb(n){return Oi(n,"indexEntries")}function BE(n){return Oi(n,"indexConfiguration")}function zb(n){return Oi(n,"indexState")}function ZF(n){Ut(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;ox(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new Oo(e.readTime,e.documentKey,t)}const KF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class lo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new lo(e,lo.DEFAULT_COLLECTION_PERCENTILE,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function YF(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),a=[],u=IDBKeyRange.only(t.batchId);let h=0;const g=r.Z({range:u},(C,S,R)=>(h++,R.delete()));a.push(g.next(()=>{Ut(1===h)}));const v=[];for(const C of t.mutations){const S=PF(e,C.key.path,t.batchId);a.push(i.delete(S)),v.push(C.key)}return he.waitFor(a).next(()=>v)}function VE(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw gt();e=n.noDocument}return JSON.stringify(e).length}lo.DEFAULT_COLLECTION_PERCENTILE=10,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,lo.DEFAULT=new lo(41943040,lo.DEFAULT_COLLECTION_PERCENTILE,lo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),lo.DISABLED=new lo(-1,0,0);class jE{constructor(e,t,r,i){this.userId=e,this.It=t,this.indexManager=r,this.referenceDelegate=i,this.In={}}static oe(e,t,r,i){Ut(""!==e.uid);const a=e.isAuthenticated()?e.uid:"";return new jE(a,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Oh(e).Z({index:"userMutationsIndex",range:r},(i,a,u)=>{t=!1,u.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const a=B_(e),u=Oh(e);return u.add({}).next(h=>{Ut("number"==typeof h);const g=new Cx(h,t,r,i),v=function(R,L,$){const K=$.baseMutations.map(Te=>Vb(R.re,Te)),J=$.mutations.map(Te=>Vb(R.re,Te));return{userId:L,batchId:$.batchId,localWriteTimeMs:$.localWriteTime.toMillis(),baseMutations:K,mutations:J}}(this.It,this.userId,g),C=[];let S=new Vn((R,L)=>Zt(R.canonicalString(),L.canonicalString()));for(const R of i){const L=PF(this.userId,R.key.path,h);S=S.add(R.key.path.popLast()),C.push(u.put(v)),C.push(a.put(L,jj))}return S.forEach(R=>{C.push(this.indexManager.addToCollectionParentIndex(e,R))}),e.addOnCommittedListener(()=>{this.In[h]=g.keys()}),he.waitFor(C).next(()=>g)})}lookupMutationBatch(e,t){return Oh(e).get(t).next(r=>r?(Ut(r.userId===this.userId),Jp(this.It,r)):null)}Tn(e,t){return this.In[t]?he.resolve(this.In[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.In[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let a=null;return Oh(e).Z({index:"userMutationsIndex",range:i},(u,h,g)=>{h.userId===this.userId&&(Ut(h.batchId>=r),a=Jp(this.It,h)),g.done()}).next(()=>a)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Oh(e).Z({index:"userMutationsIndex",range:t,reverse:!0},(i,a,u)=>{r=a.batchId,u.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Oh(e).W("userMutationsIndex",t).next(r=>r.map(i=>Jp(this.It,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=kE(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return B_(e).Z({range:i},(u,h,g)=>{const[v,C,S]=u,R=Ic(C);if(v===this.userId&&t.path.isEqual(R))return Oh(e).get(S).next(L=>{if(!L)throw gt();Ut(L.userId===this.userId),a.push(Jp(this.It,L))});g.done()}).next(()=>a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vn(Zt);const i=[];return t.forEach(a=>{const u=kE(this.userId,a.path),h=IDBKeyRange.lowerBound(u),g=B_(e).Z({range:h},(v,C,S)=>{const[R,L,$]=v,K=Ic(L);R===this.userId&&a.path.isEqual(K)?r=r.add($):S.done()});i.push(g)}),he.waitFor(i).next(()=>this.En(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,a=kE(this.userId,r),u=IDBKeyRange.lowerBound(a);let h=new Vn(Zt);return B_(e).Z({range:u},(g,v,C)=>{const[S,R,L]=g,$=Ic(R);S===this.userId&&r.isPrefixOf($)?$.length===i&&(h=h.add(L)):C.done()}).next(()=>this.En(e,h))}En(e,t){const r=[],i=[];return t.forEach(a=>{i.push(Oh(e).get(a).next(u=>{if(null===u)throw gt();Ut(u.userId===this.userId),r.push(Jp(this.It,u))}))}),he.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return YF(e.ie,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.An(t.batchId)}),he.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}An(e){delete this.In[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return he.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return B_(e).Z({range:r},(a,u,h)=>{if(a[0]===this.userId){const g=Ic(a[1]);i.push(g)}else h.done()}).next(()=>{Ut(0===i.length)})})}containsKey(e,t){return QF(e,this.userId,t)}Rn(e){return JF(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function QF(n,e,t){const r=kE(e,t.path),i=r[1],a=IDBKeyRange.lowerBound(r);let u=!1;return B_(n).Z({range:a,X:!0},(h,g,v)=>{const[C,S,R]=h;C===e&&S===i&&(u=!0),v.done()}).next(()=>u)}function Oh(n){return Oi(n,"mutations")}function B_(n){return Oi(n,"documentMutations")}function JF(n){return Oi(n,"mutationQueues")}class ng{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new ng(0)}static vn(){return new ng(-1)}}class f${constructor(e,t){this.referenceDelegate=e,this.It=t}allocateTargetId(e){return this.Vn(e).next(t=>{const r=new ng(t.highestTargetId);return t.highestTargetId=r.next(),this.Sn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Vn(e).next(t=>Bt.fromTimestamp(new hr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Vn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Vn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Sn(e,i)))}addTargetData(e,t){return this.Dn(e,t).next(()=>this.Vn(e).next(r=>(r.targetCount+=1,this.Cn(t,r),this.Sn(e,r))))}updateTargetData(e,t){return this.Dn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>V_(e).delete(t.targetId)).next(()=>this.Vn(e)).next(r=>(Ut(r.targetCount>0),r.targetCount-=1,this.Sn(e,r)))}removeTargets(e,t,r){let i=0;const a=[];return V_(e).Z((u,h)=>{const g=jb(h);g.sequenceNumber<=t&&null===r.get(g.targetId)&&(i++,a.push(this.removeTargetData(e,g)))}).next(()=>he.waitFor(a)).next(()=>i)}forEachTarget(e,t){return V_(e).Z((r,i)=>{const a=jb(i);t(a)})}Vn(e){return XF(e).get("targetGlobalKey").next(t=>(Ut(null!==t),t))}Sn(e,t){return XF(e).put("targetGlobalKey",t)}Dn(e,t){return V_(e).put(VF(this.It,t))}Cn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Vn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=Wp(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let a=null;return V_(e).Z({range:i,index:"queryTargetsIndex"},(u,h,g)=>{const v=jb(h);Nb(t,v.target)&&(a=v,g.done())}).next(()=>a)}addMatchingKeys(e,t,r){const i=[],a=Mh(e);return t.forEach(u=>{const h=Fs(u.path);i.push(a.put({targetId:r,path:h})),i.push(this.referenceDelegate.addReference(e,r,u))}),he.waitFor(i)}removeMatchingKeys(e,t,r){const i=Mh(e);return he.forEach(t,a=>{const u=Fs(a.path);return he.waitFor([i.delete([r,u]),this.referenceDelegate.removeReference(e,r,a)])})}removeMatchingKeysForTargetId(e,t){const r=Mh(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=Mh(e);let a=en();return i.Z({range:r,X:!0},(u,h,g)=>{const v=Ic(u[1]),C=new Xe(v);a=a.add(C)}).next(()=>a)}containsKey(e,t){const r=Fs(t.path),i=IDBKeyRange.bound([r],[Ek(r)],!1,!0);let a=0;return Mh(e).Z({index:"documentTargetsIndex",X:!0,range:i},([u,h],g,v)=>{0!==u&&(a++,v.done())}).next(()=>a>0)}se(e,t){return V_(e).get(t).next(r=>r?jb(r):null)}}function V_(n){return Oi(n,"targets")}function XF(n){return Oi(n,"targetGlobal")}function Mh(n){return Oi(n,"targetDocuments")}function eL([n,e],[t,r]){const i=Zt(n,t);return 0===i?Zt(e,r):i}class p${constructor(e){this.xn=e,this.buffer=new Vn(eL),this.Nn=0}kn(){return++this.Nn}On(e){const t=[e,this.kn()];if(this.buffer.size<this.xn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();eL(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class g${constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Mn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Fn(6e4)}stop(){this.Mn&&(this.Mn.cancel(),this.Mn=null)}get started(){return null!==this.Mn}Fn(e){var t=this;ze("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Mn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,pe.Z)(function*(){t.Mn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Ch(r)?ze("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield Dh(r)}yield t.Fn(3e5)}))}}class m${constructor(e,t){this.$n=e,this.params=t}calculateTargetCount(e,t){return this.$n.Bn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return he.resolve(oo.at);const r=new p$(t);return this.$n.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.$n.Ln(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.$n.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.$n.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector","Garbage collection skipped; disabled"),he.resolve(KF)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ze("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),KF):this.Un(e,t))}getCacheSize(e){return this.$n.getCacheSize(e)}Un(e,t){let r,i,a,u,h,g,v;const C=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(S=>(S>this.params.maximumSequenceNumbersToCollect?(ze("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),i=this.params.maximumSequenceNumbersToCollect):i=S,u=Date.now(),this.nthSequenceNumber(e,i))).next(S=>(r=S,h=Date.now(),this.removeTargets(e,r,t))).next(S=>(a=S,g=Date.now(),this.removeOrphanedDocuments(e,r))).next(S=>(v=Date.now(),rx()<=Pa.in.DEBUG&&ze("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${u-C}ms\n\tDetermined least recently used ${i} in `+(h-u)+`ms\n\tRemoved ${a} targets in `+(g-h)+`ms\n\tRemoved ${S} documents in `+(v-g)+`ms\nTotal Duration: ${v-C}ms`),he.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:S})))}}class _${constructor(e,t){this.db=e,this.garbageCollector=new m$(this,t)}Bn(e){const t=this.qn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}qn(e){let t=0;return this.Ln(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Ln(e,t){return this.Kn(e,(r,i)=>t(i))}addReference(e,t,r){return $E(e,r)}removeReference(e,t,r){return $E(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return $E(e,t)}Gn(e,t){return function(r,i){let a=!1;return JF(r).tt(u=>QF(r,u,i).next(h=>(h&&(a=!0),he.resolve(!h)))).next(()=>a)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let a=0;return this.Kn(e,(u,h)=>{if(h<=t){const g=this.Gn(e,u).next(v=>{if(!v)return a++,r.getEntry(e,u).next(()=>(r.removeEntry(u,Bt.min()),Mh(e).delete([0,Fs(u.path)])))});i.push(g)}}).next(()=>he.waitFor(i)).next(()=>r.apply(e)).next(()=>a)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return $E(e,t)}Kn(e,t){const r=Mh(e);let i,a=oo.at;return r.Z({index:"documentTargetsIndex"},([u,h],{path:g,sequenceNumber:v})=>{0===u?(a!==oo.at&&t(new Xe(Ic(i)),a),a=v,i=g):a=oo.at}).next(()=>{a!==oo.at&&t(new Xe(Ic(i)),a)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function $E(n,e){return Mh(n).put((r=n.currentSequenceNumber,{targetId:0,path:Fs(e.path),sequenceNumber:r}));var r}class tL{constructor(){this.changes=new Nh(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Jn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?he.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class y${constructor(e){this.It=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return rg(e).put(r)}removeEntry(e,t,r){return rg(e).delete(function(i,a){const u=i.path.toArray();return[u.slice(0,u.length-2),u[u.length-2],FE(a),u[u.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Qn(e,r)))}getEntry(e,t){let r=Jn.newInvalidDocument(t);return rg(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(qb(t))},(i,a)=>{r=this.jn(t,a)}).next(()=>r)}Wn(e,t){let r={size:0,document:Jn.newInvalidDocument(t)};return rg(e).Z({index:"documentKeyIndex",range:IDBKeyRange.only(qb(t))},(i,a)=>{r={document:this.jn(t,a),size:VE(a)}}).next(()=>r)}getEntries(e,t){let r=ao();return this.zn(e,t,(i,a)=>{const u=this.jn(i,a);r=r.insert(i,u)}).next(()=>r)}Hn(e,t){let r=ao(),i=new Sr(Xe.comparator);return this.zn(e,t,(a,u)=>{const h=this.jn(a,u);r=r.insert(a,h),i=i.insert(a,VE(u))}).next(()=>({documents:r,Jn:i}))}zn(e,t,r){if(t.isEmpty())return he.resolve();let i=new Vn(sL);t.forEach(g=>i=i.add(g));const a=IDBKeyRange.bound(qb(i.first()),qb(i.last())),u=i.getIterator();let h=u.getNext();return rg(e).Z({index:"documentKeyIndex",range:a},(g,v,C)=>{const S=Xe.fromSegments([...v.prefixPath,v.collectionGroup,v.documentId]);for(;h&&sL(h,S)<0;)r(h,null),h=u.getNext();h&&h.isEqual(S)&&(r(h,v),h=u.hasNext()?u.getNext():null),h?C.j(qb(h)):C.done()}).next(()=>{for(;h;)r(h,null),h=u.hasNext()?u.getNext():null})}getAllFromCollection(e,t,r){const i=[t.popLast().toArray(),t.lastSegment(),FE(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return rg(e).W(IDBKeyRange.bound(i,a,!0)).next(u=>{let h=ao();for(const g of u){const v=this.jn(Xe.fromSegments(g.prefixPath.concat(g.collectionGroup,g.documentId)),g);h=h.insert(v.key,v)}return h})}getAllFromCollectionGroup(e,t,r,i){let a=ao();const u=iL(t,r),h=iL(t,Oo.max());return rg(e).Z({index:"collectionGroupIndex",range:IDBKeyRange.bound(u,h,!0)},(g,v,C)=>{const S=this.jn(Xe.fromSegments(v.prefixPath.concat(v.collectionGroup,v.documentId)),v);a=a.insert(S.key,S),a.size===i&&C.done()}).next(()=>a)}newChangeBuffer(e){return new v$(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return rL(e).get("remoteDocumentGlobalKey").next(t=>(Ut(!!t),t))}Qn(e,t){return rL(e).put("remoteDocumentGlobalKey",t)}jn(e,t){if(t){const r=function i$(n,e){let t;if(e.document)t=SF(n.re,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=Xe.fromSegments(e.noDocument.path),i=Qp(e.noDocument.readTime);t=Jn.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return gt();{const r=Xe.fromSegments(e.unknownDocument.path),i=Qp(e.unknownDocument.version);t=Jn.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new hr(r[0],r[1]);return Bt.fromTimestamp(i)}(e.readTime)),t}(this.It,t);if(!r.isNoDocument()||!r.version.isEqual(Bt.min()))return r}return Jn.newInvalidDocument(e)}}function nL(n){return new y$(n)}class v$ extends tL{constructor(e,t){super(),this.Yn=e,this.trackRemovals=t,this.Xn=new Nh(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Vn((a,u)=>Zt(a.canonicalString(),u.canonicalString()));return this.changes.forEach((a,u)=>{const h=this.Xn.get(a);if(t.push(this.Yn.removeEntry(e,a,h.readTime)),u.isValidDocument()){const g=BF(this.Yn.It,u);i=i.add(a.path.popLast()),r+=VE(g)-h.size,t.push(this.Yn.addEntry(e,a,g))}else if(r-=h.size,this.trackRemovals){const g=BF(this.Yn.It,u.convertToNoDocument(Bt.min()));t.push(this.Yn.addEntry(e,a,g))}}),i.forEach(a=>{t.push(this.Yn.indexManager.addToCollectionParentIndex(e,a))}),t.push(this.Yn.updateMetadata(e,r)),he.waitFor(t)}getFromCache(e,t){return this.Yn.Wn(e,t).next(r=>(this.Xn.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Yn.Hn(e,t).next(({documents:r,Jn:i})=>(i.forEach((a,u)=>{this.Xn.set(a,{size:u,readTime:r.get(a).readTime})}),r))}}function rL(n){return Oi(n,"remoteDocumentGlobal")}function rg(n){return Oi(n,"remoteDocumentsV14")}function qb(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function iL(n,e){const t=e.documentKey.path.toArray();return[n,FE(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function sL(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let a=0;a<t.length-2&&a<r.length-2;++a)if(i=Zt(t[a],r[a]),i)return i;return i=Zt(t.length,r.length),i||(i=Zt(t[t.length-2],r[r.length-2]),i||Zt(t[t.length-1],r[r.length-1]))}class b${constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class oL{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.getBaseDocument(e,t,r))).next(i=>(null!==r&&Mb(r.mutation,i,Mo.empty(),hr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,en()).next(()=>r))}getLocalViewOfDocuments(e,t,r=en()){const i=Ec();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(a=>{let u=Rb();return a.forEach((h,g)=>{u=u.insert(h,g.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const r=Ec();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,en()))}populateOverlays(e,t,r){const i=[];return r.forEach(a=>{t.has(a)||i.push(a)}),this.documentOverlayCache.getOverlays(e,i).next(a=>{a.forEach((u,h)=>{t.set(u,h)})})}computeViews(e,t,r,i){let a=ao();const u=Pb(),h=Pb();return t.forEach((g,v)=>{const C=r.get(v.key);i.has(v.key)&&(void 0===C||C.mutation instanceof ju)?a=a.insert(v.key,v):void 0!==C&&(u.set(v.key,C.mutation.getFieldMask()),Mb(C.mutation,v,C.mutation.getFieldMask(),hr.now()))}),this.recalculateAndSaveOverlays(e,a).next(g=>(g.forEach((v,C)=>u.set(v,C)),t.forEach((v,C)=>{var S;return h.set(v,new b$(C,null!==(S=u.get(v))&&void 0!==S?S:null))}),h))}recalculateAndSaveOverlays(e,t){const r=Pb();let i=new Sr((u,h)=>u-h),a=en();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const h of u)h.keys().forEach(g=>{const v=t.get(g);if(null===v)return;let C=r.get(g)||Mo.empty();C=h.applyToLocalView(v,C),r.set(g,C);const S=(i.get(h.batchId)||en()).add(g);i=i.insert(h.batchId,S)})}).next(()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const g=h.getNext(),v=g.key,C=g.value,S=mF();C.forEach(R=>{if(!a.has(R)){const L=aF(t.get(R),r.get(R));null!==L&&S.set(R,L),a=a.add(R)}}),u.push(this.documentOverlayCache.saveOverlays(e,v,S))}return he.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Xe.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):px(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(a=>{const u=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-a.size):he.resolve(Ec());let h=-1,g=a;return u.next(v=>he.forEach(v,(C,S)=>(h<S.largestBatchId&&(h=S.largestBatchId),a.get(C)?he.resolve():this.getBaseDocument(e,C,S).next(R=>{g=g.insert(C,R)}))).next(()=>this.populateOverlays(e,v,a)).next(()=>this.computeViews(e,g,v,en())).next(C=>({batchId:h,changes:gF(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Xe(t)).next(r=>{let i=Rb();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let a=Rb();return this.indexManager.getCollectionParents(e,i).next(u=>he.forEach(u,h=>{const g=(v=t,C=h.child(i),new Vu(C,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt));var v,C;return this.getDocumentsMatchingCollectionQuery(e,g,r).next(v=>{v.forEach((C,S)=>{a=a.insert(C,S)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(a=>(i=a,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(a=>{a.forEach((h,g)=>{const v=g.getKey();null===i.get(v)&&(i=i.insert(v,Jn.newInvalidDocument(v)))});let u=Rb();return i.forEach((h,g)=>{const v=a.get(h);void 0!==v&&Mb(v.mutation,g,Mo.empty(),hr.now()),mx(t,g)&&(u=u.insert(h,g))}),u})}getBaseDocument(e,t,r){return null===r||1===r.mutation.type?this.remoteDocumentCache.getEntry(e,t):he.resolve(Jn.newInvalidDocument(t))}}class w${constructor(e){this.It=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return he.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:xi(r.createTime)}),he.resolve()}getNamedQuery(e,t){return he.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:Ix(r.bundledQuery),readTime:xi(r.readTime)}),he.resolve();var r}}class D${constructor(){this.overlays=new Sr(Xe.comparator),this.es=new Map}getOverlay(e,t){return he.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Ec();return he.forEach(t,i=>this.getOverlay(e,i).next(a=>{null!==a&&r.set(i,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,a)=>{this.ue(e,t,a)}),he.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(a=>this.overlays=this.overlays.remove(a)),this.es.delete(r)),he.resolve()}getOverlaysForCollection(e,t,r){const i=Ec(),a=t.length+1,u=new Xe(t.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const g=h.getNext().value,v=g.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===a&&g.largestBatchId>r&&i.set(g.getKey(),g)}return he.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let a=new Sr((v,C)=>v-C);const u=this.overlays.getIterator();for(;u.hasNext();){const v=u.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>r){let C=a.get(v.largestBatchId);null===C&&(C=Ec(),a=a.insert(v.largestBatchId,C)),C.set(v.getKey(),v)}}const h=Ec(),g=a.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,C)=>h.set(v,C)),!(h.size()>=i)););return he.resolve(h)}ue(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const u=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new Tx(t,r));let a=this.es.get(t);void 0===a&&(a=en(),this.es.set(t,a)),this.es.set(t,a.add(r.key))}}class Nx{constructor(){this.ns=new Vn(Mi.ss),this.rs=new Vn(Mi.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Mi(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Mi(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Xe(new yn([])),r=new Mi(t,e),i=new Mi(t,e+1),a=[];return this.rs.forEachInRange([r,i],u=>{this.cs(u),a.push(u.key)}),a}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Xe(new yn([])),r=new Mi(t,e),i=new Mi(t,e+1);let a=en();return this.rs.forEachInRange([r,i],u=>{a=a.add(u.key)}),a}containsKey(e){const t=new Mi(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Mi{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Xe.comparator(e.key,t.key)||Zt(e._s,t._s)}static os(e,t){return Zt(e._s,t._s)||Xe.comparator(e.key,t.key)}}class C${constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Vn(Mi.ss)}checkEmpty(e){return he.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const a=this.ws;this.ws++;const u=new Cx(a,t,r,i);this.mutationQueue.push(u);for(const h of i)this.gs=this.gs.add(new Mi(h.key,a)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return he.resolve(u)}lookupMutationBatch(e,t){return he.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),a=i<0?0:i;return he.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return he.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return he.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Mi(t,0),i=new Mi(t,Number.POSITIVE_INFINITY),a=[];return this.gs.forEachInRange([r,i],u=>{const h=this.ys(u._s);a.push(h)}),he.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Vn(Zt);return t.forEach(i=>{const a=new Mi(i,0),u=new Mi(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([a,u],h=>{r=r.add(h._s)})}),he.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let a=r;Xe.isDocumentKey(a)||(a=a.child(""));const u=new Mi(new Xe(a),0);let h=new Vn(Zt);return this.gs.forEachWhile(g=>{const v=g.key.path;return!!r.isPrefixOf(v)&&(v.length===i&&(h=h.add(g._s)),!0)},u),he.resolve(this.Is(h))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ut(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return he.forEach(t.mutations,i=>{const a=new Mi(i.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Mi(t,0),i=this.gs.firstAfterOrEqual(r);return he.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return he.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class E${constructor(e){this.Es=e,this.docs=new Sr(Xe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),a=i?i.size:0,u=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return he.resolve(r?r.document.mutableCopy():Jn.newInvalidDocument(t))}getEntries(e,t){let r=ao();return t.forEach(i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Jn.newInvalidDocument(i))}),he.resolve(r)}getAllFromCollection(e,t,r){let i=ao();const a=new Xe(t.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:h,value:{document:g}}=u.getNext();if(!t.isPrefixOf(h.path))break;h.path.length>t.length+1||ox(Ik(g),r)<=0||(i=i.insert(g.key,g.mutableCopy()))}return he.resolve(i)}getAllFromCollectionGroup(e,t,r,i){gt()}As(e,t){return he.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new T$(this)}getSize(e){return he.resolve(this.size)}}class T$ extends tL{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),he.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class I${constructor(e){this.persistence=e,this.Rs=new Nh(t=>Wp(t),Nb),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.bs=0,this.Ps=new Nx,this.targetCount=0,this.vs=ng.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),he.resolve()}getLastRemoteSnapshotVersion(e){return he.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return he.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),he.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),he.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new ng(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,he.resolve()}updateTargetData(e,t){return this.Dn(t),he.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,he.resolve()}removeTargets(e,t,r){let i=0;const a=[];return this.Rs.forEach((u,h)=>{h.sequenceNumber<=t&&null===r.get(h.targetId)&&(this.Rs.delete(u),a.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),he.waitFor(a).next(()=>i)}getTargetCount(e){return he.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return he.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),he.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,a=[];return i&&t.forEach(u=>{a.push(i.markPotentiallyOrphaned(e,u))}),he.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),he.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return he.resolve(r)}containsKey(e,t){return he.resolve(this.Ps.containsKey(t))}}class aL{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new oo(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new I$(this),this.indexManager=new d$,this.remoteDocumentCache=new E$(r=>this.referenceDelegate.xs(r)),this.It=new UF(t),this.Ns=new w$(this.It)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new D$,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new C$(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){ze("MemoryPersistence","Starting transaction:",e);const i=new S$(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(a=>this.referenceDelegate.Os(i).next(()=>a)).toPromise().then(a=>(i.raiseOnCommittedEvent(),a))}Ms(e,t){return he.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class S$ extends Ak{constructor(e){super(),this.currentSequenceNumber=e}}class HE{constructor(e){this.persistence=e,this.Fs=new Nx,this.$s=null}static Bs(e){return new HE(e)}get Ls(){if(this.$s)return this.$s;throw gt()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),he.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),he.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),he.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(a=>this.Ls.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return he.forEach(this.Ls,r=>{const i=Xe.fromPath(r);return this.Us(e,i).next(a=>{a||t.removeEntry(i,Bt.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.Us(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}Us(e,t){return he.or([()=>he.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class A${constructor(e){this.It=e}$(e,t,r,i){const a=new CE("createOrUpgrade",t);var h;r<1&&i>=1&&(e.createObjectStore("owner"),(h=e).createObjectStore("mutationQueues",{keyPath:"userId"}),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RF,{unique:!0}),h.createObjectStore("documentMutations"),lL(e),function(h){h.createObjectStore("remoteDocuments")}(e));let u=he.resolve();return r<3&&i>=3&&(0!==r&&(function(h){h.deleteObjectStore("targetDocuments"),h.deleteObjectStore("targets"),h.deleteObjectStore("targetGlobal")}(e),lL(e)),u=u.next(()=>function(h){const g=h.store("targetGlobal"),v={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Bt.min().toTimestamp(),targetCount:0};return g.put("targetGlobalKey",v)}(a))),r<4&&i>=4&&(0!==r&&(u=u.next(()=>function(h,g){return g.store("mutations").W().next(v=>{h.deleteObjectStore("mutations"),h.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",RF,{unique:!0});const C=g.store("mutations"),S=v.map(R=>C.put(R));return he.waitFor(S)})}(e,a))),u=u.next(()=>{!function(h){h.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(u=u.next(()=>this.qs(a))),r<6&&i>=6&&(u=u.next(()=>(function(h){h.createObjectStore("remoteDocumentGlobal")}(e),this.Ks(a)))),r<7&&i>=7&&(u=u.next(()=>this.Gs(a))),r<8&&i>=8&&(u=u.next(()=>this.Qs(e,a))),r<9&&i>=9&&(u=u.next(()=>{!function(h){h.objectStoreNames.contains("remoteDocumentChanges")&&h.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(u=u.next(()=>this.js(a))),r<11&&i>=11&&(u=u.next(()=>{(function(h){h.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(h){h.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(u=u.next(()=>{!function(h){const g=h.createObjectStore("documentOverlays",{keyPath:Xj});g.createIndex("collectionPathOverlayIndex",e$,{unique:!1}),g.createIndex("collectionGroupOverlayIndex",t$,{unique:!1})}(e)})),r<13&&i>=13&&(u=u.next(()=>function(h){const g=h.createObjectStore("remoteDocumentsV14",{keyPath:$j});g.createIndex("documentKeyIndex",Hj),g.createIndex("collectionGroupIndex",Gj)}(e)).next(()=>this.Ws(e,a)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(u=u.next(()=>this.zs(e,a))),r<15&&i>=15&&(u=u.next(()=>function(h){h.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),h.createObjectStore("indexState",{keyPath:Kj}).createIndex("sequenceNumberIndex",Yj,{unique:!1}),h.createObjectStore("indexEntries",{keyPath:Qj}).createIndex("documentKeyIndex",Jj,{unique:!1})}(e))),u}Ks(e){let t=0;return e.store("remoteDocuments").Z((r,i)=>{t+=VE(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}qs(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>he.forEach(i,a=>{const u=IDBKeyRange.bound([a.userId,-1],[a.userId,a.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",u).next(h=>he.forEach(h,g=>{Ut(g.userId===a.userId);const v=Jp(this.It,g);return YF(e,a.userId,v).next(()=>{})}))}))}Gs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const a=[];return r.Z((u,h)=>{const g=new yn(u),v=[0,Fs(g)];a.push(t.get(v).next(C=>C?he.resolve():t.put({targetId:0,path:Fs(g),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>he.waitFor(a))})}Qs(e,t){e.createObjectStore("collectionParents",{keyPath:Zj});const r=t.store("collectionParents"),i=new Ax,a=u=>{if(i.add(u)){const h=u.lastSegment(),g=u.popLast();return r.put({collectionId:h,parent:Fs(g)})}};return t.store("remoteDocuments").Z({X:!0},(u,h)=>{const g=new yn(u);return a(g.popLast())}).next(()=>t.store("documentMutations").Z({X:!0},([u,h,g],v)=>{const C=Ic(h);return a(C.popLast())}))}js(e){const t=e.store("targets");return t.Z((r,i)=>{const a=jb(i),u=VF(this.It,a);return t.put(u)})}Ws(e,t){const r=t.store("remoteDocuments"),i=[];return r.Z((a,u)=>{const h=t.store("remoteDocumentsV14"),g=(v=u,v.document?new Xe(yn.fromString(v.document.name).popFirst(5)):v.noDocument?Xe.fromSegments(v.noDocument.path):v.unknownDocument?Xe.fromSegments(v.unknownDocument.path):gt()).path.toArray();var v;const C={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:u.readTime||[0,0],unknownDocument:u.unknownDocument,noDocument:u.noDocument,document:u.document,hasCommittedMutations:!!u.hasCommittedMutations};i.push(h.put(C))}).next(()=>he.waitFor(i))}zs(e,t){const r=t.store("mutations"),i=nL(this.It),a=new aL(HE.Bs,this.It.re);return r.W().next(u=>{const h=new Map;return u.forEach(g=>{var v;let C=null!==(v=h.get(g.userId))&&void 0!==v?v:en();Jp(this.It,g).keys().forEach(S=>C=C.add(S)),h.set(g.userId,C)}),he.forEach(h,(g,v)=>{const C=new Ni(v),S=LE.oe(this.It,C),R=a.getIndexManager(C),L=jE.oe(C,this.It,R,a.referenceDelegate);return new oL(i,L,S,R).recalculateAndSaveOverlaysForDocumentKeys(new Dx(t,oo.at),g).next()})})}}function lL(n){n.createObjectStore("targetDocuments",{keyPath:qj}).createIndex("documentTargetsIndex",Wj,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",zj,{unique:!0}),n.createObjectStore("targetGlobal")}const xx="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Ox{constructor(e,t,r,i,a,u,h,g,v,C,S=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Hs=a,this.window=u,this.document=h,this.Js=v,this.Ys=C,this.Xs=S,this.Ss=null,this.Ds=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Zs=null,this.inForeground=!1,this.ti=null,this.ei=null,this.ni=Number.NEGATIVE_INFINITY,this.si=R=>Promise.resolve(),!Ox.C())throw new Be(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _$(this,i),this.ii=t+"main",this.It=new UF(g),this.ri=new Nl(this.ii,this.Xs,new A$(this.It)),this.Cs=new f$(this.referenceDelegate,this.It),this.remoteDocumentCache=nL(this.It),this.Ns=new s$,this.window&&this.window.localStorage?this.oi=this.window.localStorage:(this.oi=null,!1===C&&Fr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ui().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Be(ye.FAILED_PRECONDITION,xx);return this.ci(),this.ai(),this.hi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Cs.getHighestSequenceNumber(e))}).then(e=>{this.Ss=new oo(e,this.Js)}).then(()=>{this.Ds=!0}).catch(e=>(this.ri&&this.ri.close(),Promise.reject(e)))}li(e){var t=this;return this.si=function(){var r=(0,pe.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ri.L(function(){var t=(0,pe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Hs.enqueueAndForget((0,pe.Z)(function*(){t.started&&(yield t.ui())})))}ui(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>GE(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.fi(e).next(t=>{t||(this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)))})}).next(()=>this.di(e)).next(t=>this.isPrimary&&!t?this._i(e).next(()=>!1):!!t&&this.wi(e).next(()=>!0))).catch(e=>{if(Ch(e))return ze("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ze("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Hs.enqueueRetryable(()=>this.si(e)),this.isPrimary=e})}fi(e){return Wb(e).get("owner").next(t=>he.resolve(this.mi(t)))}gi(e){return GE(e).delete(this.clientId)}yi(){var e=this;return(0,pe.Z)(function*(){if(e.isPrimary&&!e.pi(e.ni,18e5)){e.ni=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=Oi(r,"clientMetadata");return i.W().next(a=>{const u=e.Ii(a,18e5),h=a.filter(g=>-1===u.indexOf(g));return he.forEach(h,g=>i.delete(g.clientId)).next(()=>h)})}).catch(()=>[]);if(e.oi)for(const r of t)e.oi.removeItem(e.Ti(r.clientId))}})()}hi(){this.ei=this.Hs.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ui().then(()=>this.yi()).then(()=>this.hi()))}mi(e){return!!e&&e.ownerId===this.clientId}di(e){return this.Ys?he.resolve(!0):Wb(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)){if(this.mi(t)&&this.networkEnabled)return!0;if(!this.mi(t)){if(!t.allowTabSynchronization)throw new Be(ye.FAILED_PRECONDITION,xx);return!1}}return!(!this.networkEnabled||!this.inForeground)||GE(e).W().next(r=>void 0===this.Ii(r,5e3).find(i=>{if(this.clientId!==i.clientId){const u=!this.inForeground&&i.inForeground,h=this.networkEnabled===i.networkEnabled;if(!this.networkEnabled&&i.networkEnabled||u&&h)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&ze("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,pe.Z)(function*(){e.Ds=!1,e.Ai(),e.ei&&(e.ei.cancel(),e.ei=null),e.Ri(),e.bi(),yield e.ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Dx(t,oo.at);return e._i(r).next(()=>e.gi(r))}),e.ri.close(),e.Pi()})()}Ii(e,t){return e.filter(r=>this.pi(r.updateTimeMs,t)&&!this.Ei(r.clientId))}vi(){return this.runTransaction("getActiveClients","readonly",e=>GE(e).W().next(t=>this.Ii(t,18e5).map(r=>r.clientId)))}get started(){return this.Ds}getMutationQueue(e,t){return jE.oe(e,this.It,t,this.referenceDelegate)}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new h$(e,this.It.re.databaseId)}getDocumentOverlayCache(e){return LE.oe(this.It,e)}getBundleCache(){return this.Ns}runTransaction(e,t,r){ze("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",a=15===(u=this.Xs)?r$:14===u?LF:13===u?FF:12===u?n$:11===u?kF:void gt();var u;let h;return this.ri.runTransaction(e,i,a,g=>(h=new Dx(g,this.Ss?this.Ss.next():oo.at),"readwrite-primary"===t?this.fi(h).next(v=>!!v||this.di(h)).next(v=>{if(!v)throw Fr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Hs.enqueueRetryable(()=>this.si(!1)),new Be(ye.FAILED_PRECONDITION,Sk);return r(h)}).next(v=>this.wi(h).next(()=>v)):this.Vi(h).next(()=>r(h)))).then(g=>(h.raiseOnCommittedEvent(),g))}Vi(e){return Wb(e).get("owner").next(t=>{if(null!==t&&this.pi(t.leaseTimestampMs,5e3)&&!this.Ei(t.ownerId)&&!this.mi(t)&&!(this.Ys||this.allowTabSynchronization&&t.allowTabSynchronization))throw new Be(ye.FAILED_PRECONDITION,xx)})}wi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Wb(e).put("owner",t)}static C(){return Nl.C()}_i(e){const t=Wb(e);return t.get("owner").next(r=>this.mi(r)?(ze("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):he.resolve())}pi(e,t){const r=Date.now();return!(e<r-t||e>r&&(Fr(`Detected an update time that is in the future: ${e} > ${r}`),1))}ci(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ti=()=>{this.Hs.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ui()))},this.document.addEventListener("visibilitychange",this.ti),this.inForeground="visible"===this.document.visibilityState)}Ri(){this.ti&&(this.document.removeEventListener("visibilitychange",this.ti),this.ti=null)}ai(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Zs=()=>{this.Ai(),(0,Xt.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Hs.enterRestrictedMode(!0),this.Hs.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Zs))}bi(){this.Zs&&(this.window.removeEventListener("pagehide",this.Zs),this.Zs=null)}Ei(e){var t;try{const r=null!==(null===(t=this.oi)||void 0===t?void 0:t.getItem(this.Ti(e)));return ze("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Fr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ai(){if(this.oi)try{this.oi.setItem(this.Ti(this.clientId),String(Date.now()))}catch(e){Fr("Failed to set zombie client id.",e)}}Pi(){if(this.oi)try{this.oi.removeItem(this.Ti(this.clientId))}catch{}}Ti(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Wb(n){return Oi(n,"owner")}function GE(n){return Oi(n,"clientMetadata")}function Mx(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class Rx{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=en(),i=en();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Rx(e,t.fromCache,r,i)}}class cL{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(a=>a||this.Oi(e,t,i,r)).next(a=>a||this.Mi(e,t))}ki(e,t){if(Kk(t))return he.resolve(null);let r=ks(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=NE(t,null,"F"),r=ks(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const u=en(...a);return this.Ni.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(g=>{const v=this.Fi(t,h);return this.$i(t,v,u,g.readTime)?this.ki(e,NE(t,null,"F")):this.Bi(e,v,t,g)}))})))}Oi(e,t,r,i){return Kk(t)||i.isEqual(Bt.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(a=>{const u=this.Fi(t,a);return this.$i(t,u,r,i)?this.Mi(e,t):(rx()<=Pa.in.DEBUG&&ze("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),gx(t)),this.Bi(e,u,t,Tk(i,-1)))})}Fi(e,t){let r=new Vn(Jk(e));return t.forEach((i,a)=>{mx(e,a)&&(r=r.add(a))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const a="F"===e.limitType?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Mi(e,t){return rx()<=Pa.in.DEBUG&&ze("QueryEngine","Using full collection scan to execute query:",gx(t)),this.Ni.getDocumentsMatchingQuery(e,t,Oo.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(a=>(t.forEach(u=>{a=a.insert(u.key,u)}),a))}}class N${constructor(e,t,r,i){this.persistence=e,this.Li=t,this.It=i,this.Ui=new Sr(Zt),this.qi=new Nh(a=>Wp(a),Nb),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oL(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ui))}}function uL(n,e,t,r){return new N$(n,e,t,r)}function dL(n,e){return Px.apply(this,arguments)}function Px(){return Px=(0,pe.Z)(function*(n,e){const t=rt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(a=>(i=a,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const u=[],h=[];let g=en();for(const v of i){u.push(v.batchId);for(const C of v.mutations)g=g.add(C.key)}for(const v of a){h.push(v.batchId);for(const C of v.mutations)g=g.add(C.key)}return t.localDocuments.getDocuments(r,g).next(v=>({ji:v,removedBatchIds:u,addedBatchIds:h}))})})}),Px.apply(this,arguments)}function x$(n,e){const t=rt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),a=t.Gi.newChangeBuffer({trackRemovals:!0});return function(u,h,g,v){const C=g.batch,S=C.keys();let R=he.resolve();return S.forEach(L=>{R=R.next(()=>v.getEntry(h,L)).next($=>{const K=g.docVersions.get(L);Ut(null!==K),$.version.compareTo(K)<0&&(C.applyToRemoteDocument($,g),$.isValidDocument()&&($.setReadTime(g.commitVersion),v.addEntry($)))})}),R.next(()=>u.mutationQueue.removeMutationBatch(h,C))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=en();for(let g=0;g<u.mutationResults.length;++g)u.mutationResults[g].transformResults.length>0&&(h=h.add(u.batch.mutations[g].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function hL(n){const e=rt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function O$(n,e){const t=rt(n),r=e.snapshotVersion;let i=t.Ui;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const u=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.Ui;const h=[];e.targetChanges.forEach((C,S)=>{const R=i.get(S);if(!R)return;h.push(t.Cs.removeMatchingKeys(a,C.removedDocuments,S).next(()=>t.Cs.addMatchingKeys(a,C.addedDocuments,S)));let L=R.withSequenceNumber(a.currentSequenceNumber);var $,K,J;e.targetMismatches.has(S)?L=L.withResumeToken(di.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):C.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(C.resumeToken,r)),i=i.insert(S,L),K=L,J=C,(0===($=R).resumeToken.approximateByteSize()||K.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8||J.addedDocuments.size+J.modifiedDocuments.size+J.removedDocuments.size>0)&&h.push(t.Cs.updateTargetData(a,L))});let g=ao(),v=en();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&h.push(t.persistence.referenceDelegate.updateLimboDocument(a,C))}),h.push(fL(a,u,e.documentUpdates).next(C=>{g=C.Wi,v=C.zi})),!r.isEqual(Bt.min())){const C=t.Cs.getLastRemoteSnapshotVersion(a).next(S=>t.Cs.setTargetsMetadata(a,a.currentSequenceNumber,r));h.push(C)}return he.waitFor(h).next(()=>u.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,g,v)).next(()=>g)}).then(a=>(t.Ui=i,a))}function fL(n,e,t){let r=en(),i=en();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let u=ao();return t.forEach((h,g)=>{const v=a.get(h);g.isFoundDocument()!==v.isFoundDocument()&&(i=i.add(h)),g.isNoDocument()&&g.version.isEqual(Bt.min())?(e.removeEntry(h,g.readTime),u=u.insert(h,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||0===g.version.compareTo(v.version)&&v.hasPendingWrites?(e.addEntry(g),u=u.insert(h,g)):ze("LocalStore","Ignoring outdated watch update for ",h,". Current version:",v.version," Watch version:",g.version)}),{Wi:u,zi:i}})}function M$(n,e){const t=rt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function j_(n,e){const t=rt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(a=>a?(i=a,he.resolve(i)):t.Cs.allocateTargetId(r).next(u=>(i=new xh(e,u,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ui.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ui=t.Ui.insert(r.targetId,r),t.qi.set(e,r.targetId)),r})}function $_(n,e,t){return kx.apply(this,arguments)}function kx(){return kx=(0,pe.Z)(function*(n,e,t){const r=rt(n),i=r.Ui.get(e),a=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",a,u=>r.persistence.referenceDelegate.removeTarget(u,i)))}catch(u){if(!Ch(u))throw u;ze("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ui=r.Ui.remove(e),r.qi.delete(i.target)}),kx.apply(this,arguments)}function zE(n,e,t){const r=rt(n);let i=Bt.min(),a=en();return r.persistence.runTransaction("Execute query","readonly",u=>function(h,g,v){const C=rt(h),S=C.qi.get(v);return void 0!==S?he.resolve(C.Ui.get(S)):C.Cs.getTargetData(g,v)}(r,u,ks(e)).next(h=>{if(h)return i=h.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(u,h.targetId).next(g=>{a=g})}).next(()=>r.Li.getDocumentsMatchingQuery(u,e,t?i:Bt.min(),t?a:en())).next(h=>(mL(r,Qk(e),h),{documents:h,Hi:a})))}function pL(n,e){const t=rt(n),r=rt(t.Cs),i=t.Ui.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",a=>r.se(a,e).next(u=>u?u.target:null))}function gL(n,e){const t=rt(n),r=t.Ki.get(e)||Bt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Gi.getAllFromCollectionGroup(i,e,Tk(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(mL(t,e,i),i))}function mL(n,e,t){let r=n.Ki.get(e)||Bt.min();t.forEach((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ki.set(e,r)}function Fx(){return Fx=(0,pe.Z)(function*(n,e,t,r){const i=rt(n);let a=en(),u=ao();for(const v of t){const C=e.Ji(v.metadata.name);v.document&&(a=a.add(C));const S=e.Yi(v);S.setReadTime(e.Xi(v.metadata.readTime)),u=u.insert(C,S)}const h=i.Gi.newChangeBuffer({trackRemovals:!0}),g=yield j_(i,(v=r,ks(O_(yn.fromString(`__bundle__/docs/${v}`)))));var v;return i.persistence.runTransaction("Apply bundle documents","readwrite",v=>fL(v,h,u).next(C=>(h.apply(v),C)).next(C=>i.Cs.removeMatchingKeysForTargetId(v,g.targetId).next(()=>i.Cs.addMatchingKeys(v,a,g.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(v,C.Wi,C.zi)).next(()=>C.Wi)))}),Fx.apply(this,arguments)}function P$(n,e){return Lx.apply(this,arguments)}function Lx(){return Lx=(0,pe.Z)(function*(n,e,t=en()){const r=yield j_(n,ks(Ix(e.bundledQuery))),i=rt(n);return i.persistence.runTransaction("Save named query","readwrite",a=>{const u=xi(e.readTime);if(r.snapshotVersion.compareTo(u)>=0)return i.Ns.saveNamedQuery(a,e);const h=r.withResumeToken(di.EMPTY_BYTE_STRING,u);return i.Ui=i.Ui.insert(h.targetId,h),i.Cs.updateTargetData(a,h).next(()=>i.Cs.removeMatchingKeysForTargetId(a,r.targetId)).next(()=>i.Cs.addMatchingKeys(a,t,r.targetId)).next(()=>i.Ns.saveNamedQuery(a,e))})}),Lx.apply(this,arguments)}function _L(n,e){return`firestore_clients_${n}_${e}`}function yL(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function Ux(n,e){return`firestore_targets_${n}_${e}`}class qE{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static Zi(e,t,r){const i=JSON.parse(r);let a,u="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return u&&i.error&&(u="string"==typeof i.error.message&&"string"==typeof i.error.code,u&&(a=new Be(i.error.code,i.error.message))),u?new qE(e,t,i.state,a):(Fr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Zb{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static Zi(e,t){const r=JSON.parse(t);let i,a="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return a&&r.error&&(a="string"==typeof r.error.message&&"string"==typeof r.error.code,a&&(i=new Be(r.error.code,r.error.message))),a?new Zb(e,r.state,i):(Fr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}tr(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class WE{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Zi(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,a=RE();for(let u=0;i&&u<r.activeTargetIds.length;++u)i=Pk(r.activeTargetIds[u]),a=a.add(r.activeTargetIds[u]);return i?new WE(e,a):(Fr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class Bx{constructor(e,t){this.clientId=e,this.onlineState=t}static Zi(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new Bx(t.clientId,t.onlineState):(Fr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class Vx{constructor(){this.activeTargetIds=RE()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jx{constructor(e,t,r,i,a){this.window=e,this.Hs=t,this.persistenceKey=r,this.sr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ir=this.rr.bind(this),this.ur=new Sr(Zt),this.started=!1,this.cr=[];const u=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.ar=_L(this.persistenceKey,this.sr),this.hr=`firestore_sequence_number_${this.persistenceKey}`,this.ur=this.ur.insert(this.sr,new Vx),this.lr=new RegExp(`^firestore_clients_${u}_([^_]*)$`),this.dr=new RegExp(`^firestore_mutations_${u}_(\\d+)(?:_(.*))?$`),this._r=new RegExp(`^firestore_targets_${u}_(\\d+)$`),this.wr=`firestore_online_state_${this.persistenceKey}`,this.mr=function(h){return`firestore_bundle_loaded_v2_${h}`}(this.persistenceKey),this.window.addEventListener("storage",this.ir)}static C(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,pe.Z)(function*(){const t=yield e.syncEngine.vi();for(const i of t){if(i===e.sr)continue;const a=e.getItem(_L(e.persistenceKey,i));if(a){const u=WE.Zi(i,a);u&&(e.ur=e.ur.insert(u.clientId,u))}}e.gr();const r=e.storage.getItem(e.wr);if(r){const i=e.yr(r);i&&e.pr(i)}for(const i of e.cr)e.rr(i);e.cr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.hr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Ir(this.ur)}isActiveQueryTarget(e){let t=!1;return this.ur.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Tr(e,"pending")}updateMutationState(e,t,r){this.Tr(e,t,r),this.Er(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(Ux(this.persistenceKey,e));if(r){const i=Zb.Zi(e,r);i&&(t=i.state)}}return this.Ar.er(e),this.gr(),t}removeLocalQueryTarget(e){this.Ar.nr(e),this.gr()}isLocalQueryTarget(e){return this.Ar.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Ux(this.persistenceKey,e))}updateQueryState(e,t,r){this.Rr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Er(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Pr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ir),this.removeItem(this.ar),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ze("SharedClientState","READ",e,t),t}setItem(e,t){ze("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){ze("SharedClientState","REMOVE",e),this.storage.removeItem(e)}rr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(ze("SharedClientState","EVENT",r.key,r.newValue),r.key===this.ar)return void Fr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Hs.enqueueRetryable((0,pe.Z)(function*(){if(t.started){if(null!==r.key)if(t.lr.test(r.key)){if(null==r.newValue){const i=t.vr(r.key);return t.Vr(i,null)}{const i=t.Sr(r.key,r.newValue);if(i)return t.Vr(i.clientId,i)}}else if(t.dr.test(r.key)){if(null!==r.newValue){const i=t.Dr(r.key,r.newValue);if(i)return t.Cr(i)}}else if(t._r.test(r.key)){if(null!==r.newValue){const i=t.Nr(r.key,r.newValue);if(i)return t.kr(i)}}else if(r.key===t.wr){if(null!==r.newValue){const i=t.yr(r.newValue);if(i)return t.pr(i)}}else if(r.key===t.hr){const i=function(a){let u=oo.at;if(null!=a)try{const h=JSON.parse(a);Ut("number"==typeof h),u=h}catch(h){Fr("SharedClientState","Failed to read sequence number from WebStorage",h)}return u}(r.newValue);i!==oo.at&&t.sequenceNumberHandler(i)}else if(r.key===t.mr){const i=t.Or(r.newValue);yield Promise.all(i.map(a=>t.syncEngine.Mr(a)))}}else t.cr.push(r)}))}}get Ar(){return this.ur.get(this.sr)}gr(){this.setItem(this.ar,this.Ar.tr())}Tr(e,t,r){const i=new qE(this.currentUser,e,t,r),a=yL(this.persistenceKey,this.currentUser,e);this.setItem(a,i.tr())}Er(e){const t=yL(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){this.storage.setItem(this.wr,JSON.stringify({clientId:this.sr,onlineState:e}))}Rr(e,t,r){const i=Ux(this.persistenceKey,e),a=new Zb(e,t,r);this.setItem(i,a.tr())}Pr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.mr,t)}vr(e){const t=this.lr.exec(e);return t?t[1]:null}Sr(e,t){const r=this.vr(e);return WE.Zi(r,t)}Dr(e,t){const r=this.dr.exec(e),i=Number(r[1]);return qE.Zi(new Ni(void 0!==r[2]?r[2]:null),i,t)}Nr(e,t){const r=this._r.exec(e),i=Number(r[1]);return Zb.Zi(i,t)}yr(e){return Bx.Zi(e)}Or(e){return JSON.parse(e)}Cr(e){var t=this;return(0,pe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Fr(e.batchId,e.state,e.error);ze("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}kr(e){return this.syncEngine.$r(e.targetId,e.state,e.error)}Vr(e,t){const r=t?this.ur.insert(e,t):this.ur.remove(e),i=this.Ir(this.ur),a=this.Ir(r),u=[],h=[];return a.forEach(g=>{i.has(g)||u.push(g)}),i.forEach(g=>{a.has(g)||h.push(g)}),this.syncEngine.Br(u,h).then(()=>{this.ur=r})}pr(e){this.ur.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Ir(e){let t=RE();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class vL{constructor(){this.Lr=new Vx,this.Ur={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.Ur[e]||"not-current"}updateQueryState(e,t,r){this.Ur[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.Ur[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new Vx,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class k${qr(e){}shutdown(){}}class bL{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}qr(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){ze("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){ze("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const F$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class L${constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class U$ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,a){const u=this.ho(e,t);ze("RestConnection","Sending: ",u,r);const h={};return this.lo(h,i,a),this.fo(e,u,h,r).then(g=>(ze("RestConnection","Received: ",g),g),g=>{throw Vp("RestConnection",`${e} failed with error: `,g,"url: ",u,"request:",r),g})}_o(e,t,r,i,a,u){return this.ao(e,t,r,i,a)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+I_,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,a)=>e[a]=i),r&&r.headers.forEach((i,a)=>e[a]=i)}ho(e,t){return`${this.oo}/v1/${t}:${F$[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((a,u)=>{const h=new FV;h.setWithCredentials(!0),h.listenOnce(RV.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case nx.NO_ERROR:const v=h.getResponseJson();ze("Connection","XHR received:",JSON.stringify(v)),a(v);break;case nx.TIMEOUT:ze("Connection",'RPC "'+e+'" timed out'),u(new Be(ye.DEADLINE_EXCEEDED,"Request time out"));break;case nx.HTTP_ERROR:const C=h.getStatus();if(ze("Connection",'RPC "'+e+'" failed with status:',C,"response text:",h.getResponseText()),C>0){const S=h.getResponseJson().error;if(S&&S.status&&S.message){const R=function(L){const $=L.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf($)>=0?$:ye.UNKNOWN}(S.status);u(new Be(R,S.message))}else u(new Be(ye.UNKNOWN,"Server responded with status "+h.getStatus()))}else u(new Be(ye.UNAVAILABLE,"Connection failed."));break;default:gt()}}finally{ze("Connection",'RPC "'+e+'" completed.')}});const g=JSON.stringify(i);h.send(t,"POST",g,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=OV(),u=MV(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(h.xmlHttpFactory=new kV({})),this.lo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const g=i.join("");ze("Connection","Creating WebChannel: "+g,h);const v=a.createWebChannel(g,h);let C=!1,S=!1;const R=new L$({Hr:$=>{S?ze("Connection","Not sending because WebChannel is closed:",$):(C||(ze("Connection","Opening WebChannel transport."),v.open(),C=!0),ze("Connection","WebChannel sending:",$),v.send($))},Jr:()=>v.close()}),L=($,K,J)=>{$.listen(K,Te=>{try{J(Te)}catch(Pe){setTimeout(()=>{throw Pe},0)}})};return L(v,bE.EventType.OPEN,()=>{S||ze("Connection","WebChannel transport opened.")}),L(v,bE.EventType.CLOSE,()=>{S||(S=!0,ze("Connection","WebChannel transport closed"),R.io())}),L(v,bE.EventType.ERROR,$=>{S||(S=!0,Vp("Connection","WebChannel transport errored:",$),R.io(new Be(ye.UNAVAILABLE,"The operation could not be completed")))}),L(v,bE.EventType.MESSAGE,$=>{var K;if(!S){const J=$.data[0];Ut(!!J);const Te=J,Pe=Te.error||(null===(K=Te[0])||void 0===K?void 0:K.error);if(Pe){ze("Connection","WebChannel received error:",Pe);const je=Pe.status;let Oe=function(Ze){const ht=Qr[Ze];if(void 0!==ht)return fF(ht)}(je),qe=Pe.message;void 0===Oe&&(Oe=ye.INTERNAL,qe="Unknown error status: "+je+" with message "+Pe.message),S=!0,R.io(new Be(Oe,qe)),v.close()}else ze("Connection","WebChannel received:",J),R.ro(J)}}),L(u,PV.STAT_EVENT,$=>{$.stat===vk.PROXY?ze("Connection","Detected buffering proxy"):$.stat===vk.NOPROXY&&ze("Connection","Detected no buffering proxy")}),setTimeout(()=>{R.so()},0),R}}function wL(){return typeof window<"u"?window:null}function ZE(){return typeof document<"u"?document:null}function Kb(n){return new Nj(n,!0)}class $x{constructor(e,t,r=1e3,i=1.5,a=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&ze("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class DL{constructor(e,t,r,i,a,u,h,g){this.Hs=e,this.vo=r,this.Vo=i,this.So=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=g,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new $x(e,t)}ko(){return 1===this.state||5===this.state||this.Oo()}Oo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Mo()}stop(){var e=this;return(0,pe.Z)(function*(){e.ko()&&(yield e.close(0))})()}Fo(){this.state=0,this.No.reset()}$o(){this.Oo()&&null===this.Co&&(this.Co=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.Bo()))}Lo(e){this.Uo(),this.stream.send(e)}Bo(){var e=this;return(0,pe.Z)(function*(){if(e.Oo())return e.close(0)})()}Uo(){this.Co&&(this.Co.cancel(),this.Co=null)}qo(){this.xo&&(this.xo.cancel(),this.xo=null)}close(e,t){var r=this;return(0,pe.Z)(function*(){r.Uo(),r.qo(),r.No.cancel(),r.Do++,4!==e?r.No.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(Fr(t.toString()),Fr("Using maximum backoff delay to prevent overloading the backend."),r.No.Ao()):t&&t.code===ye.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Ko(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Ko(){}auth(){this.state=1;const e=this.Go(this.Do),t=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Do===t&&this.Qo(r,i)},r=>{e(()=>{const i=new Be(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.jo(i)})})}Qo(e,t){const r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.xo=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.Oo()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.jo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Mo(){var e=this;this.state=5,this.No.Ro((0,pe.Z)(function*(){e.state=0,e.start()}))}jo(e){return ze("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Go(e){return t=>{this.Hs.enqueueAndForget(()=>this.Do===e?t():(ze("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class B$ extends DL{constructor(e,t,r,i,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,u),this.It=a}Wo(e,t){return this.So.wo("Listen",e,t)}onMessage(e){this.No.reset();const t=function Mj(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(g=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===g?1:"REMOVE"===g?2:"CURRENT"===g?3:"RESET"===g?4:gt(),i=e.targetChange.targetIds||[],a=function(g,v){return g.gt?(Ut(void 0===v||"string"==typeof v),di.fromBase64String(v||"")):(Ut(void 0===v||v instanceof Uint8Array),di.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),u=e.targetChange.cause,h=u&&function(g){const v=void 0===g.code?ye.UNKNOWN:fF(g.code);return new Be(v,g.message||"")}(u);t=new yF(r,i,a,h||null)}else if("documentChange"in e){const r=e.documentChange,i=Tc(n,r.document.name),a=xi(r.document.updateTime),u=new Wi({mapValue:{fields:r.document.fields}}),h=Jn.newFoundDocument(i,a,u);t=new PE(r.targetIds||[],r.removedTargetIds||[],h.key,h)}else if("documentDelete"in e){const r=e.documentDelete,i=Tc(n,r.document),a=r.readTime?xi(r.readTime):Bt.min(),u=Jn.newNoDocument(i,a);t=new PE([],r.removedTargetIds||[],u.key,u)}else if("documentRemove"in e){const r=e.documentRemove,i=Tc(n,r.document);t=new PE([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return gt();{const r=e.filter,a=new wj(r.count||0);t=new _F(r.targetId,a)}}var g;return t}(this.It,e),r=function(i){if(!("targetChange"in i))return Bt.min();const a=i.targetChange;return a.targetIds&&a.targetIds.length?Bt.min():a.readTime?xi(a.readTime):Bt.min()}(e);return this.listener.zo(t,r)}Ho(e){const t={};t.database=Bb(this.It),t.addTarget=function(i,a){let u;const h=a.target;return u=SE(h)?{documents:AF(i,h)}:{query:wx(i,h)},u.targetId=a.targetId,a.resumeToken.approximateByteSize()>0?u.resumeToken=DF(i,a.resumeToken):a.snapshotVersion.compareTo(Bt.min())>0&&(u.readTime=Lb(i,a.snapshotVersion.toTimestamp())),u}(this.It,e);const r=function Pj(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return gt()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Lo(t)}Jo(e){const t={};t.database=Bb(this.It),t.removeTarget=e,this.Lo(t)}}class V$ extends DL{constructor(e,t,r,i,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,u),this.It=a,this.Yo=!1}get Xo(){return this.Yo}start(){this.Yo=!1,this.lastStreamToken=void 0,super.start()}Ko(){this.Yo&&this.Zo([])}Wo(e,t){return this.So.wo("Write",e,t)}onMessage(e){if(Ut(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();const t=function Rj(n,e){return n&&n.length>0?(Ut(void 0!==e),n.map(t=>function(r,i){let a=xi(r.updateTime?r.updateTime:i);return a.isEqual(Bt.min())&&(a=xi(i)),new yj(a,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=xi(e.commitTime);return this.listener.tu(r,t)}return Ut(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}nu(){const e={};e.database=Bb(this.It),this.Lo(e)}Zo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Vb(this.It,r))};this.Lo(t)}}class j$ extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.So=r,this.It=i,this.su=!1}iu(){if(this.su)throw new Be(ye.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,a])=>this.So.ao(e,t,r,i,a)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Be(ye.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,u])=>this.So._o(e,t,r,a,u,i)).catch(a=>{throw"FirebaseError"===a.name?(a.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Be(ye.UNKNOWN,a.toString())})}terminate(){this.su=!0}}class H${constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}cu(){0===this.ru&&(this.au("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ou=null,this.hu("Backend didn't respond within 10 seconds."),this.au("Offline"),Promise.resolve())))}lu(e){"Online"===this.state?this.au("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.au("Offline")))}set(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.au(e)}au(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}hu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.uu?(Fr(t),this.uu=!1):ze("OnlineStateTracker",t)}fu(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}class G${constructor(e,t,r,i,a){var u=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.qr(h=>{r.enqueueAndForget((0,pe.Z)(function*(){var g;$u(u)&&(ze("RemoteStore","Restarting streams for network reachability change."),yield(g=(0,pe.Z)(function*(v){const C=rt(v);C.wu.add(4),yield H_(C),C.yu.set("Unknown"),C.wu.delete(4),yield Yb(C)}),function(v){return g.apply(this,arguments)})(u))}))}),this.yu=new H$(r,i)}}function Yb(n){return Gx.apply(this,arguments)}function Gx(){return Gx=(0,pe.Z)(function*(n){if($u(n))for(const e of n.mu)yield e(!0)}),Gx.apply(this,arguments)}function H_(n){return zx.apply(this,arguments)}function zx(){return zx=(0,pe.Z)(function*(n){for(const e of n.mu)yield e(!1)}),zx.apply(this,arguments)}function KE(n,e){const t=rt(n);t._u.has(e.targetId)||(t._u.set(e.targetId,e),Zx(t)?Wx(t):z_(t).Oo()&&qx(t,e))}function Qb(n,e){const t=rt(n),r=z_(t);t._u.delete(e),r.Oo()&&CL(t,e),0===t._u.size&&(r.Oo()?r.$o():$u(t)&&t.yu.set("Unknown"))}function qx(n,e){n.pu.Mt(e.targetId),z_(n).Ho(e)}function CL(n,e){n.pu.Mt(e),z_(n).Jo(e)}function Wx(n){n.pu=new Ij({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),se:e=>n._u.get(e)||null}),z_(n).start(),n.yu.cu()}function Zx(n){return $u(n)&&!z_(n).ko()&&n._u.size>0}function $u(n){return 0===rt(n).wu.size}function EL(n){n.pu=void 0}function z$(n){return Kx.apply(this,arguments)}function Kx(){return Kx=(0,pe.Z)(function*(n){n._u.forEach((e,t)=>{qx(n,e)})}),Kx.apply(this,arguments)}function q$(n,e){return Yx.apply(this,arguments)}function Yx(){return Yx=(0,pe.Z)(function*(n,e){EL(n),Zx(n)?(n.yu.lu(e),Wx(n)):n.yu.set("Unknown")}),Yx.apply(this,arguments)}function W$(n,e,t){return Qx.apply(this,arguments)}function Qx(){return Qx=(0,pe.Z)(function*(n,e,t){if(n.yu.set("Online"),e instanceof yF&&2===e.state&&e.cause)try{yield(r=(0,pe.Z)(function*(i,a){const u=a.cause;for(const h of a.targetIds)i._u.has(h)&&(yield i.remoteSyncer.rejectListen(h,u),i._u.delete(h),i.pu.removeTarget(h))}),function(i,a){return r.apply(this,arguments)})(n,e)}catch(r){ze("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield YE(n,r)}else if(e instanceof PE?n.pu.Gt(e):e instanceof _F?n.pu.Yt(e):n.pu.Wt(e),!t.isEqual(Bt.min()))try{const r=yield hL(n.localStore);t.compareTo(r)>=0&&(yield function(i,a){const u=i.pu.te(a);return u.targetChanges.forEach((h,g)=>{if(h.resumeToken.approximateByteSize()>0){const v=i._u.get(g);v&&i._u.set(g,v.withResumeToken(h.resumeToken,a))}}),u.targetMismatches.forEach(h=>{const g=i._u.get(h);if(!g)return;i._u.set(h,g.withResumeToken(di.EMPTY_BYTE_STRING,g.snapshotVersion)),CL(i,h);const v=new xh(g.target,h,1,g.sequenceNumber);qx(i,v)}),i.remoteSyncer.applyRemoteEvent(u)}(n,t))}catch(r){ze("RemoteStore","Failed to raise snapshot:",r),yield YE(n,r)}var r}),Qx.apply(this,arguments)}function YE(n,e,t){return Jx.apply(this,arguments)}function Jx(){return Jx=(0,pe.Z)(function*(n,e,t){if(!Ch(e))throw e;n.wu.add(1),yield H_(n),n.yu.set("Offline"),t||(t=()=>hL(n.localStore)),n.asyncQueue.enqueueRetryable((0,pe.Z)(function*(){ze("RemoteStore","Retrying IndexedDB access"),yield t(),n.wu.delete(1),yield Yb(n)}))}),Jx.apply(this,arguments)}function TL(n,e){return e().catch(t=>YE(n,t,e))}function G_(n){return Xx.apply(this,arguments)}function Xx(){return Xx=(0,pe.Z)(function*(n){const e=rt(n),t=Rh(e);let r=e.du.length>0?e.du[e.du.length-1].batchId:-1;for(;Z$(e);)try{const i=yield M$(e.localStore,r);if(null===i){0===e.du.length&&t.$o();break}r=i.batchId,K$(e,i)}catch(i){yield YE(e,i)}IL(e)&&SL(e)}),Xx.apply(this,arguments)}function Z$(n){return $u(n)&&n.du.length<10}function K$(n,e){n.du.push(e);const t=Rh(n);t.Oo()&&t.Xo&&t.Zo(e.mutations)}function IL(n){return $u(n)&&!Rh(n).ko()&&n.du.length>0}function SL(n){Rh(n).start()}function Y$(n){return eO.apply(this,arguments)}function eO(){return eO=(0,pe.Z)(function*(n){Rh(n).nu()}),eO.apply(this,arguments)}function Q$(n){return tO.apply(this,arguments)}function tO(){return tO=(0,pe.Z)(function*(n){const e=Rh(n);for(const t of n.du)e.Zo(t.mutations)}),tO.apply(this,arguments)}function J$(n,e,t){return nO.apply(this,arguments)}function nO(){return nO=(0,pe.Z)(function*(n,e,t){const r=n.du.shift(),i=Ex.from(r,e,t);yield TL(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield G_(n)}),nO.apply(this,arguments)}function X$(n,e){return rO.apply(this,arguments)}function rO(){return rO=(0,pe.Z)(function*(n,e){var t;e&&Rh(n).Xo&&(yield(t=(0,pe.Z)(function*(r,i){if(hF(a=i.code)&&a!==ye.ABORTED){const u=r.du.shift();Rh(r).Fo(),yield TL(r,()=>r.remoteSyncer.rejectFailedWrite(u.batchId,i)),yield G_(r)}var a}),function(r,i){return t.apply(this,arguments)})(n,e)),IL(n)&&SL(n)}),rO.apply(this,arguments)}function AL(n,e){return iO.apply(this,arguments)}function iO(){return iO=(0,pe.Z)(function*(n,e){const t=rt(n);t.asyncQueue.verifyOperationInProgress(),ze("RemoteStore","RemoteStore received new credentials");const r=$u(t);t.wu.add(3),yield H_(t),r&&t.yu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.wu.delete(3),yield Yb(t)}),iO.apply(this,arguments)}function sO(n,e){return oO.apply(this,arguments)}function oO(){return oO=(0,pe.Z)(function*(n,e){const t=rt(n);e?(t.wu.delete(2),yield Yb(t)):e||(t.wu.add(2),yield H_(t),t.yu.set("Unknown"))}),oO.apply(this,arguments)}function z_(n){return n.Iu||(n.Iu=function(e,t,r){const i=rt(e);return i.iu(),new B$(t,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:z$.bind(null,n),Zr:q$.bind(null,n),zo:W$.bind(null,n)}),n.mu.push(function(){var e=(0,pe.Z)(function*(t){t?(n.Iu.Fo(),Zx(n)?Wx(n):n.yu.set("Unknown")):(yield n.Iu.stop(),EL(n))});return function(t){return e.apply(this,arguments)}}())),n.Iu}function Rh(n){return n.Tu||(n.Tu=function(e,t,r){const i=rt(e);return i.iu(),new V$(t,i.So,i.authCredentials,i.appCheckCredentials,i.It,r)}(n.datastore,n.asyncQueue,{Yr:Y$.bind(null,n),Zr:X$.bind(null,n),eu:Q$.bind(null,n),tu:J$.bind(null,n)}),n.mu.push(function(){var e=(0,pe.Z)(function*(t){t?(n.Tu.Fo(),yield G_(n)):(yield n.Tu.stop(),n.du.length>0&&(ze("RemoteStore",`Stopping write stream with ${n.du.length} pending writes`),n.du=[]))});return function(t){return e.apply(this,arguments)}}())),n.Tu}class aO{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}static createAndSchedule(e,t,r,i,a){const u=Date.now()+r,h=new aO(e,t,u,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Be(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function q_(n,e){if(Fr("AsyncQueue",`${e}: ${n}`),Ch(n))return new Be(ye.UNAVAILABLE,`${e}: ${n}`);throw n}class W_{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Xe.comparator(t.key,r.key):(t,r)=>Xe.comparator(t.key,r.key),this.keyedMap=Rb(),this.sortedSet=new Sr(this.comparator)}static emptySet(e){return new W_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof W_)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new W_;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class NL{constructor(){this.Eu=new Sr(Xe.comparator)}track(e){const t=e.doc.key,r=this.Eu.get(t);r?0!==e.type&&3===r.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==r.type?this.Eu=this.Eu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Eu=this.Eu.remove(t):1===e.type&&2===r.type?this.Eu=this.Eu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):gt():this.Eu=this.Eu.insert(t,e)}Au(){const e=[];return this.Eu.inorderTraversal((t,r)=>{e.push(r)}),e}}class Z_{constructor(e,t,r,i,a,u,h,g,v){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=h,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,t,r,i,a){const u=[];return t.forEach(h=>{u.push({type:0,doc:h})}),new Z_(e,t,W_.emptySet(t),u,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xb(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class eH{constructor(){this.Ru=void 0,this.listeners=[]}}class tH{constructor(){this.queries=new Nh(e=>Yk(e),xb),this.onlineState="Unknown",this.bu=new Set}}function lO(n,e){return cO.apply(this,arguments)}function cO(){return cO=(0,pe.Z)(function*(n,e){const t=rt(n),r=e.query;let i=!1,a=t.queries.get(r);if(a||(i=!0,a=new eH),i)try{a.Ru=yield t.onListen(r)}catch(u){const h=q_(u,`Initialization of query '${gx(e.query)}' failed`);return void e.onError(h)}t.queries.set(r,a),a.listeners.push(e),e.Pu(t.onlineState),a.Ru&&e.vu(a.Ru)&&hO(t)}),cO.apply(this,arguments)}function uO(n,e){return dO.apply(this,arguments)}function dO(){return dO=(0,pe.Z)(function*(n,e){const t=rt(n),r=e.query;let i=!1;const a=t.queries.get(r);if(a){const u=a.listeners.indexOf(e);u>=0&&(a.listeners.splice(u,1),i=0===a.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),dO.apply(this,arguments)}function nH(n,e){const t=rt(n);let r=!1;for(const i of e){const u=t.queries.get(i.query);if(u){for(const h of u.listeners)h.vu(i)&&(r=!0);u.Ru=i}}r&&hO(t)}function rH(n,e,t){const r=rt(n),i=r.queries.get(e);if(i)for(const a of i.listeners)a.onError(t);r.queries.delete(e)}function hO(n){n.bu.forEach(e=>{e.next()})}class fO{constructor(e,t,r){this.query=e,this.Vu=t,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}vu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new Z_(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Su?this.Cu(e)&&(this.Vu.next(e),t=!0):this.xu(e,this.onlineState)&&(this.Nu(e),t=!0),this.Du=e,t}onError(e){this.Vu.error(e)}Pu(e){this.onlineState=e;let t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}xu(e,t){return!e.fromCache||(!this.options.ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Cu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Nu(e){e=Z_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Su=!0,this.Vu.next(e)}}class iH{constructor(e,t){this.payload=e,this.byteLength=t}Ou(){return"metadata"in this.payload}}class xL{constructor(e){this.It=e}Ji(e){return Tc(this.It,e)}Yi(e){return e.metadata.exists?SF(this.It,e.document,!1):Jn.newNoDocument(this.Ji(e.metadata.name),this.Xi(e.metadata.readTime))}Xi(e){return xi(e)}}class sH{constructor(e,t,r){this.Mu=e,this.localStore=t,this.It=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=OL(e)}Fu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const r=yn.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}$u(e){const t=new Map,r=new xL(this.It);for(const i of e)if(i.metadata.queries){const a=r.Ji(i.metadata.name);for(const u of i.metadata.queries){const h=(t.get(u)||en()).add(a);t.set(u,h)}}return t}complete(){var e=this;return(0,pe.Z)(function*(){const t=yield function R$(n,e,t,r){return Fx.apply(this,arguments)}(e.localStore,new xL(e.It),e.documents,e.Mu.id),r=e.$u(e.documents);for(const i of e.queries)yield P$(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Bu:e.collectionGroups,Lu:t}})()}}function OL(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class ML{constructor(e){this.key=e}}class RL{constructor(e){this.key=e}}class PL{constructor(e,t){this.query=e,this.Uu=t,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=en(),this.mutatedKeys=en(),this.Gu=Jk(e),this.Qu=new W_(this.Gu)}get ju(){return this.Uu}Wu(e,t){const r=t?t.zu:new NL,i=t?t.Qu:this.Qu;let a=t?t.mutatedKeys:this.mutatedKeys,u=i,h=!1;const g="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,v="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((C,S)=>{const R=i.get(C),L=mx(this.query,S)?S:null,$=!!R&&this.mutatedKeys.has(R.key),K=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let J=!1;R&&L?R.data.isEqual(L.data)?$!==K&&(r.track({type:3,doc:L}),J=!0):this.Hu(R,L)||(r.track({type:2,doc:L}),J=!0,(g&&this.Gu(L,g)>0||v&&this.Gu(L,v)<0)&&(h=!0)):!R&&L?(r.track({type:0,doc:L}),J=!0):R&&!L&&(r.track({type:1,doc:R}),J=!0,(g||v)&&(h=!0)),J&&(L?(u=u.add(L),a=K?a.add(C):a.delete(C)):(u=u.delete(C),a=a.delete(C)))}),null!==this.query.limit)for(;u.size>this.query.limit;){const C="F"===this.query.limitType?u.last():u.first();u=u.delete(C.key),a=a.delete(C.key),r.track({type:1,doc:C})}return{Qu:u,zu:r,$i:h,mutatedKeys:a}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const a=e.zu.Au();a.sort((v,C)=>function(S,R){const L=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt()}};return L(S)-L(R)}(v.type,C.type)||this.Gu(v.doc,C.doc)),this.Ju(r);const u=t?this.Yu():[],h=0===this.Ku.size&&this.current?1:0,g=h!==this.qu;return this.qu=h,0!==a.length||g?{snapshot:new Z_(this.query,e.Qu,i,a,e.mutatedKeys,0===h,g,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:u}:{Xu:u}}Pu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new NL,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.Uu=this.Uu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Uu=this.Uu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=en(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new RL(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new ML(r))}),t}tc(e){this.Uu=e.Hi,this.Ku=en();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return Z_.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}class oH{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class aH{constructor(e){this.key=e,this.nc=!1}}class lH{constructor(e,t,r,i,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.sc={},this.ic=new Nh(h=>Yk(h),xb),this.rc=new Map,this.oc=new Set,this.uc=new Sr(Xe.comparator),this.cc=new Map,this.ac=new Nx,this.hc={},this.lc=new Map,this.fc=ng.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function cH(n,e){return pO.apply(this,arguments)}function pO(){return pO=(0,pe.Z)(function*(n,e){const t=LO(n);let r,i;const a=t.ic.get(e);if(a)r=a.targetId,t.sharedClientState.addLocalQueryTarget(r),i=a.view.ec();else{const u=yield j_(t.localStore,ks(e));t.isPrimaryClient&&KE(t.remoteStore,u);const h=t.sharedClientState.addLocalQueryTarget(u.targetId);r=u.targetId,i=yield gO(t,e,r,"current"===h,u.resumeToken)}return i}),pO.apply(this,arguments)}function gO(n,e,t,r,i){return mO.apply(this,arguments)}function mO(){return mO=(0,pe.Z)(function*(n,e,t,r,i){n._c=(S,R,L)=>{return($=(0,pe.Z)(function*(K,J,Te,Pe){let je=J.view.Wu(Te);je.$i&&(je=yield zE(K.localStore,J.query,!1).then(({documents:Ze})=>J.view.Wu(Ze,je)));const Oe=Pe&&Pe.targetChanges.get(J.targetId),qe=J.view.applyChanges(je,K.isPrimaryClient,Oe);return IO(K,J.targetId,qe.Xu),qe.snapshot}),function(K,J,Te,Pe){return $.apply(this,arguments)})(n,S,R,L);var $};const a=yield zE(n.localStore,e,!0),u=new PL(e,a.Hi),h=u.Wu(a.documents),g=Fb.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),v=u.applyChanges(h,n.isPrimaryClient,g);IO(n,t,v.Xu);const C=new oH(e,t,u);return n.ic.set(e,C),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),v.snapshot}),mO.apply(this,arguments)}function uH(n,e){return _O.apply(this,arguments)}function _O(){return _O=(0,pe.Z)(function*(n,e){const t=rt(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(a=>!xb(a,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield $_(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Qb(t.remoteStore,r.targetId),K_(t,r.targetId)}).catch(Dh))):(K_(t,r.targetId),yield $_(t.localStore,r.targetId,!0))}),_O.apply(this,arguments)}function yO(){return yO=(0,pe.Z)(function*(n,e,t){const r=UO(n);try{const i=yield function(a,u){const h=rt(a),g=hr.now(),v=u.reduce((R,L)=>R.add(L.key),en());let C,S;return h.persistence.runTransaction("Locally write mutations","readwrite",R=>{let L=ao(),$=en();return h.Gi.getEntries(R,v).next(K=>{L=K,L.forEach((J,Te)=>{Te.isValidDocument()||($=$.add(J))})}).next(()=>h.localDocuments.getOverlayedDocuments(R,L)).next(K=>{C=K;const J=[];for(const Te of u){const Pe=bj(Te,C.get(Te.key).overlayedDocument);null!=Pe&&J.push(new ju(Te.key,Pe,jk(Pe.value.mapValue),fr.exists(!0)))}return h.mutationQueue.addMutationBatch(R,g,J,u)}).next(K=>{S=K;const J=K.applyToLocalDocumentSet(C,$);return h.documentOverlayCache.saveOverlays(R,K.batchId,J)})}).then(()=>({batchId:S.batchId,changes:gF(C)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,u,h){let g=a.hc[a.currentUser.toKey()];g||(g=new Sr(Zt)),g=g.insert(u,h),a.hc[a.currentUser.toKey()]=g}(r,i.batchId,t),yield Hu(r,i.changes),yield G_(r.remoteStore)}catch(i){const a=q_(i,"Failed to persist write");t.reject(a)}}),yO.apply(this,arguments)}function kL(n,e){return vO.apply(this,arguments)}function vO(){return vO=(0,pe.Z)(function*(n,e){const t=rt(n);try{const r=yield O$(t.localStore,e);e.targetChanges.forEach((i,a)=>{const u=t.cc.get(a);u&&(Ut(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?u.nc=!0:i.modifiedDocuments.size>0?Ut(u.nc):i.removedDocuments.size>0&&(Ut(u.nc),u.nc=!1))}),yield Hu(t,r,e)}catch(r){yield Dh(r)}}),vO.apply(this,arguments)}function FL(n,e,t){const r=rt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((a,u)=>{const h=u.view.Pu(e);h.snapshot&&i.push(h.snapshot)}),function(a,u){const h=rt(a);h.onlineState=u;let g=!1;h.queries.forEach((v,C)=>{for(const S of C.listeners)S.Pu(u)&&(g=!0)}),g&&hO(h)}(r.eventManager,e),i.length&&r.sc.zo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function hH(n,e,t){return bO.apply(this,arguments)}function bO(){return bO=(0,pe.Z)(function*(n,e,t){const r=rt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),a=i&&i.key;if(a){let u=new Sr(Xe.comparator);u=u.insert(a,Jn.newNoDocument(a,Bt.min()));const h=en().add(a),g=new kb(Bt.min(),new Map,new Vn(Zt),u,h);yield kL(r,g),r.uc=r.uc.remove(a),r.cc.delete(e),SO(r)}else yield $_(r.localStore,e,!1).then(()=>K_(r,e,t)).catch(Dh)}),bO.apply(this,arguments)}function fH(n,e){return wO.apply(this,arguments)}function wO(){return wO=(0,pe.Z)(function*(n,e){const t=rt(n),r=e.batch.batchId;try{const i=yield x$(t.localStore,e);TO(t,r,null),EO(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Hu(t,i)}catch(i){yield Dh(i)}}),wO.apply(this,arguments)}function pH(n,e,t){return DO.apply(this,arguments)}function DO(){return DO=(0,pe.Z)(function*(n,e,t){const r=rt(n);try{const i=yield function(a,u){const h=rt(a);return h.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let v;return h.mutationQueue.lookupMutationBatch(g,u).next(C=>(Ut(null!==C),v=C.keys(),h.mutationQueue.removeMutationBatch(g,C))).next(()=>h.mutationQueue.performConsistencyCheck(g)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(g,v,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,v)).next(()=>h.localDocuments.getDocuments(g,v))})}(r.localStore,e);TO(r,e,t),EO(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Hu(r,i)}catch(i){yield Dh(i)}}),DO.apply(this,arguments)}function CO(){return CO=(0,pe.Z)(function*(n,e){const t=rt(n);$u(t.remoteStore)||ze("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(a){const u=rt(a);return u.persistence.runTransaction("Get highest unacknowledged batch id","readonly",h=>u.mutationQueue.getHighestUnacknowledgedBatchId(h))}(t.localStore);if(-1===r)return void e.resolve();const i=t.lc.get(r)||[];i.push(e),t.lc.set(r,i)}catch(r){const i=q_(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),CO.apply(this,arguments)}function EO(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function TO(n,e,t){const r=rt(n);let i=r.hc[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(t?a.reject(t):a.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function K_(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||LL(n,r)})}function LL(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Qb(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),SO(n))}function IO(n,e,t){for(const r of t)r instanceof ML?(n.ac.addReference(r.key,e),mH(n,r)):r instanceof RL?(ze("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||LL(n,r.key)):gt()}function mH(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(ze("SyncEngine","New document in limbo: "+t),n.oc.add(r),SO(n))}function SO(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Xe(yn.fromString(e)),r=n.fc.next();n.cc.set(r,new aH(t)),n.uc=n.uc.insert(t,r),KE(n.remoteStore,new xh(ks(O_(t.path)),r,2,oo.at))}}function Hu(n,e,t){return AO.apply(this,arguments)}function AO(){return AO=(0,pe.Z)(function*(n,e,t){const r=rt(n),i=[],a=[],u=[];var h;r.ic.isEmpty()||(r.ic.forEach((h,g)=>{u.push(r._c(g,e,t).then(v=>{if((v||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(g.targetId,v?.fromCache?"not-current":"current"),v){i.push(v);const C=Rx.Ci(g.targetId,v);a.push(C)}}))}),yield Promise.all(u),r.sc.zo(i),yield(h=(0,pe.Z)(function*(g,v){const C=rt(g);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",S=>he.forEach(v,R=>he.forEach(R.Si,L=>C.persistence.referenceDelegate.addReference(S,R.targetId,L)).next(()=>he.forEach(R.Di,L=>C.persistence.referenceDelegate.removeReference(S,R.targetId,L)))))}catch(S){if(!Ch(S))throw S;ze("LocalStore","Failed to update sequence numbers: "+S)}for(const S of v){const R=S.targetId;if(!S.fromCache){const L=C.Ui.get(R),K=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);C.Ui=C.Ui.insert(R,K)}}}),function(g,v){return h.apply(this,arguments)})(r.localStore,a))}),AO.apply(this,arguments)}function _H(n,e){return NO.apply(this,arguments)}function NO(){return NO=(0,pe.Z)(function*(n,e){const t=rt(n);if(!t.currentUser.isEqual(e)){ze("SyncEngine","User change. New user:",e.toKey());const r=yield dL(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(u=>{u.forEach(h=>{h.reject(new Be(ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Hu(t,r.ji)}var i}),NO.apply(this,arguments)}function yH(n,e){const t=rt(n),r=t.cc.get(e);if(r&&r.nc)return en().add(r.key);{let i=en();const a=t.rc.get(e);if(!a)return i;for(const u of a){const h=t.ic.get(u);i=i.unionWith(h.view.ju)}return i}}function vH(n,e){return xO.apply(this,arguments)}function xO(){return xO=(0,pe.Z)(function*(n,e){const t=rt(n),r=yield zE(t.localStore,e.query,!0),i=e.view.tc(r);return t.isPrimaryClient&&IO(t,e.targetId,i.Xu),i}),xO.apply(this,arguments)}function bH(n,e){return OO.apply(this,arguments)}function OO(){return OO=(0,pe.Z)(function*(n,e){const t=rt(n);return gL(t.localStore,e).then(r=>Hu(t,r))}),OO.apply(this,arguments)}function wH(n,e,t,r){return MO.apply(this,arguments)}function MO(){return MO=(0,pe.Z)(function*(n,e,t,r){const i=rt(n),a=yield function(u,h){const g=rt(u),v=rt(g.mutationQueue);return g.persistence.runTransaction("Lookup mutation documents","readonly",C=>v.Tn(C,h).next(S=>S?g.localDocuments.getDocuments(C,S):he.resolve(null)))}(i.localStore,e);var h;null!==a?("pending"===t?yield G_(i.remoteStore):"acknowledged"===t||"rejected"===t?(TO(i,e,r||null),EO(i,e),h=e,rt(rt(i.localStore).mutationQueue).An(h)):gt(),yield Hu(i,a)):ze("SyncEngine","Cannot apply mutation batch with id: "+e)}),MO.apply(this,arguments)}function RO(){return RO=(0,pe.Z)(function*(n,e){const t=rt(n);if(LO(t),UO(t),!0===e&&!0!==t.dc){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield UL(t,r.toArray());t.dc=!0,yield sO(t.remoteStore,!0);for(const a of i)KE(t.remoteStore,a)}else if(!1===e&&!1!==t.dc){const r=[];let i=Promise.resolve();t.rc.forEach((a,u)=>{t.sharedClientState.isLocalQueryTarget(u)?r.push(u):i=i.then(()=>(K_(t,u),$_(t.localStore,u,!0))),Qb(t.remoteStore,u)}),yield i,yield UL(t,r),function(a){const u=rt(a);u.cc.forEach((h,g)=>{Qb(u.remoteStore,g)}),u.ac.fs(),u.cc=new Map,u.uc=new Sr(Xe.comparator)}(t),t.dc=!1,yield sO(t.remoteStore,!1)}}),RO.apply(this,arguments)}function UL(n,e,t){return PO.apply(this,arguments)}function PO(){return PO=(0,pe.Z)(function*(n,e,t){const r=rt(n),i=[],a=[];for(const u of e){let h;const g=r.rc.get(u);if(g&&0!==g.length){h=yield j_(r.localStore,ks(g[0]));for(const v of g){const C=r.ic.get(v),S=yield vH(r,C);S.snapshot&&a.push(S.snapshot)}}else{const v=yield pL(r.localStore,u);h=yield j_(r.localStore,v),yield gO(r,BL(v),u,!1,h.resumeToken)}i.push(h)}return r.sc.zo(a),i}),PO.apply(this,arguments)}function BL(n){return Zk(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function CH(n){const e=rt(n);return rt(rt(e.localStore).persistence).vi()}function EH(n,e,t,r){return kO.apply(this,arguments)}function kO(){return kO=(0,pe.Z)(function*(n,e,t,r){const i=rt(n);if(i.dc)return void ze("SyncEngine","Ignoring unexpected query state notification.");const a=i.rc.get(e);if(a&&a.length>0)switch(t){case"current":case"not-current":{const u=yield gL(i.localStore,Qk(a[0])),h=kb.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,di.EMPTY_BYTE_STRING);yield Hu(i,u,h);break}case"rejected":yield $_(i.localStore,e,!0),K_(i,e,r);break;default:gt()}}),kO.apply(this,arguments)}function TH(n,e,t){return FO.apply(this,arguments)}function FO(){return FO=(0,pe.Z)(function*(n,e,t){const r=LO(n);if(r.dc){for(const i of e){if(r.rc.has(i)){ze("SyncEngine","Adding an already active target "+i);continue}const a=yield pL(r.localStore,i),u=yield j_(r.localStore,a);yield gO(r,BL(a),u.targetId,!1,u.resumeToken),KE(r.remoteStore,u)}for(const i of t)r.rc.has(i)&&(yield $_(r.localStore,i,!1).then(()=>{Qb(r.remoteStore,i),K_(r,i)}).catch(Dh))}}),FO.apply(this,arguments)}function LO(n){const e=rt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=kL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hH.bind(null,e),e.sc.zo=nH.bind(null,e.eventManager),e.sc.wc=rH.bind(null,e.eventManager),e}function UO(n){const e=rt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pH.bind(null,e),e}class VL{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,pe.Z)(function*(){t.It=Kb(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return uL(this.persistence,new cL,e.initialUser,this.It)}yc(e){return new aL(HE.Bs,this.It)}gc(e){return new vL}terminate(){var e=this;return(0,pe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class jL extends VL{constructor(e,t,r){super(),this.Ac=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,pe.Z)(function*(){yield t().call(r,e),yield r.Ac.initialize(r,e),yield UO(r.Ac.syncEngine),yield G_(r.Ac.remoteStore),yield r.persistence.li(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}Ic(e){return uL(this.persistence,new cL,e.initialUser,this.It)}Tc(e,t){return new g$(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}Ec(e,t){const r=new JV(t,this.persistence);return new QV(e.asyncQueue,r)}yc(e){const t=Mx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?lo.withCacheSize(this.cacheSizeBytes):lo.DEFAULT;return new Ox(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,wL(),ZE(),this.It,this.sharedClientState,!!this.forceOwnership)}gc(e){return new vL}}class SH extends jL{constructor(e,t){super(e,t,!1),this.Ac=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,pe.Z)(function*(){yield t().call(r,e);const i=r.Ac.syncEngine;r.sharedClientState instanceof jx&&(r.sharedClientState.syncEngine={Fr:wH.bind(null,i),$r:EH.bind(null,i),Br:TH.bind(null,i),vi:CH.bind(null,i),Mr:bH.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.li(function(){var a=(0,pe.Z)(function*(u){yield function DH(n,e){return RO.apply(this,arguments)}(r.Ac.syncEngine,u),r.gcScheduler&&(u&&!r.gcScheduler.started?r.gcScheduler.start():u||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(u&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():u||r.indexBackfillerScheduler.stop())});return function(u){return a.apply(this,arguments)}}())})()}gc(e){const t=wL();if(!jx.C(t))throw new Be(ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Mx(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new jx(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class BO{initialize(e,t){var r=this;return(0,pe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>FL(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=_H.bind(null,r.syncEngine),yield sO(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new tH}createDatastore(e){const t=Kb(e.databaseInfo.databaseId),r=new U$(e.databaseInfo);return new j$(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,a=h=>FL(this.syncEngine,h,0),u=bL.C()?new bL:new k$,new G$(t,r,i,a,u);var t,r,i,a,u}createSyncEngine(e,t){return function(r,i,a,u,h,g,v){const C=new lH(r,i,a,u,h,g);return v&&(C.dc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,pe.Z)(function*(t){const r=rt(t);ze("RemoteStore","RemoteStore shutting down."),r.wu.add(5),yield H_(r),r.gu.shutdown(),r.yu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function VO(n,e,t){if(!t)throw new Be(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function $L(n,e,t,r){if(!0===e&&!0===r)throw new Be(ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function HL(n){if(!Xe.isDocumentKey(n))throw new Be(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function GL(n){if(Xe.isDocumentKey(n))throw new Be(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function QE(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":gt()}function dn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Be(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=QE(n);throw new Be(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function zL(n,e){if(e<=0)throw new Be(ye.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}const qL=new Map;class WL{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Be(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Be(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,$L("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Jb{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WL({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Be(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Be(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WL(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new BV;switch(t.type){case"gapi":return new HV(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Be(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=qL.get(e);t&&(ze("ComponentProvider","Removing Datastore"),qL.delete(e),t.terminate())}(this),Promise.resolve()}}function ZL(n,e,t,r={}){var i;const a=(n=dn(n,Jb))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==e&&Vp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},a),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let u,h;if("string"==typeof r.mockUserToken)u=r.mockUserToken,h=Ni.MOCK_USER;else{u=(0,Xt.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const g=r.mockUserToken.sub||r.mockUserToken.user_id;if(!g)throw new Be(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ni(g)}n._authCredentials=new VV(new wk(u,h))}}class or{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Sc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new or(this.firestore,e,this._key)}}class us{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new us(this.firestore,e,this._query)}}class Sc extends us{constructor(e,t,r){super(e,t,O_(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new or(this.firestore,null,new Xe(e))}withConverter(e){return new Sc(this.firestore,e,this._path)}}function KL(n,e,...t){if(n=(0,Xt.m9)(n),VO("collection","path",e),n instanceof Jb){const r=yn.fromString(e,...t);return GL(r),new Sc(n,null,r)}{if(!(n instanceof or||n instanceof Sc))throw new Be(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yn.fromString(e,...t));return GL(r),new Sc(n.firestore,null,r)}}function JE(n,e,...t){if(n=(0,Xt.m9)(n),1===arguments.length&&(e=Ck.R()),VO("doc","path",e),n instanceof Jb){const r=yn.fromString(e,...t);return HL(r),new or(n,null,new Xe(r))}{if(!(n instanceof or||n instanceof Sc))throw new Be(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(yn.fromString(e,...t));return HL(r),new or(n.firestore,n instanceof Sc?n.converter:null,new Xe(r))}}function YL(n,e){return n=(0,Xt.m9)(n),e=(0,Xt.m9)(e),(n instanceof or||n instanceof Sc)&&(e instanceof or||e instanceof Sc)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function jO(n,e){return n=(0,Xt.m9)(n),e=(0,Xt.m9)(e),n instanceof us&&e instanceof us&&n.firestore===e.firestore&&xb(n._query,e._query)&&n.converter===e.converter}function QL(n,e=10240){let t=0;return{read:()=>(0,pe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,pe.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class XE{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Fr("Uncaught Error in snapshot listener:",e)}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class NH{constructor(e,t){this.Pc=e,this.It=t,this.metadata=new ui,this.buffer=new Uint8Array,this.vc=new TextDecoder("utf-8"),this.Vc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.payload)}`))},r=>this.metadata.reject(r))}close(){return this.Pc.cancel()}getMetadata(){var e=this;return(0,pe.Z)(function*(){return e.metadata.promise})()}mc(){var e=this;return(0,pe.Z)(function*(){return yield e.getMetadata(),e.Vc()})()}Vc(){var e=this;return(0,pe.Z)(function*(){const t=yield e.Sc();if(null===t)return null;const r=e.vc.decode(t),i=Number(r);isNaN(i)&&e.Dc(`length string (${r}) is not valid number`);const a=yield e.Cc(i);return new iH(JSON.parse(a),t.length+i)})()}xc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Sc(){var e=this;return(0,pe.Z)(function*(){for(;e.xc()<0&&!(yield e.Nc()););if(0===e.buffer.length)return null;const t=e.xc();t<0&&e.Dc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Cc(e){var t=this;return(0,pe.Z)(function*(){for(;t.buffer.length<e;)(yield t.Nc())&&t.Dc("Reached the end of bundle when more is expected.");const r=t.vc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}Dc(e){throw this.Pc.cancel(),new Error(`Invalid bundle format: ${e}`)}Nc(){var e=this;return(0,pe.Z)(function*(){const t=yield e.Pc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class MH{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,pe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Be(ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,pe.Z)(function*(a,u){const h=rt(a),g=Bb(h.It)+"/documents",v={documents:u.map(L=>Ub(h.It,L))},C=yield h._o("BatchGetDocuments",g,v,u.length),S=new Map;C.forEach(L=>{const $=function Oj(n,e){return"found"in e?function(t,r){Ut(!!r.found);const i=Tc(t,r.found.name),a=xi(r.found.updateTime),u=new Wi({mapValue:{fields:r.found.fields}});return Jn.newFoundDocument(i,a,u)}(n,e):"missing"in e?function(t,r){Ut(!!r.missing),Ut(!!r.readTime);const i=Tc(t,r.missing),a=xi(r.readTime);return Jn.newNoDocument(i,a)}(n,e):gt()}(h.It,L);S.set($.key.toString(),$)});const R=[];return u.forEach(L=>{const $=S.get(L.toString());Ut(!!$),R.push($)}),R}),function(a,u){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new F_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,pe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const a=Xe.fromPath(i);e.mutations.push(new _x(a,e.precondition(a)))}),yield(r=(0,pe.Z)(function*(i,a){const u=rt(i),h=Bb(u.It)+"/documents",g={writes:a.map(v=>Vb(u.It,v))};yield u.ao("Commit",h,g)}),function(i,a){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw gt();t=Bt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new Be(ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Bt.min())?fr.exists(!1):fr.updateTime(t):fr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Bt.min()))throw new Be(ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fr.updateTime(t)}return fr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class RH{constructor(e,t,r,i,a){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=a,this.kc=r.maxAttempts,this.No=new $x(this.asyncQueue,"transaction_retry")}run(){this.kc-=1,this.Oc()}Oc(){var e=this;this.No.Ro((0,pe.Z)(function*(){const t=new MH(e.datastore),r=e.Mc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(a=>{e.Fc(a)}))}).catch(i=>{e.Fc(i)})}))}Mc(e){try{const t=this.updateFunction(e);return!Eb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Fc(e){this.kc>0&&this.$c(e)?(this.kc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}$c(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!hF(t)}return!1}}class PH{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ni.UNAUTHENTICATED,this.clientId=Ck.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var u=(0,pe.Z)(function*(h){ze("FirestoreClient","Received user=",h.uid),yield a.authCredentialListener(h),a.user=h});return function(h){return u.apply(this,arguments)}}()),this.appCheckCredentials.start(r,u=>(ze("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}getConfiguration(){var e=this;return(0,pe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Be(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=q_(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function JL(n,e){return $O.apply(this,arguments)}function $O(){return $O=(0,pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ze("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,pe.Z)(function*(a){r.isEqual(a)||(yield dL(e.localStore,a),r=a)});return function(a){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),$O.apply(this,arguments)}function XL(n,e){return HO.apply(this,arguments)}function HO(){return HO=(0,pe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield GO(n);ze("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>AL(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,a)=>AL(e.remoteStore,a)),n.onlineComponents=e}),HO.apply(this,arguments)}function GO(n){return zO.apply(this,arguments)}function zO(){return zO=(0,pe.Z)(function*(n){return n.offlineComponents||(ze("FirestoreClient","Using default OfflineComponentProvider"),yield JL(n,new VL)),n.offlineComponents}),zO.apply(this,arguments)}function eT(n){return qO.apply(this,arguments)}function qO(){return qO=(0,pe.Z)(function*(n){return n.onlineComponents||(ze("FirestoreClient","Using default OnlineComponentProvider"),yield XL(n,new BO)),n.onlineComponents}),qO.apply(this,arguments)}function e2(n){return GO(n).then(e=>e.persistence)}function tT(n){return GO(n).then(e=>e.localStore)}function WO(n){return eT(n).then(e=>e.remoteStore)}function ZO(n){return eT(n).then(e=>e.syncEngine)}function Y_(n){return KO.apply(this,arguments)}function KO(){return KO=(0,pe.Z)(function*(n){const e=yield eT(n),t=e.eventManager;return t.onListen=cH.bind(null,e.syncEngine),t.onUnlisten=uH.bind(null,e.syncEngine),t}),KO.apply(this,arguments)}function n2(n,e,t={}){const r=new ui;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(i,a,u,h,g){const v=new XE({next:S=>{a.enqueueAndForget(()=>uO(i,C));const R=S.docs.has(u);!R&&S.fromCache?g.reject(new Be(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):R&&S.fromCache&&h&&"server"===h.source?g.reject(new Be(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(S)},error:S=>g.reject(S)}),C=new fO(O_(u.path),v,{includeMetadataChanges:!0,ku:!0});return lO(i,C)}(yield Y_(n),n.asyncQueue,e,t,r)})),r.promise}function r2(n,e,t={}){const r=new ui;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function(i,a,u,h,g){const v=new XE({next:S=>{a.enqueueAndForget(()=>uO(i,C)),S.fromCache&&"server"===h.source?g.reject(new Be(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(S)},error:S=>g.reject(S)}),C=new fO(u,v,{includeMetadataChanges:!0,ku:!0});return lO(i,C)}(yield Y_(n),n.asyncQueue,e,t,r)})),r.promise}class $H{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.Uc=!1,this.qc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.No=new $x(this,"async_queue_retry"),this.Wc=()=>{const t=ZE();t&&ze("AsyncQueue","Visibility state changed to "+t.visibilityState),this.No.Po()};const e=ZE();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.Uc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.Uc){this.Uc=!0,this.Qc=e||!1;const t=ZE();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.Uc)return new Promise(()=>{});const t=new ui;return this.Hc(()=>this.Uc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,pe.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.No.reset()}catch(t){if(!Ch(t))throw t;ze("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.No.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Fr("INTERNAL UNHANDLED ERROR: ",function(a){let u=a.message||"";return a.stack&&(u=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),u}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=aO.createAndSchedule(this,e,t,r,a=>this.Yc(a));return this.qc.push(i),i}zc(){this.Kc&&gt()}verifyOperationInProgress(){}Xc(){var e=this;return(0,pe.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.qc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.qc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.qc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.qc.indexOf(e);this.qc.splice(t,1)}}function YO(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class HH{constructor(){this._progressObserver={},this._taskCompletionResolver=new ui,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class ar extends Jb{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new $H,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||s2(this),this._firestoreClient.terminate()}}function zH(n,e){const t="object"==typeof n?n:(0,ji.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,ji._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=(0,Xt.P0)("firestore");a&&ZL(i,...a)}return i}function Lr(n){return n._firestoreClient||s2(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function s2(n){var e;const t=n._freezeSettings(),r=(a=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new tj(n._databaseId,a,n._persistenceKey,(h=t).host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,h.useFetchStreams));var a,h;n._firestoreClient=new PH(n._authCredentials,n._appCheckCredentials,n._queue,r)}function o2(n,e,t){const r=new ui;return n.asyncQueue.enqueue((0,pe.Z)(function*(){try{yield JL(n,t),yield XL(n,e),r.resolve()}catch(i){const a=i;if(!("FirebaseError"===(u=a).name?u.code===ye.FAILED_PRECONDITION||u.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||22===u.code||20===u.code||11===u.code))throw a;Vp("Error enabling offline persistence. Falling back to persistence disabled: "+a),r.reject(a)}var u})).then(()=>r.promise)}function a2(n){if(n._initialized||n._terminated)throw new Be(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ac{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ac(di.fromBase64String(e))}catch(t){throw new Be(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Ac(di.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Gu{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Be(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ir(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ig{constructor(e){this._methodName=e}}class nT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Be(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Be(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Zt(this._lat,e._lat)||Zt(this._long,e._long)}}const e3=/^__.*__$/;class t3{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new ju(e,this.data,this.fieldMask,t,this.fieldTransforms):new k_(e,this.data,t,this.fieldTransforms)}}class l2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ju(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function c2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt()}}class rT{constructor(e,t,r,i,a,u){this.settings=e,this.databaseId=t,this.It=r,this.ignoreUndefinedProperties=i,void 0===a&&this.na(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new rT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.It,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return oT(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(c2(this.sa)&&e3.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class n3{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.It=r||Kb(e)}da(e,t,r,i=!1){return new rT({sa:e,methodName:t,fa:r,path:Ir.emptyPath(),oa:!1,la:i},this.databaseId,this.It,this.ignoreUndefinedProperties)}}function sg(n){const e=n._freezeSettings(),t=Kb(n._databaseId);return new n3(n._databaseId,!!e.ignoreUndefinedProperties,t)}function iT(n,e,t,r,i,a={}){const u=n.da(a.merge||a.mergeFields?2:0,e,t,i);eM("Data must be an object, but it was:",u,r);const h=h2(r,u);let g,v;if(a.merge)g=new Mo(u.fieldMask),v=u.fieldTransforms;else if(a.mergeFields){const C=[];for(const S of a.mergeFields){const R=tM(e,S,t);if(!u.contains(R))throw new Be(ye.INVALID_ARGUMENT,`Field '${R}' is specified in your field mask but missing from your input data.`);p2(C,R)||C.push(R)}g=new Mo(C),v=u.fieldTransforms.filter(S=>g.covers(S.field))}else g=null,v=u.fieldTransforms;return new t3(new Wi(h),g,v)}class Xb extends ig{_toFieldTransform(e){if(2!==e.sa)throw e.ha(1===e.sa?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xb}}function u2(n,e,t){return new rT({sa:3,fa:e.settings.fa,methodName:n._methodName,oa:t},e.databaseId,e.It,e.ignoreUndefinedProperties)}class QO extends ig{_toFieldTransform(e){return new Ob(e.path,new R_)}isEqual(e){return e instanceof QO}}class r3 extends ig{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=u2(this,e,!0),r=this._a.map(a=>og(a,t)),i=new Zp(r);return new Ob(e.path,i)}isEqual(e){return this===e}}class s3 extends ig{constructor(e,t){super(e),this._a=t}_toFieldTransform(e){const t=u2(this,e,!0),r=this._a.map(a=>og(a,t)),i=new Kp(r);return new Ob(e.path,i)}isEqual(e){return this===e}}class o3 extends ig{constructor(e,t){super(e),this.wa=t}_toFieldTransform(e){const t=new P_(e.It,tF(e.It,this.wa));return new Ob(e.path,t)}isEqual(e){return this===e}}function JO(n,e,t,r){const i=n.da(1,e,t);eM("Data must be an object, but it was:",i,r);const a=[],u=Wi.empty();Hp(r,(g,v)=>{const C=sT(e,g,t);v=(0,Xt.m9)(v);const S=i.ca(C);if(v instanceof Xb)a.push(C);else{const R=og(v,S);null!=R&&(a.push(C),u.set(C,R))}});const h=new Mo(a);return new l2(u,h,i.fieldTransforms)}function XO(n,e,t,r,i,a){const u=n.da(1,e,t),h=[tM(e,r,t)],g=[i];if(a.length%2!=0)throw new Be(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let R=0;R<a.length;R+=2)h.push(tM(e,a[R])),g.push(a[R+1]);const v=[],C=Wi.empty();for(let R=h.length-1;R>=0;--R)if(!p2(v,h[R])){const L=h[R];let $=g[R];$=(0,Xt.m9)($);const K=u.ca(L);if($ instanceof Xb)v.push(L);else{const J=og($,K);null!=J&&(v.push(L),C.set(L,J))}}const S=new Mo(v);return new l2(C,S,u.fieldTransforms)}function d2(n,e,t,r=!1){return og(t,n.da(r?4:3,e))}function og(n,e){if(f2(n=(0,Xt.m9)(n)))return eM("Unsupported field value:",e,n),h2(n,e);if(n instanceof ig)return function(t,r){if(!c2(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let a=0;for(const u of t){let h=og(u,r.aa(a));null==h&&(h={nullValue:"NULL_VALUE"}),i.push(h),a++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Xt.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return tF(r.It,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=hr.fromDate(t);return{timestampValue:Lb(r.It,i)}}if(t instanceof hr){const i=new hr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Lb(r.It,i)}}if(t instanceof nT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Ac)return{bytesValue:DF(r.It,t._byteString)};if(t instanceof or){const i=r.databaseId,a=t.firestore._databaseId;if(!a.isEqual(i))throw r.ha(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:yx(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${QE(t)}`)}(n,e)}function h2(n,e){const t={};return Ok(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hp(n,(r,i)=>{const a=og(i,e.ra(r));null!=a&&(t[r]=a)}),{mapValue:{fields:t}}}function f2(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof hr||n instanceof nT||n instanceof Ac||n instanceof or||n instanceof ig)}function eM(n,e,t){if(!f2(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=QE(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function tM(n,e,t){if((e=(0,Xt.m9)(e))instanceof Gu)return e._internalPath;if("string"==typeof e)return sT(n,e);throw oT("Field path arguments must be of type string or ",n,!1,void 0,t)}const a3=new RegExp("[~\\*/\\[\\]]");function sT(n,e,t){if(e.search(a3)>=0)throw oT(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Gu(...e.split("."))._internalPath}catch{throw oT(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function oT(n,e,t,r,i){const a=r&&!r.isEmpty(),u=void 0!==i;let h=`Function ${e}() called with invalid data`;t&&(h+=" (via `toFirestore()`)"),h+=". ";let g="";return(a||u)&&(g+=" (found",a&&(g+=` in field ${r}`),u&&(g+=` in document ${i}`),g+=")"),new Be(ye.INVALID_ARGUMENT,h+n+g)}function p2(n,e){return n.some(t=>t.isEqual(e))}class ew{constructor(e,t,r,i,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new or(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new l3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(aT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class l3 extends ew{data(){return super.data()}}function aT(n,e){return"string"==typeof e?sT(n,e):e instanceof Gu?e._internalPath:e._delegate._internalPath}function g2(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Be(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class tw{}function Ph(n,...e){for(const t of e)n=t._apply(n);return n}class c3 extends tw{constructor(e,t,r){super(),this.ma=e,this.ga=t,this.ya=r,this.type="where"}_apply(e){const t=sg(e.firestore),r=function(i,a,u,h,g,v,C){let S;if(g.isKeyField()){if("array-contains"===v||"array-contains-any"===v)throw new Be(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${v}' queries on documentId().`);if("in"===v||"not-in"===v){w2(C,v);const L=[];for(const $ of C)L.push(b2(h,i,$));S={arrayValue:{values:L}}}else S=b2(h,i,C)}else"in"!==v&&"not-in"!==v&&"array-contains-any"!==v||w2(C,v),S=d2(u,"where",C,"in"===v||"not-in"===v);const R=Zi.create(g,v,S);return function(L,$){if($.dt()){const J=fx(L);if(null!==J&&!J.isEqual($.field))throw new Be(ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${J.toString()}' and '${$.field.toString()}'`);const Te=hx(L);null!==Te&&D2(0,$.field,Te)}const K=function(J,Te){for(const Pe of J.filters)if(Te.indexOf(Pe.op)>=0)return Pe.op;return null}(L,function(J){switch(J){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}($.op));if(null!==K)throw new Be(ye.INVALID_ARGUMENT,K===$.op?`Invalid query. You cannot use more than one '${$.op.toString()}' filter.`:`Invalid query. You cannot use '${$.op.toString()}' filters with '${K.toString()}' filters.`)}(i,R),R}(e._query,0,t,e.firestore._databaseId,this.ma,this.ga,this.ya);return new us(e.firestore,e.converter,function(i,a){const u=i.filters.concat([a]);return new Vu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),u,i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}class d3 extends tw{constructor(e,t){super(),this.ma=e,this.pa=t,this.type="orderBy"}_apply(e){const t=function(r,i,a){if(null!==r.startAt)throw new Be(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Be(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const u=new x_(i,a);return function(h,g){if(null===hx(h)){const v=fx(h);null!==v&&D2(0,v,g.field)}}(r,u),u}(e._query,this.ma,this.pa);return new us(e.firestore,e.converter,function(r,i){const a=r.explicitOrderBy.concat([i]);return new Vu(r.path,r.collectionGroup,a,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class m2 extends tw{constructor(e,t,r){super(),this.type=e,this.Ia=t,this.Ta=r}_apply(e){return new us(e.firestore,e.converter,NE(e._query,this.Ia,this.Ta))}}class _2 extends tw{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=v2(e,this.type,this.Ea,this.Aa);return new us(e.firestore,e.converter,(i=t,new Vu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class y2 extends tw{constructor(e,t,r){super(),this.type=e,this.Ea=t,this.Aa=r}_apply(e){const t=v2(e,this.type,this.Ea,this.Aa);return new us(e.firestore,e.converter,(i=t,new Vu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function v2(n,e,t,r){if(t[0]=(0,Xt.m9)(t[0]),t[0]instanceof ew)return function(i,a,u,h,g){if(!h)throw new Be(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${u}().`);const v=[];for(const C of M_(i))if(C.field.isKeyField())v.push(qp(a,h.key));else{const S=h.data.field(C.field);if(cx(S))throw new Be(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+C.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===S){const R=C.field.canonicalString();throw new Be(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${R}' (used as the orderBy) does not exist.`)}v.push(S)}return new Ah(v,g)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=sg(n.firestore);return function(a,u,h,g,v,C){const S=a.explicitOrderBy;if(v.length>S.length)throw new Be(ye.INVALID_ARGUMENT,`Too many arguments provided to ${g}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const R=[];for(let L=0;L<v.length;L++){const $=v[L];if(S[L].field.isKeyField()){if("string"!=typeof $)throw new Be(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${g}(), but got a ${typeof $}`);if(!px(a)&&-1!==$.indexOf("/"))throw new Be(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${g}() must be a plain document ID, but '${$}' contains a slash.`);const K=a.path.child(yn.fromString($));if(!Xe.isDocumentKey(K))throw new Be(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${g}() must result in a valid document path, but '${K}' is not because it contains an odd number of segments.`);const J=new Xe(K);R.push(qp(u,J))}else{const K=d2(h,g,$);R.push(K)}}return new Ah(R,C)}(n._query,n.firestore._databaseId,i,e,t,r)}}function b2(n,e,t){if("string"==typeof(t=(0,Xt.m9)(t))){if(""===t)throw new Be(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!px(e)&&-1!==t.indexOf("/"))throw new Be(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(yn.fromString(t));if(!Xe.isDocumentKey(r))throw new Be(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return qp(n,new Xe(r))}if(t instanceof or)return qp(n,t._key);throw new Be(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${QE(t)}.`)}function w2(n,e){if(!Array.isArray(n)||0===n.length)throw new Be(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(n.length>10)throw new Be(ye.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function D2(n,e,t){if(!t.isEqual(e))throw new Be(ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class nM{convertValue(e,t="none"){switch(zp(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ar(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Gp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw gt()}}convertObject(e,t){const r={};return Hp(e.fields,(i,a)=>{r[i]=this.convertValue(a,t)}),r}convertGeoPoint(e){return new nT(Ar(e.latitude),Ar(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Rk(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Cb(e));default:return null}}convertTimestamp(e){const t=Eh(e);return new hr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=yn.fromString(e);Ut(OF(r));const i=new Th(r.get(1),r.get(3)),a=new Xe(r.popFirst(5));return i.isEqual(t)||Fr(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}function lT(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class v3 extends nM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ac(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new or(this.firestore,null,t)}}class ag{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class zu extends ew{constructor(e,t,r,i,a,u){super(e,t,r,i,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new nw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(aT("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class nw extends zu{data(e={}){return super.data(e)}}class kh{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new ag(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new nw(this._firestore,this._userDataWriter,r.key,r,new ag(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Be(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let a=0;return r._snapshot.docChanges.map(u=>({type:"added",doc:new nw(r._firestore,r._userDataWriter,u.doc.key,u.doc,new ag(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:a++}))}{let a=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(u=>i||3!==u.type).map(u=>{const h=new nw(r._firestore,r._userDataWriter,u.doc.key,u.doc,new ag(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let g=-1,v=-1;return 0!==u.type&&(g=a.indexOf(u.doc.key),a=a.delete(u.doc.key)),1!==u.type&&(a=a.add(u.doc),v=a.indexOf(u.doc.key)),{type:b3(u.type),doc:h,oldIndex:g,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function b3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt()}}function C2(n,e){return n instanceof zu&&e instanceof zu?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof kh&&e instanceof kh&&n._firestore===e._firestore&&jO(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class Fh extends nM{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ac(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new or(this.firestore,null,t)}}function E2(n,e,t){n=dn(n,or);const r=dn(n.firestore,ar),i=lT(n.converter,e,t);return Q_(r,[iT(sg(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,fr.none())])}function T2(n,e,t,...r){n=dn(n,or);const i=dn(n.firestore,ar),a=sg(i);let u;return u="string"==typeof(e=(0,Xt.m9)(e))||e instanceof Gu?XO(a,"updateDoc",n._key,e,t,r):JO(a,"updateDoc",n._key,e),Q_(i,[u.toMutation(n._key,fr.exists(!0))])}function I2(n,...e){var t,r,i;n=(0,Xt.m9)(n);let a={includeMetadataChanges:!1},u=0;"object"!=typeof e[u]||YO(e[u])||(a=e[u],u++);const h={includeMetadataChanges:a.includeMetadataChanges};if(YO(e[u])){const S=e[u];e[u]=null===(t=S.next)||void 0===t?void 0:t.bind(S),e[u+1]=null===(r=S.error)||void 0===r?void 0:r.bind(S),e[u+2]=null===(i=S.complete)||void 0===i?void 0:i.bind(S)}let g,v,C;if(n instanceof or)v=dn(n.firestore,ar),C=O_(n._key.path),g={next:S=>{e[u]&&e[u](rM(v,n,S))},error:e[u+1],complete:e[u+2]};else{const S=dn(n,us);v=dn(S.firestore,ar),C=S._query;const R=new Fh(v);g={next:L=>{e[u]&&e[u](new kh(v,R,S,L))},error:e[u+1],complete:e[u+2]},g2(n._query)}return function(S,R,L,$){const K=new XE($),J=new fO(R,K,L);return S.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return lO(yield Y_(S),J)})),()=>{K.bc(),S.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return uO(yield Y_(S),J)}))}}(Lr(v),C,h,g)}function Q_(n,e){return function(t,r){const i=new ui;return t.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function dH(n,e,t){return yO.apply(this,arguments)}(yield ZO(t),r,i)})),i.promise}(Lr(n),e)}function rM(n,e,t){const r=t.docs.get(e._key),i=new Fh(n);return new zu(n,i,e._key,r,new ag(t.hasPendingWrites,t.fromCache),e.converter)}const x3={maxAttempts:5};class S2{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=sg(e)}set(e,t,r){this._verifyNotCommitted();const i=Lh(e,this._firestore),a=lT(i.converter,t,r),u=iT(this._dataReader,"WriteBatch.set",i._key,a,null!==i.converter,r);return this._mutations.push(u.toMutation(i._key,fr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const a=Lh(e,this._firestore);let u;return u="string"==typeof(t=(0,Xt.m9)(t))||t instanceof Gu?XO(this._dataReader,"WriteBatch.update",a._key,t,r,i):JO(this._dataReader,"WriteBatch.update",a._key,t),this._mutations.push(u.toMutation(a._key,fr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=Lh(e,this._firestore);return this._mutations=this._mutations.concat(new F_(t._key,fr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Be(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Lh(n,e){if((n=(0,Xt.m9)(n)).firestore!==e)throw new Be(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class O3 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=sg(e)}get(e){const t=Lh(e,this._firestore),r=new v3(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return gt();const a=i[0];if(a.isFoundDocument())return new ew(this._firestore,r,a.key,a,t.converter);if(a.isNoDocument())return new ew(this._firestore,r,t._key,null,t.converter);throw gt()})}set(e,t,r){const i=Lh(e,this._firestore),a=lT(i.converter,t,r),u=iT(this._dataReader,"Transaction.set",i._key,a,null!==i.converter,r);return this._transaction.set(i._key,u),this}update(e,t,r,...i){const a=Lh(e,this._firestore);let u;return u="string"==typeof(t=(0,Xt.m9)(t))||t instanceof Gu?XO(this._dataReader,"Transaction.update",a._key,t,r,i):JO(this._dataReader,"Transaction.update",a._key,t),this._transaction.update(a._key,u),this}delete(e){const t=Lh(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=Lh(e,this._firestore),r=new Fh(this._firestore);return super.get(e).then(i=>new zu(this._firestore,r,t._key,i._document,new ag(!1,!1),t.converter))}}function iM(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Be("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function N2(){if(typeof Uint8Array>"u")throw new Be("unimplemented","Uint8Arrays are not available in this environment.")}function x2(){if(!function XV(){return typeof atob<"u"}())throw new Be("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(n,e=!0){I_=ji.SDK_VERSION,(0,ji._registerComponent)(new wp.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),u=new ar(new jV(t.getProvider("auth-internal")),new GV(t.getProvider("app-check-internal")),function(h,g){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new Be(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Th(h.options.projectId,g)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),u._setSettings(i),u},"PUBLIC").setMultipleInstances(!0)),(0,ji.registerVersion)(bk,"3.7.1",n),(0,ji.registerVersion)(bk,"3.7.1","esm2017")}();class rw{constructor(e){this._delegate=e}static fromBase64String(e){return x2(),new rw(Ac.fromBase64String(e))}static fromUint8Array(e){return N2(),new rw(Ac.fromUint8Array(e))}toBase64(){return x2(),this._delegate.toBase64()}toUint8Array(){return N2(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function sM(n){return function V3(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class j3{enableIndexedDbPersistence(e,t){return function qH(n,e){a2(n=dn(n,ar));const t=Lr(n),r=n._freezeSettings(),i=new BO;return o2(t,i,new jL(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function WH(n){a2(n=dn(n,ar));const e=Lr(n),t=n._freezeSettings(),r=new BO;return o2(e,r,new SH(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function ZH(n){if(n._initialized&&!n._terminated)throw new Be(ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new ui;return n._queue.enqueueAndForgetEvenWhileRestricted((0,pe.Z)(function*(){try{yield(t=(0,pe.Z)(function*(r){if(!Nl.C())return Promise.resolve();const i=r+"main";yield Nl.delete(i)}),function(r){return t.apply(this,arguments)})(Mx(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class O2{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Th||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Vp("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){ZL(this._delegate,e,t,r)}enableNetwork(){return function YH(n){return function kH(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield e2(n),t=yield WO(n);return e.setNetworkEnabled(!0),function(r){const i=rt(r);return i.wu.delete(0),Yb(i)}(t)}))}(Lr(n=dn(n,ar)))}(this._delegate)}disableNetwork(){return function QH(n){return function FH(n){return n.asyncQueue.enqueue((0,pe.Z)(function*(){const e=yield e2(n),t=yield WO(n);return e.setNetworkEnabled(!1),(r=(0,pe.Z)(function*(i){const a=rt(i);a.wu.add(0),yield H_(a),a.yu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Lr(n=dn(n,ar)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,$L("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function KH(n){return function(e){const t=new ui;return e.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return function gH(n,e){return CO.apply(this,arguments)}(yield ZO(e),t)})),t.promise}(Lr(n=dn(n,ar)))}(this._delegate)}onSnapshotsInSync(e){return function N3(n,e){return function BH(n,e){const t=new XE(e);return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return r=yield Y_(n),i=t,rt(r).bu.add(i),void i.next();var r,i})),()=>{t.bc(),n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return r=yield Y_(n),i=t,void rt(r).bu.delete(i);var r,i}))}}(Lr(n=dn(n,ar)),YO(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Be("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new J_(this,KL(this._delegate,e))}catch(t){throw Ls(t,"collection()","Firestore.collection()")}}doc(e){try{return new ka(this,JE(this._delegate,e))}catch(t){throw Ls(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Us(this,function AH(n,e){if(n=dn(n,Jb),VO("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Be(ye.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new us(n,null,(t=e,new Vu(yn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw Ls(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function M3(n,e,t){n=dn(n,ar);const r=Object.assign(Object.assign({},x3),t);return function(i){if(i.maxAttempts<1)throw new Be(ye.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,a,u){const h=new ui;return i.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){const g=yield function t2(n){return eT(n).then(e=>e.datastore)}(i);new RH(i.asyncQueue,g,u,a,h).run()})),h.promise}(Lr(n),i=>e(new O3(n,i)),r)}(this._delegate,t=>e(new M2(this,t)))}batch(){return Lr(this._delegate),new R2(new S2(this._delegate,e=>Q_(this._delegate,e)))}loadBundle(e){return function JH(n,e){const t=Lr(n=dn(n,ar)),r=new HH;return function VH(n,e,t,r){const i=function(a,u){let h;return h="string"==typeof a?(new TextEncoder).encode(a):a,g=function(g,v){if(g instanceof Uint8Array)return QL(g,v);if(g instanceof ArrayBuffer)return QL(new Uint8Array(g),v);if(g instanceof ReadableStream)return g.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(h),new NH(g,u);var g}(t,Kb(e));n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){!function IH(n,e,t){const r=rt(n);var i;(i=(0,pe.Z)(function*(a,u,h){try{const g=yield u.getMetadata();if(yield function(R,L){const $=rt(R),K=xi(L.createTime);return $.persistence.runTransaction("hasNewerBundle","readonly",J=>$.Ns.getBundleMetadata(J,L.id)).then(J=>!!J&&J.createTime.compareTo(K)>=0)}(a.localStore,g))return yield u.close(),h._completeWith({taskState:"Success",documentsLoaded:(R=g).totalDocuments,bytesLoaded:R.totalBytes,totalDocuments:R.totalDocuments,totalBytes:R.totalBytes}),Promise.resolve(new Set);h._updateProgress(OL(g));const v=new sH(g,a.localStore,u.It);let C=yield u.mc();for(;C;){const R=yield v.Fu(C);R&&h._updateProgress(R),C=yield u.mc()}const S=yield v.complete();return yield Hu(a,S.Lu,void 0),yield function(R,L){const $=rt(R);return $.persistence.runTransaction("Save bundle","readwrite",K=>$.Ns.saveBundleMetadata(K,L))}(a.localStore,g),h._completeWith(S.progress),Promise.resolve(S.Bu)}catch(g){return Vp("SyncEngine",`Loading bundle failed with ${g}`),h._failWith(g),Promise.resolve(new Set)}var R}),function(a,u,h){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield ZO(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function XH(n,e){return function jH(n,e){return n.asyncQueue.enqueue((0,pe.Z)(function*(){return function(t,r){const i=rt(t);return i.persistence.runTransaction("Get named query","readonly",a=>i.Ns.getNamedQuery(a,r))}(yield tT(n),e)}))}(Lr(n=dn(n,ar)),e).then(t=>t?new us(n,null,t.query):null)}(this._delegate,e).then(t=>t?new Us(this,t):null)}}class cT extends nM{constructor(e){super(),this.firestore=e}convertBytes(e){return new rw(new Ac(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return ka.forKey(t,this.firestore,null)}}class M2{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new cT(e)}get(e){const t=cg(e);return this._delegate.get(t).then(r=>new iw(this._firestore,new zu(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=cg(e);return r?(iM("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=cg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=cg(e);return this._delegate.delete(t),this}}class R2{constructor(e){this._delegate=e}set(e,t,r){const i=cg(e);return r?(iM("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const a=cg(e);return 2===arguments.length?this._delegate.update(a,t):this._delegate.update(a,t,r,...i),this}delete(e){const t=cg(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class lg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new nw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new sw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=lg.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let a=i.get(t);return a||(a=new lg(e,new cT(e),t),i.set(t,a)),a}}lg.INSTANCES=new WeakMap;class ka{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cT(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Be("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ka(t,new or(t._delegate,r,new Xe(e)))}static forKey(e,t,r){return new ka(t,new or(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new J_(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new J_(this.firestore,KL(this._delegate,e))}catch(t){throw Ls(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Xt.m9)(e))instanceof or&&YL(this._delegate,e)}set(e,t){t=iM("DocumentReference.set",t);try{return t?E2(this._delegate,e,t):E2(this._delegate,e)}catch(r){throw Ls(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?T2(this._delegate,e):T2(this._delegate,e,t,...r)}catch(i){throw Ls(i,"updateDoc()","DocumentReference.update()")}}delete(){return function S3(n){return Q_(dn(n.firestore,ar),[new F_(n._key,fr.none())])}(this._delegate)}onSnapshot(...e){const t=P2(e),r=k2(e,i=>new iw(this.firestore,new zu(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return I2(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function D3(n){n=dn(n,or);const e=dn(n.firestore,ar),t=Lr(e),r=new Fh(e);return function LH(n,e){const t=new ui;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(r=(0,pe.Z)(function*(i,a,u){try{const h=yield function(g,v){const C=rt(g);return C.persistence.runTransaction("read document","readonly",S=>C.localDocuments.getDocument(S,v))}(i,a);h.isFoundDocument()?u.resolve(h):h.isNoDocument()?u.resolve(null):u.reject(new Be(ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(h){const g=q_(h,`Failed to get document '${a} from cache`);u.reject(g)}}),function(i,a,u){return r.apply(this,arguments)})(yield tT(n),e,t);var r})),t.promise}(t,n._key).then(i=>new zu(e,r,n._key,i,new ag(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function C3(n){n=dn(n,or);const e=dn(n.firestore,ar);return n2(Lr(e),n._key,{source:"server"}).then(t=>rM(e,n,t))}(this._delegate):function w3(n){n=dn(n,or);const e=dn(n.firestore,ar);return n2(Lr(e),n._key).then(t=>rM(e,n,t))}(this._delegate),t.then(r=>new iw(this.firestore,new zu(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ka(this.firestore,this._delegate.withConverter(e?lg.getInstance(this.firestore,e):null))}}function Ls(n,e,t){return n.message=n.message.replace(e,t),n}function P2(n){for(const e of n)if("object"==typeof e&&!sM(e))return e;return{}}function k2(n,e){var t,r;let i;return i=sM(n[0])?n[0]:sM(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:a=>{i.next&&i.next(e(a))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class iw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new ka(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return C2(this._delegate,e._delegate)}}class sw extends iw{data(e){const t=this._delegate.data(e);return function UV(n,e){n||gt()}(void 0!==t),t}}class Us{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new cT(e)}where(e,t,r){try{return new Us(this.firestore,Ph(this._delegate,function u3(n,e,t){const r=e,i=aT("where",n);return new c3(i,r,t)}(e,t,r)))}catch(i){throw Ls(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new Us(this.firestore,Ph(this._delegate,function h3(n,e="asc"){const t=e,r=aT("orderBy",n);return new d3(r,t)}(e,t)))}catch(r){throw Ls(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Us(this.firestore,Ph(this._delegate,function f3(n){return zL("limit",n),new m2("limit",n,"F")}(e)))}catch(t){throw Ls(t,"limit()","Query.limit()")}}limitToLast(e){try{return new Us(this.firestore,Ph(this._delegate,function p3(n){return zL("limitToLast",n),new m2("limitToLast",n,"L")}(e)))}catch(t){throw Ls(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Us(this.firestore,Ph(this._delegate,function g3(...n){return new _2("startAt",n,!0)}(...e)))}catch(t){throw Ls(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Us(this.firestore,Ph(this._delegate,function m3(...n){return new _2("startAfter",n,!1)}(...e)))}catch(t){throw Ls(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Us(this.firestore,Ph(this._delegate,function _3(...n){return new y2("endBefore",n,!1)}(...e)))}catch(t){throw Ls(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Us(this.firestore,Ph(this._delegate,function y3(...n){return new y2("endAt",n,!0)}(...e)))}catch(t){throw Ls(t,"endAt()","Query.endAt()")}}isEqual(e){return jO(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function T3(n){n=dn(n,us);const e=dn(n.firestore,ar),t=Lr(e),r=new Fh(e);return function UH(n,e){const t=new ui;return n.asyncQueue.enqueueAndForget((0,pe.Z)(function*(){return(r=(0,pe.Z)(function*(i,a,u){try{const h=yield zE(i,a,!0),g=new PL(a,h.Hi),v=g.Wu(h.documents),C=g.applyChanges(v,!1);u.resolve(C.snapshot)}catch(h){const g=q_(h,`Failed to execute query '${a} against cache`);u.reject(g)}}),function(i,a,u){return r.apply(this,arguments)})(yield tT(n),e,t);var r})),t.promise}(t,n._query).then(i=>new kh(e,r,n,i))}(this._delegate):"server"===e?.source?function I3(n){n=dn(n,us);const e=dn(n.firestore,ar),t=Lr(e),r=new Fh(e);return r2(t,n._query,{source:"server"}).then(i=>new kh(e,r,n,i))}(this._delegate):function E3(n){n=dn(n,us);const e=dn(n.firestore,ar),t=Lr(e),r=new Fh(e);return g2(n._query),r2(t,n._query).then(i=>new kh(e,r,n,i))}(this._delegate),t.then(r=>new oM(this.firestore,new kh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=P2(e),r=k2(e,i=>new oM(this.firestore,new kh(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return I2(this._delegate,t,r)}withConverter(e){return new Us(this.firestore,this._delegate.withConverter(e?lg.getInstance(this.firestore,e):null))}}class H3{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new sw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class oM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new Us(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new sw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new H3(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new sw(this._firestore,r))})}isEqual(e){return C2(this._delegate,e._delegate)}}class J_ extends Us{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ka(this.firestore,e):null}doc(e){try{return new ka(this.firestore,void 0===e?JE(this._delegate):JE(this._delegate,e))}catch(t){throw Ls(t,"doc()","CollectionReference.doc()")}}add(e){return function A3(n,e){const t=dn(n.firestore,ar),r=JE(n),i=lT(n.converter,e);return Q_(t,[iT(sg(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,fr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new ka(this.firestore,t))}isEqual(e){return YL(this._delegate,e._delegate)}withConverter(e){return new J_(this.firestore,this._delegate.withConverter(e?lg.getInstance(this.firestore,e):null))}}function cg(n){return dn(n,or)}class aM{constructor(...e){this._delegate=new Gu(...e)}static documentId(){return new aM(Ir.keyField().canonicalString())}isEqual(e){return(e=(0,Xt.m9)(e))instanceof Gu&&this._delegate._internalPath.isEqual(e._internalPath)}}class ug{constructor(e){this._delegate=e}static serverTimestamp(){const e=function P3(){return new QO("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new ug(e)}static delete(){const e=function R3(){return new Xb("deleteField")}();return e._methodName="FieldValue.delete",new ug(e)}static arrayUnion(...e){const t=function k3(...n){return new r3("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new ug(t)}static arrayRemove(...e){const t=function F3(...n){return new s3("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new ug(t)}static increment(e){const t=function L3(n){return new o3("increment",n)}(e);return t._methodName="FieldValue.increment",new ug(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const G3={Firestore:O2,GeoPoint:nT,Timestamp:hr,Blob:rw,Transaction:M2,WriteBatch:R2,DocumentReference:ka,DocumentSnapshot:iw,Query:Us,QueryDocumentSnapshot:sw,QuerySnapshot:oM,CollectionReference:J_,FieldPath:aM,FieldValue:ug,setLogLevel:function $3(n){!function LV(n){wh.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function F2(n,e){return function W3(n,e=Pp.z){return new Mr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function lM(n,e){return F2(n,e).pipe((0,St.U)(t=>({payload:t,type:"query"})))}function uT(n,e){return lM(n,e).pipe(dc(void 0),kp(),(0,St.U)(([t,r])=>{const i=r.payload.docChanges(),a=i.map(u=>({type:u.type,payload:u}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((u,h)=>{const g=i.find(C=>C.doc.ref.isEqual(u.ref)),v=t?.payload.docs.find(C=>C.ref.isEqual(u.ref));g&&JSON.stringify(g.doc.metadata)===JSON.stringify(u.metadata)||!g&&v&&JSON.stringify(v.metadata)===JSON.stringify(u.metadata)||a.push({type:"modified",payload:{oldIndex:h,newIndex:h,type:"modified",doc:u}})}),a}))}function L2(n,e,t){return uT(n,t).pipe(jd((r,i)=>function K3(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function Y3(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return cM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return cM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return cM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(a=>a.payload),e),[]),function yh(n,e=Zf.y){return n=n??tb,(0,Wr.e)((t,r)=>{let i,a=!0;t.subscribe((0,cr.x)(r,u=>{const h=e(u);(a||!n(i,h))&&(a=!1,i=h,r.next(u))}))})}(),(0,St.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function cM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function U2(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function q3(n){(function z3(n,e){n.INTERNAL.registerComponent(new wp.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},G3)))})(n,(e,t)=>new O2(e,t,new j3)),n.registerVersion("@firebase/firestore-compat","0.2.1")}(RB.Z);class B2{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=uT(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,St.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(dc(void 0),kp(),Zr(([r,i])=>i.length>0||!r),(0,St.U)(([r,i])=>i),Gn.iC)}auditTrail(e){return this.stateChanges(e).pipe(jd((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=U2(e);return L2(this.query,t,this.afs.schedulers.outsideAngular).pipe(Gn.iC)}valueChanges(e={}){return lM(this.query,this.afs.schedulers.outsideAngular).pipe((0,St.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Gn.iC)}get(e){return(0,Jt.D)(this.query.get(e)).pipe(Gn.iC)}add(e){return this.ref.add(e)}doc(e){return new V2(this.ref.doc(e),this.afs)}}class V2{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:a}=j2(r,t);return new B2(i,a,this.afs)}snapshotChanges(){return function Z3(n,e){return F2(n,e).pipe(dc(void 0),kp(),(0,St.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Gn.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,St.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Jt.D)(this.ref.get(e)).pipe(Gn.iC)}}class Q3{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?uT(this.query,this.afs.schedulers.outsideAngular).pipe((0,St.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Zr(t=>t.length>0),Gn.iC):uT(this.query,this.afs.schedulers.outsideAngular).pipe(Gn.iC)}auditTrail(e){return this.stateChanges(e).pipe(jd((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=U2(e);return L2(this.query,t,this.afs.schedulers.outsideAngular).pipe(Gn.iC)}valueChanges(e={}){return lM(this.query,this.afs.schedulers.outsideAngular).pipe((0,St.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Gn.iC)}get(e){return(0,Jt.D)(this.query.get(e)).pipe(Gn.iC)}}const J3=new l.OlP("angularfire2.enableFirestorePersistence"),X3=new l.OlP("angularfire2.firestore.persistenceSettings"),e6=new l.OlP("angularfire2.firestore.settings"),t6=new l.OlP("angularfire2.firestore.use-emulator");function j2(n,e=(t=>t)){return{query:e(n),ref:n}}let $2=(()=>{class n{constructor(t,r,i,a,u,h,g,v,C,S,R,L,$,K,J,Te,Pe){this.schedulers=g;const je=(0,Ra.on)(t,h,r),Oe=C;S&&w_(je,h,R,$,K,J,L,Te),[this.firestore,this.persistenceEnabled$]=(0,Ra.cc)(`${je.name}.firestore`,"AngularFirestore",je.name,()=>{const qe=h.runOutsideAngular(()=>je.firestore());if(a&&qe.settings(a),Oe&&qe.useEmulator(...Oe),i&&!Ho(u)){const Ze=()=>{try{return(0,Jt.D)(qe.enablePersistence(v||void 0).then(()=>!0,()=>!1))}catch(ht){return typeof console<"u"&&console.warn(ht),pt(!1)}};return[qe,h.runOutsideAngular(Ze)]}return[qe,pt(!1)]},[a,Oe,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:a,query:u}=j2(i,r),h=this.schedulers.ngZone.run(()=>a);return new B2(h,u,this)}collectionGroup(t,r){const i=r||(u=>u),a=this.firestore.collectionGroup(t);return new Q3(i(a),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new V2(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ra.Dh),l.LFG(Ra.xv,8),l.LFG(J3,8),l.LFG(e6,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Gn.HU),l.LFG(X3,8),l.LFG(t6,8),l.LFG(_h,8),l.LFG(ke,8),l.LFG(Rt,8),l.LFG(_n,8),l.LFG(zn,8),l.LFG(wc,8),l.LFG(b_,8),l.LFG(o,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),xl=(()=>{class n{constructor(t,r,i,a){this.toastr=t,this.afAuth=r,this.afs=i,this.router=a,this.isLogged=!1,this.uidUser="",this.noAprobadosA=[],this.usuarios=[],this.formatDate=u=>u.toLocaleString(),r.authState.subscribe(u=>this.isLogged=u)}traerUsuarios(){return this.UsuariosColeccion=this.afs.collection("usuarios"),this.UsuariosColeccion.valueChanges().subscribe(t=>{this.usuarios=[],t.forEach(r=>{this.usuarios.unshift(r)})})}onLogin(t){var r=this;return(0,pe.Z)(function*(){var i;return i=yield r.afAuth.signInWithEmailAndPassword(t.email,t.password),r.uidUser=i.user.uid,i&&(yield r.afs.collection("usuarios").doc(r.uidUser).get().toPromise().then(function(){var a=(0,pe.Z)(function*(u){yield r.afs.collection("usuarios").doc(r.uidUser).valueChanges().subscribe(function(){var h=(0,pe.Z)(function*(g){r.UsuarioActivo=g,console.log(r.UsuarioActivo),yield localStorage.setItem("user",JSON.stringify(t))});return function(g){return h.apply(this,arguments)}}())});return function(u){return a.apply(this,arguments)}}())),i})()}ChequearEmail(t){var r=this;return(0,pe.Z)(function*(){let i=!1;return yield r.afAuth.fetchSignInMethodsForEmail(t).then(a=>{0!=a.length&&(i=!0)}),i})()}onRegisterEspecialista(t){var r=this;return(0,pe.Z)(function*(){try{var i=yield r.subirArchivos(t.foto);return yield r.afAuth.createUserWithEmailAndPassword(t.email,t.password).then(function(){var a=(0,pe.Z)(function*(u){yield r.afs.collection("usuarios").doc(u.user.uid).set({email:t.email,contrasena:t.password,nombre:t.nombre,apellido:t.apellido,edad:t.edad,especialidades:t.especialidad,dni:t.dni,foto:i,uid:u.user.uid,perfil:"especialista",aprobado:!1}),(yield r.afAuth.currentUser).sendEmailVerification().then(()=>{console.log("Email enviado")}).catch(g=>{console.log("Ocurrio un error")})});return function(u){return a.apply(this,arguments)}}()),!0}catch(a){return console.log("Error en register",a),!1}})()}onRegisterAdmin(t){var r=this;return(0,pe.Z)(function*(){try{var i=yield r.subirArchivos(t.foto);return yield r.afAuth.createUserWithEmailAndPassword(t.email,t.password).then(function(){var a=(0,pe.Z)(function*(u){yield r.afs.collection("usuarios").doc(u.user.uid).set({email:t.email,contrasena:t.password,nombre:t.nombre,apellido:t.apellido,edad:t.edad,dni:t.dni,foto:i,uid:u.user.uid,perfil:"admin"}).finally(()=>{r.toastr.success("Usuario registrado!","Exito")})});return function(u){return a.apply(this,arguments)}}()),!0}catch(a){return console.log("Error en register",a),r.toastr.error("Ocurrio un error al registrar!","Error"),!1}})()}onRegisterUsuario(t){var r=this;return(0,pe.Z)(function*(){try{var i=yield r.subirArchivos(t.foto1),a=yield r.subirArchivos(t.foto2);return yield r.afAuth.createUserWithEmailAndPassword(t.email,t.password).then(function(){var u=(0,pe.Z)(function*(h){h.user?.sendEmailVerification(),yield r.afs.collection("usuarios").doc(h.user.uid).set({email:t.email,contrasena:t.password,nombre:t.nombre,apellido:t.apellido,edad:t.edad,obra:t.obra,dni:t.dni,foto:i,foto2:a,uid:h.user.uid,perfil:"paciente"})});return function(h){return u.apply(this,arguments)}}()),!0}catch(u){return console.log("Error en register",u),r.toastr.error("Hubo un error","Error"),!1}})()}subirArchivos(t){var r=this;return(0,pe.Z)(function*(){var i=null;const a=function _C(n=(0,ji.getApp)(),e){n=(0,Xt.m9)(n);const r=(0,ji._getProvider)(n,pC).getImmediate({identifier:e}),i=(0,Xt.P0)("storage");return i&&function NA(n,e,t,r={}){!function fC(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:(0,Xt.Sg)(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}(),u=yield function SA(n,e){return function N0(n,e){if(e&&function dC(n){return/^[A-Za-z]+:\/\//.test(n)}(e)){if(n instanceof x0)return function hC(n,e){return new Pu(n,e)}(n,e);throw yc("To use ref(service, url), the first argument must be a Storage instance.")}return Op(n,e)}(n=(0,Xt.m9)(n),e)}(a,`imagenes/${r.formatDate(new Date)}`);return yield function TA(n,e,t){return function oC(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new ch(n,new xa(e),t)}(n=(0,Xt.m9)(n),e,t)}(u,t).then(function(){var h=(0,pe.Z)(function*(g){yield function mC(n){return wA(n=(0,Xt.m9)(n))}(u).then(v=>{i=v})});return function(g){return h.apply(this,arguments)}}()),i})()}RecuperarUsuario(){var t=this;return(0,pe.Z)(function*(){var r=!1,i=localStorage.getItem("user");if(i){var a=JSON.parse(i);r=yield t.afAuth.signInWithEmailAndPassword(a.email,a.password),t.uidUser=r.user.uid,r?yield t.afs.collection("usuarios").doc(t.uidUser).get().toPromise().then(u=>{t.afs.collection("usuarios").doc(t.uidUser).valueChanges().subscribe(h=>{t.UsuarioActivo=h})}):r=null}return r})()}LogOut(){localStorage.removeItem("user"),this.afAuth.signOut(),this.router.navigate([""])}ObtenerNoAprobados(){return this.noAprobados=this.afs.collection("usuarios",t=>t.where("aprobado","==",!1)),this.noAprobados.valueChanges().subscribe(t=>{this.noAprobadosA=[],t.forEach(r=>{this.noAprobadosA.unshift(r)})})}aprobarEspecialista(t){this.afs.collection("usuarios").doc(t).update({aprobado:!0}).catch(r=>{this.toastr.error("Ocurrio un error al actualizar!","Error")}).finally(()=>{this.toastr.success("Usuario aprobado!","Exito")})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ms),l.LFG(_h),l.LFG($2),l.LFG(On))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function n6(n,e){1&n&&(l.TgZ(0,"small",12),l._uU(1," El email es requerido "),l.qZA())}function r6(n,e){1&n&&(l.TgZ(0,"small",12),l._uU(1," La contrase\xf1a es requerida "),l.qZA())}let i6=(()=>{class n{constructor(t,r,i,a){this.authService=t,this.fb=r,this.router=i,this.toastr=a,this.user={},this.forma=this.fb.group({email:["",nn.required],contrasena:["",nn.required]})}ngOnInit(){}Ingresar(){var t=this;return(0,pe.Z)(function*(){t.toastr.success("Ingresando!","Exito"),t.user.email=t.forma.get("email").value,t.user.password=t.forma.get("contrasena").value;try{const r=yield t.authService.onLogin(t.user);r?(console.info("usuario encontrado: ",r),t.toastr.success("Ingreso exitoso!","Exito"),setTimeout(()=>{t.router.navigate(["inicio"])},500)):t.toastr.error("Usuario y/o contrase\xf1a incorrectos","Error")}catch{t.toastr.error("Usuario y/o contrase\xf1a incorrectos","Error")}})()}registrar(){this.router.navigateByUrl("registro")}usuario(){this.forma.setValue({email:"PedroPerez@gmail.com",contrasena:"123456"})}admin(){this.forma.setValue({email:"mairaGomez@gmail.com",contrasena:"123456"})}especialista(){this.forma.setValue({email:"franszellner@gmail.com",contrasena:"123456"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(xl),l.Y36(Ca),l.Y36(On),l.Y36(Ms))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:26,vars:4,consts:[["id","formContent"],[1,"active","cursor"],[1,"fadeIn","first"],["src","../../../assets/logos/icons8-usuario-masculino-en-c\xedrculo-100.png","id","icon","alt","User Icon",2,"width","100px"],[3,"formGroup","ngSubmit"],["type","text","formControlName","email","placeholder","Email",1,"fadeIn","second","border"],["class","invalid texto_rojo",4,"ngIf"],["type","password","formControlName","contrasena","placeholder","Contrase\xf1a",1,"fadeIn","third","border"],["type","submit",1,"fadeIn","fourth","boton-Agregar",3,"disabled"],[1,"div_botones"],[1,"boton_rapido",3,"click"],[1,"cursor",3,"click"],[1,"invalid","texto_rojo"]],template:function(t,r){1&t&&(l.TgZ(0,"body")(1,"div",0)(2,"h2",1),l._uU(3," Ingresar "),l.qZA(),l.TgZ(4,"div",2),l._UZ(5,"img",3),l.qZA(),l.TgZ(6,"form",4),l.NdJ("ngSubmit",function(){return r.Ingresar()}),l._UZ(7,"input",5),l.YNc(8,n6,2,0,"small",6),l._UZ(9,"input",7),l.YNc(10,r6,2,0,"small",6),l._UZ(11,"br"),l.TgZ(12,"button",8),l._uU(13,"Ingresar"),l.qZA()(),l._UZ(14,"br"),l.TgZ(15,"div",9)(16,"button",10),l.NdJ("click",function(){return r.admin()}),l._uU(17,"Admin"),l.qZA(),l.TgZ(18,"button",10),l.NdJ("click",function(){return r.usuario()}),l._uU(19,"Usuario"),l.qZA(),l.TgZ(20,"button",10),l.NdJ("click",function(){return r.especialista()}),l._uU(21,"Especialista"),l.qZA()(),l.TgZ(22,"p"),l._uU(23,"\xbfNo tienes una cuenta? "),l.TgZ(24,"b",11),l.NdJ("click",function(){return r.registrar()}),l._uU(25,"Registrate"),l.qZA()()()()),2&t&&(l.xp6(6),l.Q6J("formGroup",r.forma),l.xp6(2),l.Q6J("ngIf",(null==r.forma.controls.email.errors?null:r.forma.controls.email.errors.required)&&r.forma.controls.email.touched),l.xp6(2),l.Q6J("ngIf",(null==r.forma.controls.contrasena.errors?null:r.forma.controls.contrasena.errors.required)&&r.forma.controls.contrasena.touched),l.xp6(2),l.Q6J("disabled",r.forma.invalid))},dependencies:[hn,Hf,yl,pu,gu,cc,qf],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";html[_ngcontent-%COMP%]{background-image:url(nurse.aa6a87d879c56d7a.jpg)}body[_ngcontent-%COMP%]{height:94vh;background:transparent}.div_botones[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;align-items:center;align-content:center;text-align:center;display:flex}.boton_rapido[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;display:block;background-color:#56baed;border:none;color:#fff;padding:5px 30px;text-align:center;text-decoration:none;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin-bottom:20px;transition:all .3s ease-in-out}.boton-Agregar[_ngcontent-%COMP%]:hover, .boton_rapido[_ngcontent-%COMP%]:hover{background-color:#1680be;transform:translateY(-4px)}.cursor[_ngcontent-%COMP%]{cursor:pointer}.first[_ngcontent-%COMP%]{padding-bottom:10%}.texto_registrar[_ngcontent-%COMP%]{margin-bottom:10px}.boton-Agregar[_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 20px;transition:all .3s ease-in-out}.celeste[_ngcontent-%COMP%]{background-color:#39ace7}.rojo[_ngcontent-%COMP%]{background-color:red}.texto_rojo[_ngcontent-%COMP%]{color:red}.border[_ngcontent-%COMP%]{border-style:solid;border-width:1px;border-color:gray}a[_ngcontent-%COMP%]{color:#92badd;display:inline-block;text-decoration:none;font-weight:400}h2[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:600;text-transform:uppercase;display:inline-block;margin:40px 8px 10px;color:#ccc}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px}#formContent[_ngcontent-%COMP%]{border-radius:10px;background:#fff;width:90%;max-width:450px;position:relative;padding:0 0 2%;box-shadow:0 30px 60px #0000004d;text-align:center}#formFooter[_ngcontent-%COMP%]{background-color:#f6f6f6;border-top:1px solid #dce8f1;padding:25px;text-align:center;border-radius:0 0 10px 10px}h2.inactive[_ngcontent-%COMP%]{color:#ccc}h2.active[_ngcontent-%COMP%]{color:#0d0d0d;border-bottom:2px solid #5fbae9}input[type=button][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%], input[type=reset][_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover, input[type=reset][_ngcontent-%COMP%]:hover{background-color:#39ace7}input[type=button][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active, input[type=reset][_ngcontent-%COMP%]:active{transform:scale(.95)}input[type=text][_ngcontent-%COMP%], [type=password][_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#0d0d0d;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px}input[type=text][_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%]:placeholder{color:#ccc}.fadeInDown[_ngcontent-%COMP%]{animation-name:fadeInDown;animation-duration:1s;animation-fill-mode:both}@keyframes fadeInDown{0%{opacity:0;transform:translate3d(0,-100%,0)}to{opacity:1;transform:none}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;animation:fadeIn ease-in 1;animation-fill-mode:forwards;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%]{animation-delay:.4s}.fadeIn.second[_ngcontent-%COMP%]{animation-delay:.6s}.fadeIn.third[_ngcontent-%COMP%]{animation-delay:.8s}.fadeIn.fourth[_ngcontent-%COMP%]{animation-delay:1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:"";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#0d0d0d}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}*[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:60%}*[_ngcontent-%COMP%]{box-sizing:border-box}']}),n})();function s6(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," El nombre es requerido "),l.qZA())}function o6(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," El nombre no puede contener espacios "),l.qZA())}function a6(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," El apellido es requerido "),l.qZA())}function l6(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," El apellido no puede contener espacios "),l.qZA())}function c6(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," La edad es requerida "),l.qZA())}function u6(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," La edad debe ser de 18 a 99 a\xf1os "),l.qZA())}function d6(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," La edad solo puede contener numeros "),l.qZA())}function h6(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," El dni es requerido "),l.qZA())}function f6(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," El dni solo puede contener numeros "),l.qZA())}function p6(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," El email es requerido "),l.qZA())}function g6(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," El email no puede contener espacios "),l.qZA())}function m6(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," La obra social es requerida "),l.qZA())}function _6(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," La contrasena es requerida "),l.qZA())}function y6(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," La Foto es requerida "),l.qZA())}function v6(n,e){if(1&n&&(l.TgZ(0,"small",23),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.hij(" ",t.foto1.name," ")}}function b6(n,e){1&n&&(l.TgZ(0,"small",22),l._uU(1," La Foto es requerida "),l.qZA())}function w6(n,e){if(1&n&&(l.TgZ(0,"small",23),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.hij(" ",t.foto2.name," ")}}let H2=(()=>{class n{constructor(t,r,i,a){this.authService=t,this.fb=r,this.router=i,this.toastr=a,this.user={},this.forma=this.fb.group({nombre:["",[nn.required,this.spacesValidator]],apellido:["",[nn.required,this.spacesValidator]],edad:["",[nn.required,nn.min(18),nn.max(99),nn.pattern("^[0-9]*$")]],email:["",[nn.required,this.spacesValidator]],dni:["",nn.required,nn.pattern("^[0-9]*$")],contrasena:["",nn.required],obra:["",nn.required],foto1:["",nn.required],foto2:["",nn.required]})}ngOnInit(){}Registrar(){var t=this;return(0,pe.Z)(function*(){t.forma.invalid?t.toastr.error("Debe compeltar todos los campos con el formato correcto!","Error"):0==(yield t.authService.ChequearEmail(t.forma.get("email").value))?(console.log("registrando"),t.toastr.success("","Registrando"),t.user.email=t.forma.get("email").value,t.user.password=t.forma.get("contrasena").value,t.user.nombre=t.forma.get("nombre").value,t.user.apellido=t.forma.get("apellido").value,t.user.edad=t.forma.get("edad").value,t.user.obra=t.forma.get("obra").value,t.user.dni=t.forma.get("dni").value,t.user.foto1=t.foto1,t.user.foto2=t.foto2,(yield t.authService.onRegisterUsuario(t.user))&&(console.log("Exito! Usuario Registrado"),t.toastr.success("Usuario Registrado","Exito"),setTimeout((0,pe.Z)(function*(){const i=yield t.authService.onLogin(t.user);i?(console.info("usuario encontrado: ",i),t.toastr.success("Ingreso exitoso!","Exito"),t.router.navigate(["inicio"])):t.toastr.error("Hubo un error","Error")}),3e3))):t.toastr.error("La direccion de correo ya esta en uso!","Error")})()}ingresar(){this.router.navigateByUrl("")}especialista(){this.router.navigateByUrl("registrar-especialista")}elegirFoto1(t){this.foto1=t.target.files[0]}elegirFoto2(t){this.foto2=t.target.files[0]}spacesValidator(t){return t.value.includes(" ")?{containsSpaces:!0}:null}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(xl),l.Y36(Ca),l.Y36(On),l.Y36(Ms))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-register"]],decls:64,vars:19,consts:[[1,"center"],[1,"needs-validation","padding",3,"formGroup","ngSubmit"],[1,"row","g-3"],[1,"col-sm-6"],["for","firstName",1,"form-label"],["type","text","formControlName","nombre","placeholder","Nombre","reuired","",1,"form-control","border"],["class","invalid rojo",4,"ngIf"],["for","lastName",1,"form-label"],["type","text","formControlName","apellido","placeholder","Apellido",1,"form-control","border"],["type","text","formControlName","edad","placeholder","Edad",1,"form-control","border"],["type","text","formControlName","dni","placeholder","Documento",1,"form-control","border"],[1,"col-12"],["for","email",1,"form-label"],["type","email","formControlName","email","placeholder","vos@ejemplo.com",1,"form-control"],["type","text","formControlName","obra","placeholder","Obra Social",1,"form-control","border"],["type","password","formControlName","contrasena","placeholder","Contrase\xf1a",1,"form-control","border"],[1,"text-muted"],["formControlName","foto1","type","file","accept",".png,.jpg",2,"color","white",3,"change"],["class","invalid",4,"ngIf"],["formControlName","foto2","type","file","accept",".png,.jpg",2,"color","white",3,"change"],[1,"my-4"],["type","submit",1,"fadeIn","fourth","boton-Agregar","cursor",3,"disabled"],[1,"invalid","rojo"],[1,"invalid"]],template:function(t,r){1&t&&(l.TgZ(0,"h3",0),l._uU(1," ALTA USUARIO "),l.qZA(),l._UZ(2,"br")(3,"br"),l.TgZ(4,"form",1),l.NdJ("ngSubmit",function(){return r.Registrar()}),l.TgZ(5,"div",2)(6,"div",3)(7,"label",4),l._uU(8,"Nombre"),l.qZA(),l._UZ(9,"input",5),l.YNc(10,s6,2,0,"small",6),l.YNc(11,o6,2,0,"small",6),l.qZA(),l.TgZ(12,"div",3)(13,"label",7),l._uU(14,"Apellido"),l.qZA(),l._UZ(15,"input",8),l.YNc(16,a6,2,0,"small",6),l.YNc(17,l6,2,0,"small",6),l.qZA(),l.TgZ(18,"div",3)(19,"label",4),l._uU(20,"Edad"),l.qZA(),l._UZ(21,"input",9),l.YNc(22,c6,2,0,"small",6),l.YNc(23,u6,2,0,"small",6),l.YNc(24,d6,2,0,"small",6),l.qZA(),l.TgZ(25,"div",3)(26,"label",4),l._uU(27,"Documento"),l.qZA(),l._UZ(28,"input",10),l.YNc(29,h6,2,0,"small",6),l.YNc(30,f6,2,0,"small",6),l.qZA(),l.TgZ(31,"div",11)(32,"label",12),l._uU(33,"Email"),l.qZA(),l._UZ(34,"input",13),l.YNc(35,p6,2,0,"small",6),l.YNc(36,g6,2,0,"small",6),l.qZA(),l.TgZ(37,"div",3)(38,"label",4),l._uU(39,"Obra Social"),l.qZA(),l._UZ(40,"input",14),l.YNc(41,m6,2,0,"small",6),l.qZA(),l.TgZ(42,"div",3)(43,"label",4),l._uU(44,"Contrase\xf1a"),l.qZA(),l._UZ(45,"input",15),l.YNc(46,_6,2,0,"small",6),l.qZA(),l.TgZ(47,"div",3)(48,"label",12),l._uU(49,"Primer Foto "),l._UZ(50,"span",16),l.qZA(),l.TgZ(51,"input",17),l.NdJ("change",function(a){return r.elegirFoto1(a)}),l.qZA(),l.YNc(52,y6,2,0,"small",6),l.YNc(53,v6,2,1,"small",18),l.qZA(),l.TgZ(54,"div",3)(55,"label",12),l._uU(56,"Segunda Foto "),l._UZ(57,"span",16),l.qZA(),l.TgZ(58,"input",19),l.NdJ("change",function(a){return r.elegirFoto2(a)}),l.qZA(),l.YNc(59,b6,2,0,"small",6),l.YNc(60,w6,2,1,"small",18),l.qZA()(),l._UZ(61,"hr",20),l.TgZ(62,"button",21),l._uU(63,"Registrar"),l.qZA()()),2&t&&(l.xp6(4),l.Q6J("formGroup",r.forma),l.xp6(6),l.Q6J("ngIf",(null==r.forma.controls.nombre.errors?null:r.forma.controls.nombre.errors.required)&&r.forma.controls.nombre.touched),l.xp6(1),l.Q6J("ngIf",(null==r.forma.controls.nombre.errors?null:r.forma.controls.nombre.errors.containsSpaces)&&r.forma.controls.nombre.touched),l.xp6(5),l.Q6J("ngIf",(null==r.forma.controls.apellido.errors?null:r.forma.controls.apellido.errors.required)&&r.forma.controls.apellido.touched),l.xp6(1),l.Q6J("ngIf",(null==r.forma.controls.apellido.errors?null:r.forma.controls.apellido.errors.containsSpaces)&&r.forma.controls.apellido.touched),l.xp6(5),l.Q6J("ngIf",(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.required)&&r.forma.controls.edad.touched),l.xp6(1),l.Q6J("ngIf",(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.min)||(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.max)&&r.forma.controls.edad.touched),l.xp6(1),l.Q6J("ngIf",(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.pattern)&&r.forma.controls.edad.touched),l.xp6(5),l.Q6J("ngIf",(null==r.forma.controls.dni.errors?null:r.forma.controls.dni.errors.required)&&r.forma.controls.dni.touched),l.xp6(1),l.Q6J("ngIf",(null==r.forma.controls.dni.errors?null:r.forma.controls.dni.errors.pattern)&&r.forma.controls.dni.touched),l.xp6(5),l.Q6J("ngIf",(null==r.forma.controls.email.errors?null:r.forma.controls.email.errors.required)&&r.forma.controls.email.touched),l.xp6(1),l.Q6J("ngIf",(null==r.forma.controls.email.errors?null:r.forma.controls.email.errors.containsSpaces)&&r.forma.controls.email.touched),l.xp6(5),l.Q6J("ngIf",(null==r.forma.controls.obra.errors?null:r.forma.controls.obra.errors.required)&&r.forma.controls.obra.touched),l.xp6(5),l.Q6J("ngIf",(null==r.forma.controls.contrasena.errors?null:r.forma.controls.contrasena.errors.required)&&r.forma.controls.contrasena.touched),l.xp6(6),l.Q6J("ngIf",(null==r.forma.controls.foto1.errors?null:r.forma.controls.foto1.errors.required)&&r.forma.controls.foto1.touched),l.xp6(1),l.Q6J("ngIf",r.foto1),l.xp6(6),l.Q6J("ngIf",(null==r.forma.controls.foto2.errors?null:r.forma.controls.foto2.errors.required)&&r.forma.controls.foto2.touched),l.xp6(1),l.Q6J("ngIf",r.foto2),l.xp6(2),l.Q6J("disabled",r.forma.invalid))},dependencies:[hn,Hf,yl,pu,gu,cc,qf],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";html[_ngcontent-%COMP%]{background-image:url(nurse.aa6a87d879c56d7a.jpg)}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-image:url(nurse.aa6a87d879c56d7a.jpg);background-repeat:no-repeat;background-size:cover;background-attachment:fixed}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;color:#008b8b;text-align:center;align-items:center;align-content:center}.rojo[_ngcontent-%COMP%]{color:red}a[_ngcontent-%COMP%]{color:#92badd;display:inline-block;text-decoration:none;font-weight:400}h2[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:600;text-transform:uppercase;display:inline-block;margin:40px 8px 10px;color:#ccc}.boton-Agregar[_ngcontent-%COMP%]:hover{background-color:#1680be;transform:translateY(-4px)}.boton-Agregar[_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}.padding[_ngcontent-%COMP%]{padding-left:10%;padding-right:10%}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px}#formContent[_ngcontent-%COMP%]{border-radius:10px;background:#fff;width:90%;max-width:850px;position:relative;padding:0 0 2%;box-shadow:0 30px 60px #0000004d;text-align:center}.border[_ngcontent-%COMP%]{border-style:solid;border-width:1px;border-color:gray}#formFooter[_ngcontent-%COMP%]{background-color:#f6f6f6;border-top:1px solid #dce8f1;padding:25px;text-align:center;border-radius:0 0 10px 10px}.cursor[_ngcontent-%COMP%]{cursor:pointer}h2.inactive[_ngcontent-%COMP%]{color:#ccc}h2.active[_ngcontent-%COMP%]{color:#0d0d0d;border-bottom:2px solid #5fbae9;cursor:pointer}input[type=button][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%], input[type=reset][_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover, input[type=reset][_ngcontent-%COMP%]:hover{background-color:#39ace7}input[type=button][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active, input[type=reset][_ngcontent-%COMP%]:active{transform:scale(.95)}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#0d0d0d;padding:8px 15px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px}input[type=text][_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%]:placeholder{color:#ccc}.fadeInDown[_ngcontent-%COMP%]{animation-name:fadeInDown;animation-duration:1s;animation-fill-mode:both}@keyframes fadeInDown{0%{opacity:0;transform:translate3d(0,-100%,0)}to{opacity:1;transform:none}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;animation:fadeIn ease-in 1;animation-fill-mode:forwards;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%]{animation-delay:.4s}.fadeIn.second[_ngcontent-%COMP%]{animation-delay:.6s}.fadeIn.third[_ngcontent-%COMP%]{animation-delay:.8s}.fadeIn.fourth[_ngcontent-%COMP%]{animation-delay:1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:"";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#0d0d0d}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}*[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:60%}*[_ngcontent-%COMP%]{box-sizing:border-box}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.b-example-divider[_ngcontent-%COMP%]{height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}.b-example-vr[_ngcontent-%COMP%]{flex-shrink:0;width:1.5rem;height:100vh}.bi[_ngcontent-%COMP%]{vertical-align:-.125em;fill:currentColor}.nav-scroller[_ngcontent-%COMP%]{position:relative;z-index:2;height:2.75rem;overflow-y:hidden}.nav-scroller[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding-bottom:1rem;margin-top:-1px;overflow-x:auto;text-align:center;white-space:nowrap;-webkit-overflow-scrolling:touch}']}),n})();var D6=F(1144);const C6=["addListener","removeListener"],E6=["addEventListener","removeEventListener"],T6=["on","off"];function Bs(n,e,t,r){if((0,wl.m)(t)&&(r=t,t=void 0),r)return Bs(n,e,t).pipe(Ay(r));const[i,a]=function A6(n){return(0,wl.m)(n.addEventListener)&&(0,wl.m)(n.removeEventListener)}(n)?E6.map(u=>h=>n[u](e,h,t)):function I6(n){return(0,wl.m)(n.addListener)&&(0,wl.m)(n.removeListener)}(n)?C6.map(G2(n,e)):function S6(n){return(0,wl.m)(n.on)&&(0,wl.m)(n.off)}(n)?T6.map(G2(n,e)):[];if(!i&&(0,D6.z)(n))return(0,li.z)(u=>Bs(u,e,t))((0,ba.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Mr.y(u=>{const h=(...g)=>u.next(1<g.length?g:g[0]);return i(h),()=>a(h)})}function G2(n,e){return t=>r=>n[t](e,r)}var N6=F(3532);const{isArray:O6}=Array;function z2(n){return 1===n.length&&O6(n[0])?n[0]:n}var dT=F(5032);function hT(...n){const e=(0,gl.jO)(n),t=z2(n);return t.length?new Mr.y(r=>{let i=t.map(()=>[]),a=t.map(()=>!1);r.add(()=>{i=a=null});for(let u=0;!r.closed&&u<t.length;u++)(0,ba.Xf)(t[u]).subscribe((0,cr.x)(r,h=>{if(i[u].push(h),i.every(g=>g.length)){const g=i.map(v=>v.shift());r.next(e?e(...g):g),i.some((v,C)=>!v.length&&a[C])&&r.complete()}},()=>{a[u]=!0,!i[u].length&&r.complete()}));return()=>{i=a=null}}):Io.E}function hi(n){return(0,Wr.e)((e,t)=>{(0,ba.Xf)(n).subscribe((0,cr.x)(t,()=>t.complete(),dT.Z)),!t.closed&&e.subscribe(t)})}function dM(...n){const e=(0,gl.jO)(n);return(0,Wr.e)((t,r)=>{const i=n.length,a=new Array(i);let u=n.map(()=>!1),h=!1;for(let g=0;g<i;g++)(0,ba.Xf)(n[g]).subscribe((0,cr.x)(r,v=>{a[g]=v,!h&&!u[g]&&(u[g]=!0,(h=u.every(Zf.y))&&(u=null))},dT.Z));t.subscribe((0,cr.x)(r,g=>{if(h){const v=[g,...a];r.next(e?e(...v):v)}}))})}new Mr.y(dT.Z),Math,Math,Math;const WG=["*"],dz=["dialog"];function CM(n){return"string"==typeof n}function fg(n){return null!=n}function ry(n){return(n||document.body).getBoundingClientRect()}const hU={animation:!0,transitionTimerDelayMs:5},s4=()=>{},{transitionTimerDelayMs:o4}=hU,hw=new Map,Vs=(n,e,t,r)=>{let i=r.context||{};const a=hw.get(e);if(a)switch(r.runningTransition){case"continue":return Io.E;case"stop":n.run(()=>a.transition$.complete()),i=Object.assign(a.context,i),hw.delete(e)}const u=t(e,r.animation,i)||s4;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>u()),pt(void 0).pipe(function r4(n){return e=>new Mr.y(t=>e.subscribe({next:u=>n.run(()=>t.next(u)),error:u=>n.run(()=>t.error(u)),complete:()=>n.run(()=>t.complete())}))}(n));const h=new wn.x,g=new wn.x,v=h.pipe(function R6(...n){return e=>oi(e,pt(...n))}(!0));hw.set(e,{transition$:h,complete:()=>{g.next(),g.complete()},context:i});const C=function i4(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const S=Bs(e,"transitionend").pipe(hi(v),Zr(({target:L})=>L===e));(function q2(...n){return 1===(n=z2(n)).length?(0,ba.Xf)(n[0]):new Mr.y(function M6(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,ba.Xf)(n[r]).subscribe((0,cr.x)(e,i=>{if(t){for(let a=0;a<t.length;a++)a!==r&&t[a].unsubscribe();t=null}e.next(i)})))}}(n))})(function uM(n=0,e,t=Pp.P){let r=-1;return null!=e&&((0,N6.K)(e)?t=e:r=e),new Mr.y(i=>{let a=function x6(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;a<0&&(a=0);let u=0;return t.schedule(function(){i.closed||(i.next(u++),0<=r?this.schedule(void 0,r):i.complete())},a)})}(C+o4).pipe(hi(v)),S,g).pipe(hi(v)).subscribe(()=>{hw.delete(e),n.run(()=>{u(),h.next(),h.complete()})})}),h.asObservable()};let yT=(()=>{class n{constructor(){this.animation=hU.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),yU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ti]}),n})(),vU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ti]}),n})(),DU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ti]}),n})(),CU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();var fi=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(fi||(fi={})),fi))();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const TU=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function IU(n){const e=Array.from(n.querySelectorAll(TU)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let PU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ti,iv]}),n})(),xM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["",8,"navbar"]]}),n})(),LU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class _g{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let Q4=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(ai(1)).subscribe(()=>{Vs(this._zone,this._el.nativeElement,(t,r)=>{r&&ry(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return Vs(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(l.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),l.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class UU{close(e){}dismiss(e){}}class J4{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new wn.x,this._dismissed=new wn.x,this._hidden=new wn.x,e.instance.dismissEvent.subscribe(a=>{this.dismiss(a)}),this.result=new Promise((a,u)=>{this._resolve=a,this._reject=u}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(hi(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(hi(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function dU(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():pt(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),hT(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var mw=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(mw||(mw={})),mw))();let X4=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new wn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new wn.x,this.hidden=new wn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":CM(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(ai(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},u=hT(Vs(this._zone,t,()=>t.classList.remove("show"),r),Vs(this._zone,this._dialogEl.nativeElement,()=>{},r));return u.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),u}_show(){const t={animation:this.animation,runningTransition:"continue"};hT(Vs(this._zone,this._elRef.nativeElement,(a,u)=>{u&&ry(a),a.classList.add("show")},t),Vs(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Bs(t,"keydown").pipe(hi(this._closed$),Zr(i=>i.which===fi.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(mw.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Bs(this._dialogEl.nativeElement,"mousedown").pipe(hi(this._closed$),(0,Yr.b)(()=>r=!1),yr(()=>Bs(t,"mouseup").pipe(hi(this._closed$),ai(1))),Zr(({target:i})=>t===i)).subscribe(()=>{r=!0}),Bs(t,"click").pipe(hi(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(mw.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=IU(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&Vs(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(de),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&l.Gf(dz,7),2&t){let i;l.iGM(i=l.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(l.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),l.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),l.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},ngContentSelectors:WG,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&t&&l.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),e8=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:a,paddingRight:u}=i;if(t>0){const h=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${h+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=u),i.overflow=a}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),t8=(()=>{class n{constructor(t,r,i,a,u,h){this._applicationRef=t,this._injector=r,this._document=i,this._scrollBar=a,this._rendererFactory=u,this._ngZone=h,this._activeWindowCmptHasChanged=new wn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const g=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{this._ngZone.runOutsideAngular(()=>{const i=Bs(e,"focusin").pipe(hi(t),(0,St.U)(a=>a.target));Bs(e,"keydown").pipe(hi(t),Zr(a=>a.which===fi.Tab),dM(i)).subscribe(([a,u])=>{const[h,g]=IU(e);(u===h||u===e)&&a.shiftKey&&(g.focus(),a.preventDefault()),u===g&&!a.shiftKey&&(h.focus(),a.preventDefault())}),r&&Bs(e,"click").pipe(hi(t),dM(i),(0,St.U)(a=>a[1])).subscribe(a=>a.focus())})})(0,g.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(g.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const a=i.container instanceof HTMLElement?i.container:fg(i.container)?this._document.querySelector(i.container):this._document.body,u=this._rendererFactory.createRenderer(null,null);if(!a)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const h=new UU,g=this._getContentRef(i.injector||t,r,h,i);let v=!1!==i.backdrop?this._attachBackdrop(a):void 0,C=this._attachWindowComponent(a,g.nodes),S=new J4(C,g,v,i.beforeDismiss);return this._registerModalRef(S),this._registerWindowCmpt(C),S.hidden.pipe(ai(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(u.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),h.close=R=>{S.close(R)},h.dismiss=R=>{S.dismiss(R)},this._applyWindowOptions(C.instance,i),1===this._modalRefs.length&&u.addClass(this._document.body,"modal-open"),v&&v.instance&&(this._applyBackdropOptions(v.instance,i),v.changeDetectorRef.detectChanges()),C.changeDetectorRef.detectChanges(),S}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=(0,l.LMc)(Q4,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=(0,l.LMc)(X4,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{fg(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{fg(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,a){return r?r instanceof l.Rgc?this._createFromTemplateRef(r,i):CM(r)?this._createFromString(r):this._createFromComponent(t,r,i,a):new _g([])}_createFromTemplateRef(t,r){const a=t.createEmbeddedView({$implicit:r,close(u){r.close(u)},dismiss(u){r.dismiss(u)}});return this._applicationRef.attachView(a),new _g([a.rootNodes],a)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new _g([[r]])}_createFromComponent(t,r,i,a){const u=l.zs3.create({providers:[{provide:UU,useValue:i}],parent:t}),h=(0,l.LMc)(r,{environmentInjector:this._applicationRef.injector,elementInjector:u}),g=h.location.nativeElement;return a.scrollable&&g.classList.add("component-host-scrollable"),this._applicationRef.attachView(h.hostView),new _g([[g]],h.hostView,h)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(de),l.LFG(e8),l.LFG(l.FYo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),n8=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(yT))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),r8=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(t8),l.LFG(n8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),BU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[r8]}),n})(),HU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ti]}),n})(),QU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ti]}),n})(),XU=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ti]}),n})(),eB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ti]}),n})(),tB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ti]}),n})(),nB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ti]}),n})(),rB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ti]}),n})(),iB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();new l.OlP("live announcer delay",{providedIn:"root",factory:function m8(){return 100}});let sB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ti]}),n})(),oB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const _8=[yU,vU,DU,CU,PU,LU,BU,HU,oB,QU,XU,eB,tB,nB,rB,iB,sB];let y8=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[_8,yU,vU,DU,CU,PU,LU,BU,HU,oB,QU,XU,eB,tB,nB,rB,iB,sB]}),n})(),v8=(()=>{class n{constructor(t,r,i){this.router=t,this.auth=r,this.toastr=i}ngOnInit(){}salir(){this.auth.LogOut(),this.toastr.success("Usuario deslogueado!","Exito")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(On),l.Y36(xl),l.Y36(Ms))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-inicio"]],decls:24,vars:0,consts:[[1,"navbar","navbar-expand-lg","navbar-light","bg-light","div_navbar"],[1,"container-fluid"],["src","../../../assets/logos/icons8-caduceus-100.png",1,"logo"],["type","button","data-mdb-toggle","collapse","data-mdb-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"fas","fa-bars"],["id","navbarNav",1,"collapse","navbar-collapse"],[1,"navbar-nav"],[1,"nav-item"],["aria-current","page","routerLink","/inicio",1,"nav-link","active"],["routerLink","/usuario",1,"nav-link","active"],[1,"nav-link","active"],["routerLink","/inicio/usuarios",1,"nav-link","active"],[1,"nav-link","active",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"nav",0)(1,"div",1),l._UZ(2,"img",2),l.TgZ(3,"button",3),l._UZ(4,"i",4),l.qZA(),l.TgZ(5,"div",5)(6,"ul",6)(7,"li",7)(8,"a",8),l._uU(9,"Home"),l.qZA()(),l.TgZ(10,"li",7)(11,"a",9),l._uU(12,"Features"),l.qZA()(),l.TgZ(13,"li",7)(14,"a",10),l._uU(15,"Pricing"),l.qZA()(),l.TgZ(16,"li",7)(17,"a",11),l._uU(18,"Usuarios"),l.qZA()(),l.TgZ(19,"li",7)(20,"a",12),l.NdJ("click",function(){return r.salir()}),l._uU(21,"Salir"),l.qZA()()()()()(),l.TgZ(22,"body"),l._UZ(23,"router-outlet"),l.qZA())},dependencies:[Su,qm,xM],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";.logo[_ngcontent-%COMP%]{height:60%;width:70px;margin-right:3%}html[_ngcontent-%COMP%]{background-image:url(nurse.aa6a87d879c56d7a.jpg)}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;height:185vh;background-image:url(nurse.aa6a87d879c56d7a.jpg);background-repeat:no-repeat;background-size:cover;background-attachment:fixed}.div_navbar[_ngcontent-%COMP%]{box-shadow:-1px 10px 49px -19px #000000c4}li[_ngcontent-%COMP%]{margin-right:5%;padding-left:2%;padding-right:2%;font-weight:700;font-size:large;transition:all .3s ease 0s;cursor:pointer;outline:none}li[_ngcontent-%COMP%]:hover{background-color:#1680be;transform:translateY(-7px)}li[_ngcontent-%COMP%]:active{transform:translateY(-1px)}']}),n})(),b8=(()=>{class n{constructor(t,r){this.authService=t,this.afs=r,this.especialidades=[]}cargarEspecialidades(){return this.itemsCollection=this.afs.collection("especialidades"),this.itemsCollection.valueChanges().subscribe(t=>{this.especialidades=[],t.forEach(r=>{this.especialidades.push(r)})})}agregarEspecialidades(t){let r={nombre:t};return this.afs.collection("especialidades").add(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(xl),l.LFG($2))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function w8(n,e){1&n&&(l.TgZ(0,"small",26),l._uU(1," El nombre es requerido "),l.qZA())}function D8(n,e){1&n&&(l.TgZ(0,"small",26),l._uU(1," El nombre no puede contener espacios "),l.qZA())}function C8(n,e){1&n&&(l.TgZ(0,"small",26),l._uU(1," El apellido es requerido "),l.qZA())}function E8(n,e){1&n&&(l.TgZ(0,"small",26),l._uU(1," El apellido no puede contener espacios "),l.qZA())}function T8(n,e){1&n&&(l.TgZ(0,"small",26),l._uU(1," La edad es requerida "),l.qZA())}function I8(n,e){1&n&&(l.TgZ(0,"small",26),l._uU(1," La edad debe ser de 18 a 99 a\xf1os "),l.qZA())}function S8(n,e){1&n&&(l.TgZ(0,"small",26),l._uU(1," La edad solo puede contener numeros "),l.qZA())}function A8(n,e){1&n&&(l.TgZ(0,"small",26),l._uU(1," El dni es requerido "),l.qZA())}function N8(n,e){1&n&&(l.TgZ(0,"small",26),l._uU(1," El dni solo puede contener numeros "),l.qZA())}function x8(n,e){1&n&&(l.TgZ(0,"small",26),l._uU(1," El email es requerido "),l.qZA())}function O8(n,e){1&n&&(l.TgZ(0,"small",26),l._uU(1," El email no puede contener espacios "),l.qZA())}function M8(n,e){1&n&&(l.TgZ(0,"small",26),l._uU(1," La contrasena es requerida "),l.qZA())}function R8(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",29),l.NdJ("click",function(){l.CHM(t);const i=l.oxw().$implicit,a=l.oxw();return l.KtG(a.agregarEspecialidad(i.nombre))}),l._uU(1),l.qZA()}if(2&n){const t=l.oxw().$implicit;l.xp6(1),l.Oqu(t.nombre)}}function P8(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",30),l.NdJ("click",function(){l.CHM(t);const i=l.oxw().$implicit,a=l.oxw();return l.KtG(a.quitarEspecialidad(i.nombre))}),l._uU(1),l.qZA()}if(2&n){const t=l.oxw().$implicit;l.xp6(1),l.Oqu(t.nombre)}}function k8(n,e){if(1&n&&(l.TgZ(0,"div"),l.YNc(1,R8,2,1,"button",27),l.YNc(2,P8,2,1,"button",28),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.xp6(1),l.Q6J("ngIf",!r.especialidades.includes(t.nombre)),l.xp6(1),l.Q6J("ngIf",r.especialidades.includes(t.nombre))}}function F8(n,e){1&n&&(l.TgZ(0,"small",26),l._uU(1," La Foto es requerida "),l.qZA())}function L8(n,e){if(1&n&&(l.TgZ(0,"small",31),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.hij(" ",t.foto.name," ")}}let aB=(()=>{class n{constructor(t,r,i,a,u){this.authService=t,this.fb=r,this.router=i,this.toastr=a,this.base=u,this.user={},this.especialidades=[],this.forma=this.fb.group({nombre:["",[nn.required,this.spacesValidator]],apellido:["",[nn.required,this.spacesValidator]],edad:["",[nn.required,nn.min(18),nn.max(99),nn.pattern("^[0-9]*$")]],email:["",[nn.required,this.spacesValidator]],dni:["",nn.required,nn.pattern("^[0-9]*$")],contrasena:["",nn.required],foto:["",nn.required],especialidadNueva:[""]})}ngOnInit(){this.base.cargarEspecialidades()}Registrar(){var t=this;return(0,pe.Z)(function*(){0==(yield t.authService.ChequearEmail(t.forma.get("email").value))?(console.log("registrando"),t.toastr.success("","Registrando"),t.user.email=t.forma.get("email").value,t.user.password=t.forma.get("contrasena").value,t.user.nombre=t.forma.get("nombre").value,t.user.apellido=t.forma.get("apellido").value,t.user.edad=t.forma.get("edad").value,t.user.especialidad=t.especialidades,t.user.dni=t.forma.get("dni").value,t.user.foto=t.foto,t.user.perfil="especialista",(yield t.authService.onRegisterEspecialista(t.user))&&(t.toastr.success("Usuario Registrado","Exito"),setTimeout((0,pe.Z)(function*(){const i=yield t.authService.onLogin(t.user);i?(console.info("usuario encontrado: ",i),t.toastr.success("Ingreso exitoso!","Exito"),t.router.navigate(["inicio"])):t.toastr.error("Hubo un error","Error")}),3e3))):t.toastr.error("La direccion de correo ya esta en uso!","Error")})()}agregarEspecialidad(t){""!=t?this.especialidades.push(t):this.toastr.error("Debe ingresar una especialidad!","Error")}elegirFoto(t){this.foto=t.target.files[0]}quitarEspecialidad(t){this.especialidades.splice(this.especialidades.findIndex(r=>r==t),1)}subirEspecialidad(){""==this.forma.get("especialidadNueva").value?this.toastr.error("Debe ingresar una especialidad","Error"):this.base.agregarEspecialidades(this.forma.get("especialidadNueva").value)}ingresar(){this.router.navigateByUrl("")}usuario(){this.router.navigateByUrl("registrar")}spacesValidator(t){return t.value.includes(" ")?{containsSpaces:!0}:null}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(xl),l.Y36(Ca),l.Y36(On),l.Y36(Ms),l.Y36(b8))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-registro-especialista"]],decls:66,vars:17,consts:[[1,"center"],[1,"needs-validation","padding",3,"formGroup","ngSubmit"],[1,"row","g-3"],[1,"col-sm-6"],["for","firstName",1,"form-label"],["type","text","formControlName","nombre","placeholder","Nombre","reuired","",1,"form-control","border"],["class","invalid texto_rojo",4,"ngIf"],["for","lastName",1,"form-label"],["type","text","formControlName","apellido","placeholder","Apellido",1,"form-control","border"],["type","text","formControlName","edad","placeholder","Edad",1,"form-control","border"],["type","text","formControlName","dni","placeholder","DNI",1,"form-control","border"],[1,"col-12"],["for","email",1,"form-label"],["type","email","formControlName","email","placeholder","vos@ejemplo.com",1,"form-control"],["type","password","formControlName","contrasena","placeholder","contrase\xf1a",1,"form-control","border"],["type","text","formControlName","especialidadNueva","placeholder","Especialidad",1,"form-control","border"],["type","button","value","",1,"fadeIn","fourth","boton-Agregar",3,"click"],[1,"div_botones"],[1,"form-label"],[1,"text-muted"],[1,"segundo_div"],[4,"ngFor","ngForOf"],["formControlName","foto","type","file","accept",".png,.jpg",2,"color","white",3,"change"],["class","invalid",4,"ngIf"],[1,"my-4"],["type","submit",1,"fadeIn","fourth","boton-Agregar","cursor",3,"disabled"],[1,"invalid","texto_rojo"],["type","button","class","fadeIn boton-especialidad celeste","value","",3,"click",4,"ngIf"],["type","button","class","fadeIn boton-especialidad rojo","value","",3,"click",4,"ngIf"],["type","button","value","",1,"fadeIn","boton-especialidad","celeste",3,"click"],["type","button","value","",1,"fadeIn","boton-especialidad","rojo",3,"click"],[1,"invalid"]],template:function(t,r){1&t&&(l.TgZ(0,"h3",0),l._uU(1," ALTA ESPECIALISTA "),l.qZA(),l._UZ(2,"br")(3,"br"),l.TgZ(4,"form",1),l.NdJ("ngSubmit",function(){return r.Registrar()}),l.TgZ(5,"div",2)(6,"div",3)(7,"label",4),l._uU(8,"Nombre"),l.qZA(),l._UZ(9,"input",5),l.YNc(10,w8,2,0,"small",6),l.YNc(11,D8,2,0,"small",6),l.qZA(),l.TgZ(12,"div",3)(13,"label",7),l._uU(14,"Apellido"),l.qZA(),l._UZ(15,"input",8),l.YNc(16,C8,2,0,"small",6),l.YNc(17,E8,2,0,"small",6),l.qZA(),l.TgZ(18,"div",3)(19,"label",4),l._uU(20,"Edad"),l.qZA(),l._UZ(21,"input",9),l.YNc(22,T8,2,0,"small",6),l.YNc(23,I8,2,0,"small",6),l.YNc(24,S8,2,0,"small",6),l.qZA(),l.TgZ(25,"div",3)(26,"label",4),l._uU(27,"Documento"),l.qZA(),l._UZ(28,"input",10),l.YNc(29,A8,2,0,"small",6),l.YNc(30,N8,2,0,"small",6),l.qZA(),l.TgZ(31,"div",11)(32,"label",12),l._uU(33,"Email "),l.qZA(),l._UZ(34,"input",13),l.YNc(35,x8,2,0,"small",6),l.YNc(36,O8,2,0,"small",6),l.qZA(),l.TgZ(37,"div",11)(38,"label",4),l._uU(39,"Contrase\xf1a"),l.qZA(),l._UZ(40,"input",14),l.YNc(41,M8,2,0,"small",6),l.qZA(),l.TgZ(42,"div",3)(43,"label",4),l._uU(44,"Nueva especialidad"),l.qZA(),l._UZ(45,"input",15),l.qZA(),l.TgZ(46,"div",3)(47,"div")(48,"button",16),l.NdJ("click",function(){return r.subirEspecialidad()}),l._uU(49,"Agregar"),l.qZA()()(),l.TgZ(50,"div",17)(51,"label",18),l._uU(52,"Especialidad "),l._UZ(53,"span",19),l.qZA(),l.TgZ(54,"div",20),l.YNc(55,k8,3,2,"div",21),l.qZA()(),l.TgZ(56,"div",11)(57,"label",12),l._uU(58,"Foto "),l._UZ(59,"span",19),l.qZA(),l.TgZ(60,"input",22),l.NdJ("change",function(a){return r.elegirFoto(a)}),l.qZA(),l.YNc(61,F8,2,0,"small",6),l.YNc(62,L8,2,1,"small",23),l.qZA()(),l._UZ(63,"hr",24),l.TgZ(64,"button",25),l._uU(65,"Registrar"),l.qZA()()),2&t&&(l.xp6(4),l.Q6J("formGroup",r.forma),l.xp6(6),l.Q6J("ngIf",(null==r.forma.controls.nombre.errors?null:r.forma.controls.nombre.errors.required)&&r.forma.controls.nombre.touched),l.xp6(1),l.Q6J("ngIf",(null==r.forma.controls.nombre.errors?null:r.forma.controls.nombre.errors.containsSpaces)&&r.forma.controls.nombre.touched),l.xp6(5),l.Q6J("ngIf",(null==r.forma.controls.apellido.errors?null:r.forma.controls.apellido.errors.required)&&r.forma.controls.apellido.touched),l.xp6(1),l.Q6J("ngIf",(null==r.forma.controls.apellido.errors?null:r.forma.controls.apellido.errors.containsSpaces)&&r.forma.controls.apellido.touched),l.xp6(5),l.Q6J("ngIf",(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.required)&&r.forma.controls.edad.touched),l.xp6(1),l.Q6J("ngIf",(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.min)||(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.max)&&r.forma.controls.edad.touched),l.xp6(1),l.Q6J("ngIf",(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.pattern)&&r.forma.controls.edad.touched),l.xp6(5),l.Q6J("ngIf",(null==r.forma.controls.dni.errors?null:r.forma.controls.dni.errors.required)&&r.forma.controls.dni.touched),l.xp6(1),l.Q6J("ngIf",(null==r.forma.controls.dni.errors?null:r.forma.controls.dni.errors.pattern)&&r.forma.controls.dni.touched),l.xp6(5),l.Q6J("ngIf",(null==r.forma.controls.email.errors?null:r.forma.controls.email.errors.required)&&r.forma.controls.email.touched),l.xp6(1),l.Q6J("ngIf",(null==r.forma.controls.email.errors?null:r.forma.controls.email.errors.containsSpaces)&&r.forma.controls.email.touched),l.xp6(5),l.Q6J("ngIf",(null==r.forma.controls.contrasena.errors?null:r.forma.controls.contrasena.errors.required)&&r.forma.controls.contrasena.touched),l.xp6(14),l.Q6J("ngForOf",r.base.especialidades),l.xp6(6),l.Q6J("ngIf",(null==r.forma.controls.foto.errors?null:r.forma.controls.foto.errors.required)&&r.forma.controls.foto.touched),l.xp6(1),l.Q6J("ngIf",r.foto),l.xp6(2),l.Q6J("disabled",r.forma.invalid))},dependencies:[$r,hn,Hf,yl,pu,gu,cc,qf],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";html[_ngcontent-%COMP%]{background-image:url(nurse.aa6a87d879c56d7a.jpg)}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-image:url(nurse.aa6a87d879c56d7a.jpg);background-repeat:no-repeat;background-size:cover;background-attachment:fixed}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;color:#008b8b;text-align:center;align-items:center;align-content:center}.rojo[_ngcontent-%COMP%]{color:red}a[_ngcontent-%COMP%]{color:#92badd;display:inline-block;text-decoration:none;font-weight:400}h2[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:600;text-transform:uppercase;display:inline-block;margin:40px 8px 10px;color:#ccc}.padding[_ngcontent-%COMP%]{padding-left:10%;padding-right:10%}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px}#formContent[_ngcontent-%COMP%]{border-radius:10px;background:#fff;width:90%;max-width:850px;position:relative;padding:0 0 2%;box-shadow:0 30px 60px #0000004d;text-align:center}.border[_ngcontent-%COMP%]{border-style:solid;border-width:1px;border-color:gray}#formFooter[_ngcontent-%COMP%]{background-color:#f6f6f6;border-top:1px solid #dce8f1;padding:25px;text-align:center;border-radius:0 0 10px 10px}h2.inactive[_ngcontent-%COMP%]{color:#ccc}h2.active[_ngcontent-%COMP%]{color:#0d0d0d;border-bottom:2px solid #5fbae9;cursor:pointer}input[type=button][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%], input[type=reset][_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover, input[type=reset][_ngcontent-%COMP%]:hover{background-color:#39ace7}input[type=button][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active, input[type=reset][_ngcontent-%COMP%]:active{transform:scale(.95)}input[type=text][_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#0d0d0d;padding:8px 15px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px}input[type=text][_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%]:placeholder{color:#ccc}.fadeInDown[_ngcontent-%COMP%]{animation-name:fadeInDown;animation-duration:1s;animation-fill-mode:both}@keyframes fadeInDown{0%{opacity:0;transform:translate3d(0,-100%,0)}to{opacity:1;transform:none}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;animation:fadeIn ease-in 1;animation-fill-mode:forwards;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%]{animation-delay:.4s}.fadeIn.second[_ngcontent-%COMP%]{animation-delay:.6s}.fadeIn.third[_ngcontent-%COMP%]{animation-delay:.8s}.fadeIn.fourth[_ngcontent-%COMP%]{animation-delay:1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:"";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#0d0d0d}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}*[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:60%}*[_ngcontent-%COMP%]{box-sizing:border-box}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.b-example-divider[_ngcontent-%COMP%]{height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}.boton-especialidad[_ngcontent-%COMP%]{color:#fff;padding-left:2%;padding-right:2%;margin-top:2%;border-radius:15px;margin-left:10%;margin-right:10%;display:block}.segundo_div[_ngcontent-%COMP%]{float:right;display:flex;align-items:center;align-content:center;text-align:center}.boton-Agregar[_ngcontent-%COMP%]:hover{background-color:#1680be;transform:translateY(-4px)}.boton-Agregar[_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}.celeste[_ngcontent-%COMP%]{background-color:#39ace7}.rojo[_ngcontent-%COMP%]{background-color:red}.texto_rojo[_ngcontent-%COMP%]{color:red}.div_botones[_ngcontent-%COMP%]{width:100%;margin-left:auto;margin-right:auto;display:block;align-items:center;align-content:center;text-align:center}.b-example-vr[_ngcontent-%COMP%]{flex-shrink:0;width:1.5rem;height:100vh}.bi[_ngcontent-%COMP%]{vertical-align:-.125em;fill:currentColor}.nav-scroller[_ngcontent-%COMP%]{position:relative;z-index:2;height:2.75rem;overflow-y:hidden}.nav-scroller[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding-bottom:1rem;margin-top:-1px;overflow-x:auto;text-align:center;white-space:nowrap;-webkit-overflow-scrolling:touch}']}),n})(),U8=(()=>{class n{constructor(t,r,i){this.autentificador=t,this.router=r,this.toastr=i}canActivate(t,r){return this.verificar()}verificar(){return!!this.autentificador.isLogged||(this.toastr.error("Debe estar logueado!","Error"),this.router.navigate([""]),!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(xl),l.LFG(On),l.LFG(Ms))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function B8(n,e){1&n&&(l.TgZ(0,"h3"),l._uU(1,"NO HAY APROBACIONES PENDIENTES"),l.qZA())}function V8(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",5)(1,"div")(2,"p"),l._uU(3),l.qZA()(),l.TgZ(4,"button",6),l.NdJ("click",function(){const a=l.CHM(t).$implicit,u=l.oxw();return l.KtG(u.MostrarDetale(a))}),l._uU(5,"Detalles"),l.qZA()()}if(2&n){const t=e.$implicit;l.xp6(3),l.Oqu(t.apellido+", "+t.nombre)}}function j8(n,e){1&n&&(l.TgZ(0,"div")(1,"div",7)(2,"h2",8),l._uU(3," LISTADO "),l.qZA(),l.TgZ(4,"h2",9),l._uU(5," ADMINISTRADOR "),l.qZA(),l.TgZ(6,"h2",10),l._uU(7," USUARIO "),l.qZA(),l.TgZ(8,"h2",11),l._uU(9," ESPECIALISTA "),l.qZA()(),l.TgZ(10,"div",12),l._UZ(11,"img",13),l.qZA(),l._UZ(12,"br")(13,"br")(14,"router-outlet"),l.qZA())}function $8(n,e){if(1&n&&(l.TgZ(0,"p"),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.hij("- ",t,"")}}function H8(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"div",7)(2,"h2",14),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.altaAdmin())}),l._uU(3," ALTAS "),l.qZA(),l.TgZ(4,"h2",15),l._uU(5," DETALLE "),l.qZA(),l._UZ(6,"img",16),l.qZA(),l._UZ(7,"br")(8,"br"),l.TgZ(9,"form",17)(10,"div",18)(11,"div",19)(12,"label",20),l._uU(13),l.qZA()(),l.TgZ(14,"div",19)(15,"label",21),l._uU(16),l.qZA()(),l.TgZ(17,"div",19)(18,"label",20),l._uU(19),l.qZA()(),l.TgZ(20,"div",19)(21,"label",20),l._uU(22),l.qZA()(),l.TgZ(23,"div",22)(24,"label",23),l._uU(25),l.qZA()(),l.TgZ(26,"div",19)(27,"label",20),l._uU(28,"Especialidades: "),l.YNc(29,$8,2,1,"p",24),l.qZA()()(),l._UZ(30,"hr",1),l.TgZ(31,"button",25),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.aprobar(i.especialista.uid))}),l._uU(32,"APROBAR"),l.qZA()()()}if(2&n){const t=l.oxw();l.xp6(6),l.s9C("src",t.especialista.foto,l.LSH),l.xp6(7),l.hij("Nombre: ",t.especialista.nombre,""),l.xp6(3),l.hij("Apellido: ",t.especialista.apellido," "),l.xp6(3),l.hij("Edad: ",t.especialista.edad,""),l.xp6(3),l.hij("Documento: ",t.especialista.dni,""),l.xp6(3),l.hij("Email: ",t.especialista.email,""),l.xp6(4),l.Q6J("ngForOf",t.especialista.especialidades)}}let G8=(()=>{class n{constructor(t,r,i,a){this.toastr=t,this.fb=r,this.auth=i,this.router=a,this.mostrarDetalle=!1,this.especialista=null,this.user={}}ngOnInit(){this.auth.ObtenerNoAprobados()}MostrarDetale(t){this.mostrarDetalle=!0,this.especialista=t}altaAdmin(){this.router.navigateByUrl("usuarios"),this.mostrarDetalle=!1}altaUsuario(){this.router.navigateByUrl("usuario-registrar"),this.mostrarDetalle=!1}altaEspecialista(){this.router.navigateByUrl("especialista-registrar"),this.mostrarDetalle=!1}aprobar(t){this.auth.aprobarEspecialista(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ms),l.Y36(Ca),l.Y36(xl),l.Y36(On))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-usuarios"]],decls:11,vars:4,consts:[[1,"div_izquierda"],[1,"my-4"],[4,"ngIf"],["class","div_aprobaciones",4,"ngFor","ngForOf"],[1,"div_derecha"],[1,"div_aprobaciones"],[1,"boton_detalles",3,"click"],[1,"fadeIn","first","center"],["routerLink","listado",1,"active","cursor"],["routerLink","admin-registrar",1,"active","cursor"],["routerLink","usuario-registrar",1,"active","cursor"],["routerLink","especialista-registrar",1,"active","cursor"],[1,"fadeIn","first"],["src","../../../assets/logos/icons8-usuario-masculino-en-c\xedrculo-100.png","id","icon","alt","User Icon",1,"center",2,"width","100px"],[1,"inactive","cursor",3,"click"],[1,"active","cursor"],["id","icon","alt","User Icon",1,"center","img_espe",2,"width","100px",3,"src"],[1,"needs-validation","padding"],[1,"row","g-3"],[1,"col-sm-6"],["for","firstName",1,"form-label","label_desc"],["for","lastName",1,"form-label","label_desc"],[1,"col-12"],["for","email",1,"form-label","label_desc"],[4,"ngFor","ngForOf"],["type","submit",1,"fadeIn","fourth","boton-Agregar",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"body")(1,"div",0)(2,"h3"),l._uU(3,"APROBACIONES PENDIENTES"),l.qZA(),l._UZ(4,"hr",1),l.YNc(5,B8,2,0,"h3",2),l.YNc(6,V8,6,1,"div",3),l._UZ(7,"hr",1),l.qZA(),l.TgZ(8,"div",4),l.YNc(9,j8,15,0,"div",2),l.YNc(10,H8,33,7,"div",2),l.qZA()()),2&t&&(l.xp6(5),l.Q6J("ngIf",0==r.auth.noAprobadosA.length),l.xp6(1),l.Q6J("ngForOf",r.auth.noAprobadosA),l.xp6(3),l.Q6J("ngIf",!r.mostrarDetalle),l.xp6(1),l.Q6J("ngIf",r.mostrarDetalle))},dependencies:[$r,hn,Su,th,Hf,gu,yu],styles:['.body[_ngcontent-%COMP%]{display:flex}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;color:#008b8b;text-align:center;align-items:center;align-content:center}.margin-top[_ngcontent-%COMP%]{margin-top:3%}.div_izquierda[_ngcontent-%COMP%]{float:left;background-color:#f0f8ff;font-weight:700;border-radius:10px;width:25%;height:80%;padding:2% 4%;margin-left:5%;margin-top:5%;text-align:center;color:#008b8b;box-shadow:-1px 10px 49px -19px #000000c4}.div_derecha[_ngcontent-%COMP%]{float:right;background-color:#f0f8ff;border-radius:10px;width:60%;height:80%;padding:2%;margin-right:5%;margin-top:5%;box-shadow:-1px 10px 49px -19px #000000c4}.div_aprobaciones[_ngcontent-%COMP%]{width:100%;height:10%;color:#000;font-weight:600;display:flex}.boton_detalles[_ngcontent-%COMP%]{background-color:#008b8b;border:none;color:#fff;padding:2% 5%;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;font-weight:600;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:0 20px 5px 10px;transition:all .3s ease 0s}.boton_detalles[_ngcontent-%COMP%]:hover{background-color:#1680be;transform:translateY(-4px)}.cursor[_ngcontent-%COMP%]{cursor:pointer}.rojo[_ngcontent-%COMP%]{color:red}a[_ngcontent-%COMP%]{color:#92badd;display:inline-block;text-decoration:none;font-weight:400}h2[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:600;text-transform:uppercase;display:inline-block;margin:40px 8px 10px;color:#ccc}.label_desc[_ngcontent-%COMP%]{font-weight:600}.img_espe[_ngcontent-%COMP%]{border-radius:50%;border-style:solid;border-width:4px;border-color:#0d0d0d}.boton-Agregar[_ngcontent-%COMP%]{background-color:#008b8b;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin-left:auto;margin-right:auto;display:block;transition:all .3s ease-in-out}.boton-Agregar[_ngcontent-%COMP%]:hover{background-color:#1680be;transform:translateY(-4px)}.padding[_ngcontent-%COMP%]{padding-left:10%;padding-right:10%}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px}#formContent[_ngcontent-%COMP%]{border-radius:10px;background:#fff;width:90%;max-width:850px;position:relative;padding:0;box-shadow:0 30px 60px #0000004d;text-align:center}.border[_ngcontent-%COMP%]{border-style:solid;border-width:1px;border-color:gray}#formFooter[_ngcontent-%COMP%]{background-color:#f6f6f6;border-top:1px solid #dce8f1;padding:25px;text-align:center;border-radius:0 0 10px 10px}h2.inactive[_ngcontent-%COMP%]{color:#ccc}h2.active[_ngcontent-%COMP%]{color:#0d0d0d;border-bottom:2px solid #5fbae9}input[type=button][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%], input[type=reset][_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover, input[type=reset][_ngcontent-%COMP%]:hover{background-color:#39ace7}input[type=button][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active, input[type=reset][_ngcontent-%COMP%]:active{transform:scale(.95)}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#0d0d0d;padding:8px 15px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px}input[type=text][_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%]:placeholder{color:#ccc}.fadeInDown[_ngcontent-%COMP%]{animation-name:fadeInDown;animation-duration:1s;animation-fill-mode:both}@keyframes fadeInDown{0%{opacity:0;transform:translate3d(0,-100%,0)}to{opacity:1;transform:none}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;animation:fadeIn ease-in 1;animation-fill-mode:forwards;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%]{animation-delay:.4s}.fadeIn.second[_ngcontent-%COMP%]{animation-delay:.6s}.fadeIn.third[_ngcontent-%COMP%]{animation-delay:.8s}.fadeIn.fourth[_ngcontent-%COMP%]{animation-delay:1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:"";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#0d0d0d}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}*[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:60%}*[_ngcontent-%COMP%]{box-sizing:border-box}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.b-example-divider[_ngcontent-%COMP%]{height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}.b-example-vr[_ngcontent-%COMP%]{flex-shrink:0;width:1.5rem;height:100vh}.bi[_ngcontent-%COMP%]{vertical-align:-.125em;fill:currentColor}.nav-scroller[_ngcontent-%COMP%]{position:relative;z-index:2;height:2.75rem;overflow-y:hidden}.nav-scroller[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding-bottom:1rem;margin-top:-1px;overflow-x:auto;text-align:center;white-space:nowrap;-webkit-overflow-scrolling:touch}']}),n})(),z8=(()=>{class n{constructor(t,r,i){this.autentificador=t,this.router=r,this.toastr=i}canActivate(t,r){return this.verificar()}verificar(){return"admin"==this.autentificador.UsuarioActivo.perfil||(this.toastr.error("Debe ser administrador para acceder a este componente!","Error"),this.router.navigate(["inicio"]),!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(xl),l.LFG(On),l.LFG(Ms))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),q8=(()=>{class n{constructor(t,r,i){this.autentificador=t,this.router=r,this.toastr=i}canActivate(t,r){return this.verificar()}verificar(){return"especialista"!=this.autentificador.UsuarioActivo.perfil||0!=this.autentificador.UsuarioActivo.aprobado||(this.toastr.error("Su perfil de especialista no ha sido aprobado por un administrador!","Error"),this.autentificador.LogOut(),!1)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(xl),l.LFG(On),l.LFG(Ms))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),W8=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-log-reg-base"]],decls:3,vars:0,consts:[[1,"wrapper","fadeInDown"]],template:function(t,r){1&t&&(l.TgZ(0,"body")(1,"div",0),l._UZ(2,"router-outlet"),l.qZA()())},dependencies:[Su],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";html[_ngcontent-%COMP%]{background-image:url(nurse.aa6a87d879c56d7a.jpg)}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-image:url(nurse.aa6a87d879c56d7a.jpg);background-repeat:no-repeat;background-size:cover;background-attachment:fixed}.boton-Agregar[_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}.celeste[_ngcontent-%COMP%]{background-color:#39ace7}.rojo[_ngcontent-%COMP%]{background-color:red}.texto_rojo[_ngcontent-%COMP%]{color:red}.border[_ngcontent-%COMP%]{border-style:solid;border-width:1px;border-color:gray}a[_ngcontent-%COMP%]{color:#92badd;display:inline-block;text-decoration:none;font-weight:400}h2[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:600;text-transform:uppercase;display:inline-block;margin:40px 8px 10px;color:#ccc}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px}#formContent[_ngcontent-%COMP%]{border-radius:10px;background:#fff;width:90%;max-width:450px;position:relative;padding:0;box-shadow:0 30px 60px #0000004d;text-align:center}#formFooter[_ngcontent-%COMP%]{background-color:#f6f6f6;border-top:1px solid #dce8f1;padding:25px;text-align:center;border-radius:0 0 10px 10px}h2.inactive[_ngcontent-%COMP%]{color:#ccc}h2.active[_ngcontent-%COMP%]{color:#0d0d0d;border-bottom:2px solid #5fbae9}input[type=button][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%], input[type=reset][_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover, input[type=reset][_ngcontent-%COMP%]:hover{background-color:#39ace7}input[type=button][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active, input[type=reset][_ngcontent-%COMP%]:active{transform:scale(.95)}input[type=text][_ngcontent-%COMP%], [type=password][_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#0d0d0d;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px}input[type=text][_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%]:placeholder{color:#ccc}.fadeInDown[_ngcontent-%COMP%]{animation-name:fadeInDown;animation-duration:1s;animation-fill-mode:both}@keyframes fadeInDown{0%{opacity:0;transform:translate3d(0,-100%,0)}to{opacity:1;transform:none}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;animation:fadeIn ease-in 1;animation-fill-mode:forwards;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%]{animation-delay:.4s}.fadeIn.second[_ngcontent-%COMP%]{animation-delay:.6s}.fadeIn.third[_ngcontent-%COMP%]{animation-delay:.8s}.fadeIn.fourth[_ngcontent-%COMP%]{animation-delay:1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:"";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#0d0d0d}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}*[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:60%}*[_ngcontent-%COMP%]{box-sizing:border-box}']}),n})();function Z8(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," El nombre es requerido "),l.qZA())}function K8(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," El nombre no puede contener espacios "),l.qZA())}function Y8(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," El apellido es requerido "),l.qZA())}function Q8(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," El apellido no puede contener espacios "),l.qZA())}function J8(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," La edad es requerida "),l.qZA())}function X8(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," La edad debe ser de 18 a 99 a\xf1os "),l.qZA())}function e5(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," La edad solo puede contener numeros "),l.qZA())}function t5(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," El dni es requerido "),l.qZA())}function n5(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," El dni solo puede contener numeros "),l.qZA())}function r5(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," El email es requerido "),l.qZA())}function i5(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," El email no puede contener espacios "),l.qZA())}function s5(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," La contrasena es requerida "),l.qZA())}function o5(n,e){1&n&&(l.TgZ(0,"small",21),l._uU(1," La Foto es requerida "),l.qZA())}function a5(n,e){if(1&n&&(l.TgZ(0,"small",22),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.hij(" ",t.foto.name," ")}}let l5=(()=>{class n{constructor(t,r,i){this.toastr=t,this.fb=r,this.auth=i,this.especialista=null,this.user={},this.forma=this.fb.group({nombre:["",[nn.required,this.spacesValidator]],apellido:["",[nn.required,this.spacesValidator]],edad:["",[nn.required,nn.min(18),nn.max(99),nn.pattern("^[0-9]*$")]],email:["",[nn.required,this.spacesValidator]],dni:["",nn.required,nn.pattern("^[0-9]*$")],contrasena:["",nn.required],foto:["",nn.required]})}ngOnInit(){}Registrar(){var t=this;return(0,pe.Z)(function*(){t.forma.invalid?t.toastr.error("Debe Llenar todos los datos correctamente!","Error"):0==(yield t.auth.ChequearEmail(t.forma.get("email").value))?(console.log("registrando"),t.toastr.success("","Registrando"),t.user.email=t.forma.get("email").value,t.user.password=t.forma.get("contrasena").value,t.user.nombre=t.forma.get("nombre").value,t.user.apellido=t.forma.get("apellido").value,t.user.edad=t.forma.get("edad").value,t.user.dni=t.forma.get("dni").value,t.user.foto=t.foto,yield t.auth.onRegisterAdmin(t.user)):t.toastr.error("La direccion de correo ya esta en uso!","Error")})()}elegirFoto(t){this.foto=t.target.files[0]}spacesValidator(t){return t.value.includes(" ")?{containsSpaces:!0}:null}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Ms),l.Y36(Ca),l.Y36(xl))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-register-admin"]],decls:53,vars:16,consts:[[1,"fadeIn","first","center"],[1,"center"],[1,"needs-validation","padding",3,"formGroup","ngSubmit"],[1,"row","g-3"],[1,"col-sm-6"],["for","firstName",1,"form-label"],["type","text","formControlName","nombre","placeholder","Nombre","reuired","",1,"form-control","border"],["class","invalid rojo",4,"ngIf"],["for","lastName",1,"form-label"],["type","text","formControlName","apellido","placeholder","Apellido",1,"form-control","border"],["type","text","formControlName","edad","placeholder","Edad",1,"form-control","border"],["type","text","formControlName","dni","placeholder","Documento",1,"form-control","border"],[1,"col-12"],[1,"form-label"],["type","email","formControlName","email","placeholder","vos@ejemplo.com",1,"form-control"],["type","password","formControlName","contrasena","placeholder","Contrase\xf1a",1,"form-control","border"],["for","email",1,"form-label"],["formControlName","foto","type","file","accept",".png,.jpg",2,"color","white",3,"change"],["class","invalid",4,"ngIf"],[1,"my-4"],["type","submit",1,"fadeIn","fourth","boton-Agregar","center","cursor",3,"disabled"],[1,"invalid","rojo"],[1,"invalid"]],template:function(t,r){1&t&&(l.TgZ(0,"div")(1,"div",0)(2,"h3",1),l._uU(3," ALTA ADMIN "),l.qZA()(),l._UZ(4,"br")(5,"br"),l.TgZ(6,"form",2),l.NdJ("ngSubmit",function(){return r.Registrar()}),l.TgZ(7,"div",3)(8,"div",4)(9,"label",5),l._uU(10,"Nombre"),l.qZA(),l._UZ(11,"input",6),l.YNc(12,Z8,2,0,"small",7),l.YNc(13,K8,2,0,"small",7),l.qZA(),l.TgZ(14,"div",4)(15,"label",8),l._uU(16,"Apellido"),l.qZA(),l._UZ(17,"input",9),l.YNc(18,Y8,2,0,"small",7),l.YNc(19,Q8,2,0,"small",7),l.qZA(),l.TgZ(20,"div",4)(21,"label",5),l._uU(22,"Edad"),l.qZA(),l._UZ(23,"input",10),l.YNc(24,J8,2,0,"small",7),l.YNc(25,X8,2,0,"small",7),l.YNc(26,e5,2,0,"small",7),l.qZA(),l.TgZ(27,"div",4)(28,"label",5),l._uU(29,"Documento"),l.qZA(),l._UZ(30,"input",11),l.YNc(31,t5,2,0,"small",7),l.YNc(32,n5,2,0,"small",7),l.qZA(),l.TgZ(33,"div",12)(34,"label",13),l._uU(35,"Email"),l.qZA(),l._UZ(36,"input",14),l.YNc(37,r5,2,0,"small",7),l.YNc(38,i5,2,0,"small",7),l.qZA(),l.TgZ(39,"div",4)(40,"label",5),l._uU(41,"Contrase\xf1a"),l.qZA(),l._UZ(42,"input",15),l.YNc(43,s5,2,0,"small",7),l.qZA(),l.TgZ(44,"div",4)(45,"label",16),l._uU(46,"Foto"),l.qZA(),l.TgZ(47,"input",17),l.NdJ("change",function(a){return r.elegirFoto(a)}),l.qZA(),l.YNc(48,o5,2,0,"small",7),l.YNc(49,a5,2,1,"small",18),l.qZA()(),l._UZ(50,"hr",19),l.TgZ(51,"button",20),l._uU(52,"Registrar"),l.qZA()()()),2&t&&(l.xp6(6),l.Q6J("formGroup",r.forma),l.xp6(6),l.Q6J("ngIf",(null==r.forma.controls.nombre.errors?null:r.forma.controls.nombre.errors.required)&&r.forma.controls.nombre.touched),l.xp6(1),l.Q6J("ngIf",(null==r.forma.controls.nombre.errors?null:r.forma.controls.nombre.errors.containsSpaces)&&r.forma.controls.nombre.touched),l.xp6(5),l.Q6J("ngIf",(null==r.forma.controls.apellido.errors?null:r.forma.controls.apellido.errors.required)&&r.forma.controls.apellido.touched),l.xp6(1),l.Q6J("ngIf",(null==r.forma.controls.apellido.errors?null:r.forma.controls.apellido.errors.containsSpaces)&&r.forma.controls.apellido.touched),l.xp6(5),l.Q6J("ngIf",(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.required)&&r.forma.controls.edad.touched),l.xp6(1),l.Q6J("ngIf",(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.min)||(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.max)&&r.forma.controls.edad.touched),l.xp6(1),l.Q6J("ngIf",(null==r.forma.controls.edad.errors?null:r.forma.controls.edad.errors.pattern)&&r.forma.controls.edad.touched),l.xp6(5),l.Q6J("ngIf",(null==r.forma.controls.dni.errors?null:r.forma.controls.dni.errors.required)&&r.forma.controls.dni.touched),l.xp6(1),l.Q6J("ngIf",(null==r.forma.controls.dni.errors?null:r.forma.controls.dni.errors.pattern)&&r.forma.controls.dni.touched),l.xp6(5),l.Q6J("ngIf",(null==r.forma.controls.email.errors?null:r.forma.controls.email.errors.required)&&r.forma.controls.email.touched),l.xp6(1),l.Q6J("ngIf",(null==r.forma.controls.email.errors?null:r.forma.controls.email.errors.containsSpaces)&&r.forma.controls.email.touched),l.xp6(5),l.Q6J("ngIf",(null==r.forma.controls.contrasena.errors?null:r.forma.controls.contrasena.errors.required)&&r.forma.controls.contrasena.touched),l.xp6(5),l.Q6J("ngIf",(null==r.forma.controls.foto.errors?null:r.forma.controls.foto.errors.required)&&r.forma.controls.foto.touched),l.xp6(1),l.Q6J("ngIf",r.foto),l.xp6(2),l.Q6J("disabled",r.forma.invalid))},dependencies:[hn,Hf,yl,pu,gu,cc,qf],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";html[_ngcontent-%COMP%]{background-image:url(nurse.aa6a87d879c56d7a.jpg)}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-image:url(nurse.aa6a87d879c56d7a.jpg);background-repeat:no-repeat;background-size:cover;background-attachment:fixed}.center[_ngcontent-%COMP%]{display:block;margin-left:auto;margin-right:auto;color:#008b8b;text-align:center;align-items:center;align-content:center}.rojo[_ngcontent-%COMP%]{color:red}a[_ngcontent-%COMP%]{color:#92badd;display:inline-block;text-decoration:none;font-weight:400}h2[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:600;text-transform:uppercase;display:inline-block;margin:40px 8px 10px;color:#ccc}.boton-Agregar[_ngcontent-%COMP%]:hover{background-color:#1680be;transform:translateY(-4px)}.boton-Agregar[_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}.padding[_ngcontent-%COMP%]{padding-left:10%;padding-right:10%}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px}#formContent[_ngcontent-%COMP%]{border-radius:10px;background:#fff;width:90%;max-width:850px;position:relative;padding:0;box-shadow:0 30px 60px #0000004d;text-align:center;align-items:center;align-content:center}.border[_ngcontent-%COMP%]{border-style:solid;border-width:1px;border-color:gray}#formFooter[_ngcontent-%COMP%]{background-color:#f6f6f6;border-top:1px solid #dce8f1;padding:25px;text-align:center;border-radius:0 0 10px 10px}h2.inactive[_ngcontent-%COMP%]{color:#ccc}h2.active[_ngcontent-%COMP%]{color:#0d0d0d;border-bottom:2px solid #5fbae9;cursor:pointer}input[type=button][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%], input[type=reset][_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover, input[type=reset][_ngcontent-%COMP%]:hover{background-color:#39ace7}input[type=button][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active, input[type=reset][_ngcontent-%COMP%]:active{transform:scale(.95)}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#0d0d0d;padding:8px 15px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px}input[type=text][_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%]:placeholder{color:#ccc}.fadeInDown[_ngcontent-%COMP%]{animation-name:fadeInDown;animation-duration:1s;animation-fill-mode:both}@keyframes fadeInDown{0%{opacity:0;transform:translate3d(0,-100%,0)}to{opacity:1;transform:none}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;animation:fadeIn ease-in 1;animation-fill-mode:forwards;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%]{animation-delay:.4s}.fadeIn.second[_ngcontent-%COMP%]{animation-delay:.6s}.fadeIn.third[_ngcontent-%COMP%]{animation-delay:.8s}.fadeIn.fourth[_ngcontent-%COMP%]{animation-delay:1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:"";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#0d0d0d}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}*[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:60%}*[_ngcontent-%COMP%]{box-sizing:border-box}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.b-example-divider[_ngcontent-%COMP%]{height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}.b-example-vr[_ngcontent-%COMP%]{flex-shrink:0;width:1.5rem;height:100vh}.bi[_ngcontent-%COMP%]{vertical-align:-.125em;fill:currentColor}.nav-scroller[_ngcontent-%COMP%]{position:relative;z-index:2;height:2.75rem;overflow-y:hidden}.nav-scroller[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding-bottom:1rem;margin-top:-1px;overflow-x:auto;text-align:center;white-space:nowrap;-webkit-overflow-scrolling:touch}']}),n})(),c5=(()=>{class n{constructor(t){this.router=t}ngOnInit(){}ingresar(){this.router.navigateByUrl("")}usuario(){this.router.navigateByUrl("registro")}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(On))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-registros"]],decls:14,vars:0,consts:[["id","formContent"],[1,"active","cursor",3,"click"],["routerLink","especialista",1,"active","cursor"],[1,"fadeIn","first"],["src","../../../assets/logos/icons8-usuario-masculino-en-c\xedrculo-100.png","id","icon","alt","User Icon",2,"width","100px"],[1,"cursor",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"h2",1),l.NdJ("click",function(){return r.usuario()}),l._uU(2,"Usuario"),l.qZA(),l.TgZ(3,"h2",2),l._uU(4," Especialista "),l.qZA(),l.TgZ(5,"div",3),l._UZ(6,"img",4),l.qZA(),l._UZ(7,"br")(8,"br")(9,"router-outlet"),l.TgZ(10,"p"),l._uU(11,"\xbfYa tienes una cuenta? "),l.TgZ(12,"b",5),l.NdJ("click",function(){return r.ingresar()}),l._uU(13,"Ingresa"),l.qZA()()())},dependencies:[Su,th],styles:['@import"https://fonts.googleapis.com/css?family=Poppins";html[_ngcontent-%COMP%]{background-image:url(nurse.aa6a87d879c56d7a.jpg)}body[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;background-image:url(nurse.aa6a87d879c56d7a.jpg);background-repeat:no-repeat;background-size:cover;background-attachment:fixed}.rojo[_ngcontent-%COMP%]{color:red}a[_ngcontent-%COMP%]{color:#92badd;display:inline-block;text-decoration:none;font-weight:400}h2[_ngcontent-%COMP%]{text-align:center;font-size:16px;font-weight:600;text-transform:uppercase;display:inline-block;margin:40px 8px 10px;color:#ccc}.boton-Agregar[_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}.padding[_ngcontent-%COMP%]{padding-left:10%;padding-right:10%}.wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;flex-direction:column;justify-content:center;width:100%;min-height:100%;padding:20px}#formContent[_ngcontent-%COMP%]{border-radius:10px;background:#fff;width:90%;max-width:850px;position:relative;padding:0;box-shadow:0 30px 60px #0000004d;text-align:center}.border[_ngcontent-%COMP%]{border-style:solid;border-width:1px;border-color:gray}#formFooter[_ngcontent-%COMP%]{background-color:#f6f6f6;border-top:1px solid #dce8f1;padding:25px;text-align:center;border-radius:0 0 10px 10px}.cursor[_ngcontent-%COMP%]{cursor:pointer}h2.inactive[_ngcontent-%COMP%]{color:#ccc}h2.active[_ngcontent-%COMP%]{color:#0d0d0d;border-bottom:2px solid #5fbae9;cursor:pointer}input[type=button][_ngcontent-%COMP%], input[type=submit][_ngcontent-%COMP%], input[type=reset][_ngcontent-%COMP%]{background-color:#56baed;border:none;color:#fff;padding:15px 80px;text-align:center;text-decoration:none;display:inline-block;text-transform:uppercase;font-size:13px;box-shadow:0 10px 30px #5fbae966;border-radius:5px;margin:5px 20px 40px;transition:all .3s ease-in-out}input[type=button][_ngcontent-%COMP%]:hover, input[type=submit][_ngcontent-%COMP%]:hover, input[type=reset][_ngcontent-%COMP%]:hover{background-color:#39ace7}input[type=button][_ngcontent-%COMP%]:active, input[type=submit][_ngcontent-%COMP%]:active, input[type=reset][_ngcontent-%COMP%]:active{transform:scale(.95)}input[type=text][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%], input[type=file][_ngcontent-%COMP%]{background-color:#f6f6f6;border:none;color:#0d0d0d;padding:8px 15px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:5px;width:85%;border:2px solid #f6f6f6;transition:all .5s ease-in-out;border-radius:5px}input[type=text][_ngcontent-%COMP%]:focus{background-color:#fff;border-bottom:2px solid #5fbae9}input[type=text][_ngcontent-%COMP%]:placeholder{color:#ccc}.fadeInDown[_ngcontent-%COMP%]{animation-name:fadeInDown;animation-duration:1s;animation-fill-mode:both}@keyframes fadeInDown{0%{opacity:0;transform:translate3d(0,-100%,0)}to{opacity:1;transform:none}}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}.fadeIn[_ngcontent-%COMP%]{opacity:0;animation:fadeIn ease-in 1;animation-fill-mode:forwards;animation-duration:1s}.fadeIn.first[_ngcontent-%COMP%]{animation-delay:.4s}.fadeIn.second[_ngcontent-%COMP%]{animation-delay:.6s}.fadeIn.third[_ngcontent-%COMP%]{animation-delay:.8s}.fadeIn.fourth[_ngcontent-%COMP%]{animation-delay:1s}.underlineHover[_ngcontent-%COMP%]:after{display:block;left:0;bottom:-10px;width:0;height:2px;background-color:#56baed;content:"";transition:width .2s}.underlineHover[_ngcontent-%COMP%]:hover{color:#0d0d0d}.underlineHover[_ngcontent-%COMP%]:hover:after{width:100%}*[_ngcontent-%COMP%]:focus{outline:none}#icon[_ngcontent-%COMP%]{width:60%}*[_ngcontent-%COMP%]{box-sizing:border-box}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}.b-example-divider[_ngcontent-%COMP%]{height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}.b-example-vr[_ngcontent-%COMP%]{flex-shrink:0;width:1.5rem;height:100vh}.bi[_ngcontent-%COMP%]{vertical-align:-.125em;fill:currentColor}.nav-scroller[_ngcontent-%COMP%]{position:relative;z-index:2;height:2.75rem;overflow-y:hidden}.nav-scroller[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;padding-bottom:1rem;margin-top:-1px;overflow-x:auto;text-align:center;white-space:nowrap;-webkit-overflow-scrolling:touch}']}),n})();function u5(n,e){if(1&n&&(l.TgZ(0,"tr")(1,"td"),l._uU(2),l.qZA(),l.TgZ(3,"td"),l._uU(4),l.qZA(),l.TgZ(5,"td"),l._uU(6),l.qZA(),l.TgZ(7,"td"),l._uU(8),l.qZA(),l.TgZ(9,"td"),l._uU(10),l.qZA(),l.TgZ(11,"td"),l._UZ(12,"img",2),l.qZA()()),2&n){const t=e.$implicit;l.xp6(2),l.Oqu(t.nombre),l.xp6(2),l.Oqu(t.apellido),l.xp6(2),l.Oqu(t.email),l.xp6(2),l.Oqu(t.edad),l.xp6(2),l.Oqu(t.perfil),l.xp6(2),l.s9C("src",t.foto,l.LSH)}}const d5=[{path:"",component:W8,children:[{path:"",component:i6},{path:"registro",component:c5,children:[{path:"",component:H2},{path:"especialista",component:aB}]}]},{path:"inicio",component:v8,canActivate:[U8,q8],children:[{path:"usuarios",component:G8,canActivate:[z8],children:[{path:"usuario-registrar",component:H2},{path:"admin-registrar",component:l5},{path:"especialista-registrar",component:aB},{path:"listado",component:(()=>{class n{constructor(t){this.auth=t}ngOnInit(){this.auth.traerUsuarios()}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(xl))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-listado-usuarios"]],decls:17,vars:1,consts:[[1,"table","table-striped"],[4,"ngFor","ngForOf"],[2,"width","90px",3,"src"]],template:function(t,r){1&t&&(l.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th"),l._uU(4,"Nombre"),l.qZA(),l.TgZ(5,"th"),l._uU(6,"Apellido"),l.qZA(),l.TgZ(7,"th"),l._uU(8,"Email"),l.qZA(),l.TgZ(9,"th"),l._uU(10,"Edad"),l.qZA(),l.TgZ(11,"th"),l._uU(12,"Perfil"),l.qZA(),l.TgZ(13,"th"),l._uU(14,"Foto"),l.qZA()()(),l.TgZ(15,"tbody"),l.YNc(16,u5,13,6,"tr",1),l.qZA()()),2&t&&(l.xp6(16),l.Q6J("ngForOf",r.auth.usuarios))},dependencies:[$r]}),n})()}]}]}];let h5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[MD.forRoot(d5),MD]}),n})(),f5=(()=>{class n{constructor(){this.title="TPClinica"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[Su]}),n})();F(7573);class cB{constructor(){return(0,Gn.vb)("auth")}}class FM{constructor(e){return e}}const uB="firestore",LM=new l.OlP("angularfire2.firestore-instances");function v5(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new FM(r)}}const b5={provide:class _5{constructor(){return(0,Gn.vb)(uB)}},deps:[[new l.FiY,LM]]},w5={provide:FM,useFactory:function y5(n,e){const t=(0,Gn.JM)(uB,n,e);return t&&new FM(t)},deps:[[new l.FiY,LM],class uh{constructor(e){return e}}]};let D5=(()=>{class n{constructor(){(0,Rs.KN)("angularfire",Gn.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[w5,b5]}),n})();function C5(n,...e){return{ngModule:D5,providers:[{provide:LM,useFactory:v5(n),multi:!0,deps:[l.R0b,l.zs3,Gn.HU,u_,[new l.FiY,cB],[new l.FiY,o],...e]}]}}const E5=(0,Gn.u3)(zH,!0);let T5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[f5]}),n.\u0275inj=l.cJS({imports:[Co,h5,Bi,y8,FA.forRoot(),iv,Ra.hO.initializeApp(av_firebaseConfig),eb,C5(()=>E5()),T1]}),n})();(0,l.G48)(),rl().bootstrapModule(T5).catch(n=>console.error(n))},5867:(ft,Se,F)=>{F.d(Se,{C6:()=>l.getApps,KN:()=>l.registerVersion,Mq:()=>l.getApp});var l=F(9681);(0,l.registerVersion)("firebase","9.12.1","app")},127:(ft,Se,F)=>{F.d(Se,{Z:()=>l.Z});var l=F(3942);l.Z.registerVersion("firebase","9.12.1","app-compat")},5881:(ft,Se,F)=>{F.r(Se);var l=F(5861),H=F(3942),P=F(7573),oe=F(2090),de=(F(9681),F(1877),F(4859));function fe(){return window}function z(){return(z=(0,l.Z)(function*(j,O,B){var re;const{BuildInfo:Le}=fe();(0,P.aq)(O.sessionId,"AuthEvent did not contain a session ID");const ct=yield me(O.sessionId),ut={};return(0,P.ar)()?ut.ibi=Le.packageName:(0,P.as)()?ut.apn=Le.packageName:(0,P.at)(j,"operation-not-supported-in-this-environment"),Le.displayName&&(ut.appDisplayName=Le.displayName),ut.sessionId=ct,(0,P.au)(j,B,O.type,void 0,null!==(re=O.eventId)&&void 0!==re?re:void 0,ut)})).apply(this,arguments)}function Ge(){return(Ge=(0,l.Z)(function*(j){const{BuildInfo:O}=fe(),B={};(0,P.ar)()?B.iosBundleId=O.packageName:(0,P.as)()?B.androidPackageName=O.packageName:(0,P.at)(j,"operation-not-supported-in-this-environment"),yield(0,P.av)(j,B)})).apply(this,arguments)}function at(){return(at=(0,l.Z)(function*(j,O,B){const{cordova:re}=fe();let Le=()=>{};try{yield new Promise((ct,ut)=>{let Ae=null;function Ve(){var Lt;ct();const gn=null===(Lt=re.plugins.browsertab)||void 0===Lt?void 0:Lt.close;"function"==typeof gn&&gn(),"function"==typeof B?.close&&B.close()}function kt(){Ae||(Ae=window.setTimeout(()=>{ut((0,P.aw)(j,"redirect-cancelled-by-user"))},2e3))}function pn(){"visible"===document?.visibilityState&&kt()}O.addPassiveListener(Ve),document.addEventListener("resume",kt,!1),(0,P.as)()&&document.addEventListener("visibilitychange",pn,!1),Le=()=>{O.removePassiveListener(Ve),document.removeEventListener("resume",kt,!1),document.removeEventListener("visibilitychange",pn,!1),Ae&&window.clearTimeout(Ae)}})}finally{Le()}})).apply(this,arguments)}function me(j){return nt.apply(this,arguments)}function nt(){return(nt=(0,l.Z)(function*(j){const O=et(j),B=yield crypto.subtle.digest("SHA-256",O);return Array.from(new Uint8Array(B)).map(Le=>Le.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function et(j){if((0,P.aq)(/[0-9a-zA-Z]+/.test(j),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(j);const O=new ArrayBuffer(j.length),B=new Uint8Array(O);for(let re=0;re<j.length;re++)B[re]=j.charCodeAt(re);return B}class Re extends P.aA{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(O=>{this.resolveInialized=O})}addPassiveListener(O){this.passiveListeners.add(O)}removePassiveListener(O){this.passiveListeners.delete(O)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(O){return this.resolveInialized(),this.passiveListeners.forEach(B=>B(O)),super.onEvent(O)}initialized(){var O=this;return(0,l.Z)(function*(){yield O.initPromise})()}}function ie(j){return ue.apply(this,arguments)}function ue(){return(ue=(0,l.Z)(function*(j){const O=yield te()._get(ge(j));return O&&(yield te()._remove(ge(j))),O})).apply(this,arguments)}function Q(){const j=[],O="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let B=0;B<20;B++){const re=Math.floor(Math.random()*O.length);j.push(O.charAt(re))}return j.join("")}function te(){return(0,P.ay)(P.b)}function ge(j){return(0,P.az)("authEvent",j.config.apiKey,j.name)}function He(j){if(!j?.includes("?"))return{};const[O,...B]=j.split("?");return(0,oe.zd)(B.join("?"))}function Qe(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:(0,P.aw)("no-auth-event")}}function Kt(){var j;return(null===(j=self?.location)||void 0===j?void 0:j.protocol)||null}function Nr(j=(0,oe.z$)()){return!("file:"!==Kt()&&"ionic:"!==Kt()&&"capacitor:"!==Kt()||!j.toLowerCase().match(/iphone|ipad|ipod|android/))}function fs(){try{const j=self.localStorage,O=P.aI();if(j)return j.setItem(O,"1"),j.removeItem(O),!function hs(j=(0,oe.z$)()){return function Br(){return(0,oe.w1)()&&11===document?.documentMode}()||function Fn(j=(0,oe.z$)()){return/Edge\/\d+/.test(j)}(j)}()||(0,oe.hl)()}catch{return Vr()&&(0,oe.hl)()}return!1}function Vr(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function qn(){return(function Ht(){return"http:"===Kt()||"https:"===Kt()}()||(0,oe.ru)()||Nr())&&!function Yi(){return(0,oe.b$)()||(0,oe.UG)()}()&&fs()&&!Vr()}function Ri(){return Nr()&&typeof document<"u"}function tt(){return(tt=(0,l.Z)(function*(){return!!Ri()&&new Promise(j=>{const O=setTimeout(()=>{j(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(O),j(!0)})})})).apply(this,arguments)}const Wn={LOCAL:"local",NONE:"none",SESSION:"session"},Cn=P.ax,mr="persistence";function Tn(j){return In.apply(this,arguments)}function In(){return(In=(0,l.Z)(function*(j){yield j._initializationPromise;const O=_t(),B=P.az(mr,j.config.apiKey,j.name);O&&O.setItem(B,j._getPersistence())})).apply(this,arguments)}function _t(){var j;try{return(null===(j=function Xn(){return typeof window<"u"?window:null}())||void 0===j?void 0:j.sessionStorage)||null}catch{return null}}const yt=P.ax;class Pt{constructor(){this.browserResolver=P.ay(P.k),this.cordovaResolver=P.ay(class cn{constructor(){this._redirectPersistence=P.a,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(O){var B=this;return(0,l.Z)(function*(){const re=O._key();let Le=B.eventManagers.get(re);return Le||(Le=new Re(O),B.eventManagers.set(re,Le),B.attachCallbackListeners(O,Le)),Le})()}_openPopup(O){(0,P.at)(O,"operation-not-supported-in-this-environment")}_openRedirect(O,B,re,Le){var ct=this;return(0,l.Z)(function*(){!function we(j){var O,B,re,Le,ct,ut,Ae,Ve,kt,pn;const Lt=fe();(0,P.ax)("function"==typeof(null===(O=Lt?.universalLinks)||void 0===O?void 0:O.subscribe),j,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),(0,P.ax)(typeof(null===(B=Lt?.BuildInfo)||void 0===B?void 0:B.packageName)<"u",j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),(0,P.ax)("function"==typeof(null===(ct=null===(Le=null===(re=Lt?.cordova)||void 0===re?void 0:re.plugins)||void 0===Le?void 0:Le.browsertab)||void 0===ct?void 0:ct.openUrl),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(Ve=null===(Ae=null===(ut=Lt?.cordova)||void 0===ut?void 0:ut.plugins)||void 0===Ae?void 0:Ae.browsertab)||void 0===Ve?void 0:Ve.isAvailable),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),(0,P.ax)("function"==typeof(null===(pn=null===(kt=Lt?.cordova)||void 0===kt?void 0:kt.InAppBrowser)||void 0===pn?void 0:pn.open),j,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(O);const ut=yield ct._initialize(O);yield ut.initialized(),ut.resetRedirect(),(0,P.aD)(),yield ct._originValidation(O);const Ae=function De(j,O,B=null){return{type:O,eventId:B,urlResponse:null,sessionId:Q(),postBody:null,tenantId:j.tenantId,error:(0,P.aw)(j,"no-auth-event")}}(O,re,Le);yield function Ke(j,O){return te()._set(ge(j),O)}(O,Ae);const Ve=yield function W(j,O,B){return z.apply(this,arguments)}(O,Ae,B),kt=yield function Fe(j){const{cordova:O}=fe();return new Promise(B=>{O.plugins.browsertab.isAvailable(re=>{let Le=null;re?O.plugins.browsertab.openUrl(j):Le=O.InAppBrowser.open(j,(0,P.ap)()?"_blank":"_system","location=yes"),B(Le)})})}(Ve);return function Ce(j,O,B){return at.apply(this,arguments)}(O,ut,kt)})()}_isIframeWebStorageSupported(O,B){throw new Error("Method not implemented.")}_originValidation(O){const B=O._key();return this.originValidationPromises[B]||(this.originValidationPromises[B]=function ee(j){return Ge.apply(this,arguments)}(O)),this.originValidationPromises[B]}attachCallbackListeners(O,B){const{universalLinks:re,handleOpenURL:Le,BuildInfo:ct}=fe(),ut=setTimeout((0,l.Z)(function*(){yield ie(O),B.onEvent(Qe())}),500),Ae=function(){var pn=(0,l.Z)(function*(Lt){clearTimeout(ut);const gn=yield ie(O);let gs=null;gn&&Lt?.url&&(gs=function be(j,O){var B,re;const Le=function $e(j){const O=He(j),B=O.link?decodeURIComponent(O.link):void 0,re=He(B).link,Le=O.deep_link_id?decodeURIComponent(O.deep_link_id):void 0;return He(Le).link||Le||re||B||j}(O);if(Le.includes("/__/auth/callback")){const ct=He(Le),ut=ct.firebaseError?function ae(j){try{return JSON.parse(j)}catch{return null}}(decodeURIComponent(ct.firebaseError)):null,Ae=null===(re=null===(B=ut?.code)||void 0===B?void 0:B.split("auth/"))||void 0===re?void 0:re[1],Ve=Ae?(0,P.aw)(Ae):null;return Ve?{type:j.type,eventId:j.eventId,tenantId:j.tenantId,error:Ve,urlResponse:null,sessionId:null,postBody:null}:{type:j.type,eventId:j.eventId,tenantId:j.tenantId,sessionId:j.sessionId,urlResponse:Le,postBody:null}}return null}(gn,Lt.url)),B.onEvent(gs||Qe())});return function(gn){return pn.apply(this,arguments)}}();typeof re<"u"&&"function"==typeof re.subscribe&&re.subscribe(null,Ae);const Ve=Le,kt=`${ct.packageName.toLowerCase()}://`;fe().handleOpenURL=function(){var pn=(0,l.Z)(function*(Lt){if(Lt.toLowerCase().startsWith(kt)&&Ae({url:Lt}),"function"==typeof Ve)try{Ve(Lt)}catch(gn){console.error(gn)}});return function(Lt){return pn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=P.a,this._completeRedirectFn=P.aB,this._overrideRedirectResult=P.aC}_initialize(O){var B=this;return(0,l.Z)(function*(){return yield B.selectUnderlyingResolver(),B.assertedUnderlyingResolver._initialize(O)})()}_openPopup(O,B,re,Le){var ct=this;return(0,l.Z)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openPopup(O,B,re,Le)})()}_openRedirect(O,B,re,Le){var ct=this;return(0,l.Z)(function*(){return yield ct.selectUnderlyingResolver(),ct.assertedUnderlyingResolver._openRedirect(O,B,re,Le)})()}_isIframeWebStorageSupported(O,B){this.assertedUnderlyingResolver._isIframeWebStorageSupported(O,B)}_originValidation(O){return this.assertedUnderlyingResolver._originValidation(O)}get _shouldInitProactively(){return Ri()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return yt(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var O=this;return(0,l.Z)(function*(){if(O.underlyingResolver)return;const B=yield function ps(){return tt.apply(this,arguments)}();O.underlyingResolver=B?O.cordovaResolver:O.browserResolver})()}}function Jr(j){return j.unwrap()}function xr(j){return jr(j)}function jr(j){const{_tokenResponse:O}=j instanceof oe.ZR?j.customData:j;if(!O)return null;if(!(j instanceof oe.ZR)&&"temporaryProof"in O&&"phoneNumber"in O)return P.P.credentialFromResult(j);const B=O.providerId;if(!B||B===P.o.PASSWORD)return null;let re;switch(B){case P.o.GOOGLE:re=P.Q;break;case P.o.FACEBOOK:re=P.N;break;case P.o.GITHUB:re=P.T;break;case P.o.TWITTER:re=P.W;break;default:const{oauthIdToken:Le,oauthAccessToken:ct,oauthTokenSecret:ut,pendingToken:Ae,nonce:Ve}=O;return ct||ut||Le||Ae?Ae?B.startsWith("saml.")?P.aL._create(B,Ae):P.J._fromParams({providerId:B,signInMethod:B,pendingToken:Ae,idToken:Le,accessToken:ct}):new P.U(B).credential({idToken:Le,accessToken:ct,rawNonce:Ve}):null}return j instanceof oe.ZR?re.credentialFromError(j):re.credentialFromResult(j)}function jt(j,O){return O.catch(B=>{throw B instanceof oe.ZR&&function Ot(j,O){var B,re;const Le=null===(B=O.customData)||void 0===B?void 0:B._tokenResponse;if("auth/multi-factor-auth-required"===(null===(re=O)||void 0===re?void 0:re.code))O.resolver=new lr(j,P.an(j,O));else if(Le){const ct=jr(O),ut=O;ct&&(ut.credential=ct,ut.tenantId=Le.tenantId||void 0,ut.email=Le.email||void 0,ut.phoneNumber=Le.phoneNumber||void 0)}}(j,B),B}).then(B=>{const Le=B.user;return{operationType:B.operationType,credential:xr(B),additionalUserInfo:P.al(B),user:xn.getOrCreate(Le)}})}function gi(j,O){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,l.Z)(function*(j,O){const B=yield O;return{verificationId:B.verificationId,confirm:re=>jt(j,B.confirm(re))}})).apply(this,arguments)}class lr{constructor(O,B){this.resolver=B,this.auth=function er(j){return j.wrapped()}(O)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(O){return jt(Jr(this.auth),this.resolver.resolveSignIn(O))}}class xn{constructor(O){this._delegate=O,this.multiFactor=P.ao(O)}static getOrCreate(O){return xn.USER_MAP.has(O)||xn.USER_MAP.set(O,new xn(O)),xn.USER_MAP.get(O)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(O){return this._delegate.getIdTokenResult(O)}getIdToken(O){return this._delegate.getIdToken(O)}linkAndRetrieveDataWithCredential(O){return this.linkWithCredential(O)}linkWithCredential(O){var B=this;return(0,l.Z)(function*(){return jt(B.auth,P.Z(B._delegate,O))})()}linkWithPhoneNumber(O,B){var re=this;return(0,l.Z)(function*(){return gi(re.auth,P.l(re._delegate,O,B))})()}linkWithPopup(O){var B=this;return(0,l.Z)(function*(){return jt(B.auth,P.d(B._delegate,O,Pt))})()}linkWithRedirect(O){var B=this;return(0,l.Z)(function*(){return yield Tn(P.aE(B.auth)),P.g(B._delegate,O,Pt)})()}reauthenticateAndRetrieveDataWithCredential(O){return this.reauthenticateWithCredential(O)}reauthenticateWithCredential(O){var B=this;return(0,l.Z)(function*(){return jt(B.auth,P._(B._delegate,O))})()}reauthenticateWithPhoneNumber(O,B){return gi(this.auth,P.r(this._delegate,O,B))}reauthenticateWithPopup(O){return jt(this.auth,P.e(this._delegate,O,Pt))}reauthenticateWithRedirect(O){var B=this;return(0,l.Z)(function*(){return yield Tn(P.aE(B.auth)),P.h(B._delegate,O,Pt)})()}sendEmailVerification(O){return P.ab(this._delegate,O)}unlink(O){var B=this;return(0,l.Z)(function*(){return yield P.ak(B._delegate,O),B})()}updateEmail(O){return P.ag(this._delegate,O)}updatePassword(O){return P.ah(this._delegate,O)}updatePhoneNumber(O){return P.u(this._delegate,O)}updateProfile(O){return P.af(this._delegate,O)}verifyBeforeUpdateEmail(O,B){return P.ac(this._delegate,O,B)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}xn.USER_MAP=new WeakMap;const it=P.ax;let Ie=(()=>{class j{constructor(B,re){if(this.app=B,re.isInitialized())return this._delegate=re.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:Le}=B.options;it(Le,"invalid-api-key",{appName:B.name}),it(Le,"invalid-api-key",{appName:B.name});const ct=typeof window<"u"?Pt:void 0;this._delegate=re.initialize({options:{persistence:Et(Le,B.name),popupRedirectResolver:ct}}),this._delegate._updateErrorMap(P.B),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?xn.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(B){this._delegate.languageCode=B}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(B){this._delegate.tenantId=B}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(B,re){P.G(this._delegate,B,re)}applyActionCode(B){return P.a2(this._delegate,B)}checkActionCode(B){return P.a3(this._delegate,B)}confirmPasswordReset(B,re){return P.a1(this._delegate,B,re)}createUserWithEmailAndPassword(B,re){var Le=this;return(0,l.Z)(function*(){return jt(Le._delegate,P.a5(Le._delegate,B,re))})()}fetchProvidersForEmail(B){return this.fetchSignInMethodsForEmail(B)}fetchSignInMethodsForEmail(B){return P.aa(this._delegate,B)}isSignInWithEmailLink(B){return P.a8(this._delegate,B)}getRedirectResult(){var B=this;return(0,l.Z)(function*(){it(qn(),B._delegate,"operation-not-supported-in-this-environment");const re=yield P.j(B._delegate,Pt);return re?jt(B._delegate,Promise.resolve(re)):{credential:null,user:null}})()}addFrameworkForLogging(B){!function fn(j,O){(0,P.aE)(j)._logFramework(O)}(this._delegate,B)}onAuthStateChanged(B,re,Le){const{next:ct,error:ut,complete:Ae}=st(B,re,Le);return this._delegate.onAuthStateChanged(ct,ut,Ae)}onIdTokenChanged(B,re,Le){const{next:ct,error:ut,complete:Ae}=st(B,re,Le);return this._delegate.onIdTokenChanged(ct,ut,Ae)}sendSignInLinkToEmail(B,re){return P.a7(this._delegate,B,re)}sendPasswordResetEmail(B,re){return P.a0(this._delegate,B,re||void 0)}setPersistence(B){var re=this;return(0,l.Z)(function*(){let Le;switch(function uo(j,O){Cn(Object.values(Wn).includes(O),j,"invalid-persistence-type"),(0,oe.b$)()?Cn(O!==Wn.SESSION,j,"unsupported-persistence-type"):(0,oe.UG)()?Cn(O===Wn.NONE,j,"unsupported-persistence-type"):Vr()?Cn(O===Wn.NONE||O===Wn.LOCAL&&(0,oe.hl)(),j,"unsupported-persistence-type"):Cn(O===Wn.NONE||fs(),j,"unsupported-persistence-type")}(re._delegate,B),B){case Wn.SESSION:Le=P.a;break;case Wn.LOCAL:Le=(yield P.ay(P.i)._isAvailable())?P.i:P.b;break;case Wn.NONE:Le=P.L;break;default:return P.at("argument-error",{appName:re._delegate.name})}return re._delegate.setPersistence(Le)})()}signInAndRetrieveDataWithCredential(B){return this.signInWithCredential(B)}signInAnonymously(){return jt(this._delegate,P.X(this._delegate))}signInWithCredential(B){return jt(this._delegate,P.Y(this._delegate,B))}signInWithCustomToken(B){return jt(this._delegate,P.$(this._delegate,B))}signInWithEmailAndPassword(B,re){return jt(this._delegate,P.a6(this._delegate,B,re))}signInWithEmailLink(B,re){return jt(this._delegate,P.a9(this._delegate,B,re))}signInWithPhoneNumber(B,re){return gi(this._delegate,P.s(this._delegate,B,re))}signInWithPopup(B){var re=this;return(0,l.Z)(function*(){return it(qn(),re._delegate,"operation-not-supported-in-this-environment"),jt(re._delegate,P.c(re._delegate,B,Pt))})()}signInWithRedirect(B){var re=this;return(0,l.Z)(function*(){return it(qn(),re._delegate,"operation-not-supported-in-this-environment"),yield Tn(re._delegate),P.f(re._delegate,B,Pt)})()}updateCurrentUser(B){return this._delegate.updateCurrentUser(B)}verifyPasswordResetCode(B){return P.a4(this._delegate,B)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return j.Persistence=Wn,j})();function st(j,O,B){let re=j;"function"!=typeof j&&({next:re,error:O,complete:B}=j);const Le=re;return{next:ut=>Le(ut&&xn.getOrCreate(ut)),error:O,complete:B}}function Et(j,O){const B=function bn(j,O){const B=_t();if(!B)return[];const re=P.az(mr,j,O);switch(B.getItem(re)){case Wn.NONE:return[P.L];case Wn.LOCAL:return[P.i,P.a];case Wn.SESSION:return[P.a];default:return[]}}(j,O);if(typeof self<"u"&&!B.includes(P.i)&&B.push(P.i),typeof window<"u")for(const re of[P.b,P.a])B.includes(re)||B.push(re);return B.includes(P.L)||B.push(P.L),B}class It{constructor(){this.providerId="phone",this._delegate=new P.P(Jr(H.Z.auth()))}static credential(O,B){return P.P.credential(O,B)}verifyPhoneNumber(O,B){return this._delegate.verifyPhoneNumber(O,B)}unwrap(){return this._delegate}}It.PHONE_SIGN_IN_METHOD=P.P.PHONE_SIGN_IN_METHOD,It.PROVIDER_ID=P.P.PROVIDER_ID;const tn=P.ax;class q{constructor(O,B,re=H.Z.app()){var Le;tn(null===(Le=re.options)||void 0===Le?void 0:Le.apiKey,"invalid-api-key",{appName:re.name}),this._delegate=new P.R(O,B,re.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Y(j){j.INTERNAL.registerComponent(new de.wA("auth-compat",O=>{const B=O.getProvider("app-compat").getImmediate(),re=O.getProvider("auth");return new Ie(B,re)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:P.A.EMAIL_SIGNIN,PASSWORD_RESET:P.A.PASSWORD_RESET,RECOVER_EMAIL:P.A.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:P.A.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:P.A.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:P.A.VERIFY_EMAIL}},EmailAuthProvider:P.M,FacebookAuthProvider:P.N,GithubAuthProvider:P.T,GoogleAuthProvider:P.Q,OAuthProvider:P.U,SAMLAuthProvider:P.V,PhoneAuthProvider:It,PhoneMultiFactorGenerator:P.m,RecaptchaVerifier:q,TwitterAuthProvider:P.W,Auth:Ie,AuthCredential:P.H,Error:oe.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),j.registerVersion("@firebase/auth-compat","0.2.23")}(H.Z)},9751:(ft,Se,F)=>{F.d(Se,{y:()=>fe});var l=F(930),H=F(727),P=F(8822),oe=F(9635),le=F(2416),_e=F(576),de=F(2806);let fe=(()=>{class ee{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const Ce=new ee;return Ce.source=this,Ce.operator=Fe,Ce}subscribe(Fe,Ce,at){const we=function z(ee){return ee&&ee instanceof l.Lv||function W(ee){return ee&&(0,_e.m)(ee.next)&&(0,_e.m)(ee.error)&&(0,_e.m)(ee.complete)}(ee)&&(0,H.Nn)(ee)}(Fe)?Fe:new l.Hp(Fe,Ce,at);return(0,de.x)(()=>{const{operator:me,source:nt}=this;we.add(me?me.call(we,nt):nt?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(Ce){Fe.error(Ce)}}forEach(Fe,Ce){return new(Ce=ve(Ce))((at,we)=>{const me=new l.Hp({next:nt=>{try{Fe(nt)}catch(et){we(et),me.unsubscribe()}},error:we,complete:at});this.subscribe(me)})}_subscribe(Fe){var Ce;return null===(Ce=this.source)||void 0===Ce?void 0:Ce.subscribe(Fe)}[P.L](){return this}pipe(...Fe){return(0,oe.U)(Fe)(this)}toPromise(Fe){return new(Fe=ve(Fe))((Ce,at)=>{let we;this.subscribe(me=>we=me,me=>at(me),()=>Ce(we))})}}return ee.create=Ge=>new ee(Ge),ee})();function ve(ee){var Ge;return null!==(Ge=ee??le.v.Promise)&&void 0!==Ge?Ge:Promise}},7579:(ft,Se,F)=>{F.d(Se,{x:()=>de});var l=F(9751),H=F(727);const oe=(0,F(3888).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var le=F(8737),_e=F(2806);let de=(()=>{class ve extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(z){const ee=new fe(this,this);return ee.operator=z,ee}_throwIfClosed(){if(this.closed)throw new oe}next(z){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const ee of this.currentObservers)ee.next(z)}})}error(z){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=z;const{observers:ee}=this;for(;ee.length;)ee.shift().error(z)}})}complete(){(0,_e.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:z}=this;for(;z.length;)z.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var z;return(null===(z=this.observers)||void 0===z?void 0:z.length)>0}_trySubscribe(z){return this._throwIfClosed(),super._trySubscribe(z)}_subscribe(z){return this._throwIfClosed(),this._checkFinalizedStatuses(z),this._innerSubscribe(z)}_innerSubscribe(z){const{hasError:ee,isStopped:Ge,observers:Fe}=this;return ee||Ge?H.Lc:(this.currentObservers=null,Fe.push(z),new H.w0(()=>{this.currentObservers=null,(0,le.P)(Fe,z)}))}_checkFinalizedStatuses(z){const{hasError:ee,thrownError:Ge,isStopped:Fe}=this;ee?z.error(Ge):Fe&&z.complete()}asObservable(){const z=new l.y;return z.source=this,z}}return ve.create=(W,z)=>new fe(W,z),ve})();class fe extends de{constructor(W,z){super(),this.destination=W,this.source=z}next(W){var z,ee;null===(ee=null===(z=this.destination)||void 0===z?void 0:z.next)||void 0===ee||ee.call(z,W)}error(W){var z,ee;null===(ee=null===(z=this.destination)||void 0===z?void 0:z.error)||void 0===ee||ee.call(z,W)}complete(){var W,z;null===(z=null===(W=this.destination)||void 0===W?void 0:W.complete)||void 0===z||z.call(W)}_subscribe(W){var z,ee;return null!==(ee=null===(z=this.source)||void 0===z?void 0:z.subscribe(W))&&void 0!==ee?ee:H.Lc}}},930:(ft,Se,F)=>{F.d(Se,{Hp:()=>at,Lv:()=>ee});var l=F(576),H=F(727),P=F(2416),oe=F(7849),le=F(5032);const _e=ve("C",void 0,void 0);function ve(Ue,Re,De){return{kind:Ue,value:Re,error:De}}var W=F(3410),z=F(2806);class ee extends H.w0{constructor(Re){super(),this.isStopped=!1,Re?(this.destination=Re,(0,H.Nn)(Re)&&Re.add(this)):this.destination=et}static create(Re,De,Ke){return new at(Re,De,Ke)}next(Re){this.isStopped?nt(function fe(Ue){return ve("N",Ue,void 0)}(Re),this):this._next(Re)}error(Re){this.isStopped?nt(function de(Ue){return ve("E",void 0,Ue)}(Re),this):(this.isStopped=!0,this._error(Re))}complete(){this.isStopped?nt(_e,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Re){this.destination.next(Re)}_error(Re){try{this.destination.error(Re)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ge=Function.prototype.bind;function Fe(Ue,Re){return Ge.call(Ue,Re)}class Ce{constructor(Re){this.partialObserver=Re}next(Re){const{partialObserver:De}=this;if(De.next)try{De.next(Re)}catch(Ke){we(Ke)}}error(Re){const{partialObserver:De}=this;if(De.error)try{De.error(Re)}catch(Ke){we(Ke)}else we(Re)}complete(){const{partialObserver:Re}=this;if(Re.complete)try{Re.complete()}catch(De){we(De)}}}class at extends ee{constructor(Re,De,Ke){let ie;if(super(),(0,l.m)(Re)||!Re)ie={next:Re??void 0,error:De??void 0,complete:Ke??void 0};else{let ue;this&&P.v.useDeprecatedNextContext?(ue=Object.create(Re),ue.unsubscribe=()=>this.unsubscribe(),ie={next:Re.next&&Fe(Re.next,ue),error:Re.error&&Fe(Re.error,ue),complete:Re.complete&&Fe(Re.complete,ue)}):ie=Re}this.destination=new Ce(ie)}}function we(Ue){P.v.useDeprecatedSynchronousErrorHandling?(0,z.O)(Ue):(0,oe.h)(Ue)}function nt(Ue,Re){const{onStoppedNotification:De}=P.v;De&&W.z.setTimeout(()=>De(Ue,Re))}const et={closed:!0,next:le.Z,error:function me(Ue){throw Ue},complete:le.Z}},727:(ft,Se,F)=>{F.d(Se,{Lc:()=>_e,w0:()=>le,Nn:()=>de});var l=F(576);const P=(0,F(3888).d)(ve=>function(z){ve(this),this.message=z?`${z.length} errors occurred during unsubscription:\n${z.map((ee,Ge)=>`${Ge+1}) ${ee.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=z});var oe=F(8737);class le{constructor(W){this.initialTeardown=W,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let W;if(!this.closed){this.closed=!0;const{_parentage:z}=this;if(z)if(this._parentage=null,Array.isArray(z))for(const Fe of z)Fe.remove(this);else z.remove(this);const{initialTeardown:ee}=this;if((0,l.m)(ee))try{ee()}catch(Fe){W=Fe instanceof P?Fe.errors:[Fe]}const{_finalizers:Ge}=this;if(Ge){this._finalizers=null;for(const Fe of Ge)try{fe(Fe)}catch(Ce){W=W??[],Ce instanceof P?W=[...W,...Ce.errors]:W.push(Ce)}}if(W)throw new P(W)}}add(W){var z;if(W&&W!==this)if(this.closed)fe(W);else{if(W instanceof le){if(W.closed||W._hasParent(this))return;W._addParent(this)}(this._finalizers=null!==(z=this._finalizers)&&void 0!==z?z:[]).push(W)}}_hasParent(W){const{_parentage:z}=this;return z===W||Array.isArray(z)&&z.includes(W)}_addParent(W){const{_parentage:z}=this;this._parentage=Array.isArray(z)?(z.push(W),z):z?[z,W]:W}_removeParent(W){const{_parentage:z}=this;z===W?this._parentage=null:Array.isArray(z)&&(0,oe.P)(z,W)}remove(W){const{_finalizers:z}=this;z&&(0,oe.P)(z,W),W instanceof le&&W._removeParent(this)}}le.EMPTY=(()=>{const ve=new le;return ve.closed=!0,ve})();const _e=le.EMPTY;function de(ve){return ve instanceof le||ve&&"closed"in ve&&(0,l.m)(ve.remove)&&(0,l.m)(ve.add)&&(0,l.m)(ve.unsubscribe)}function fe(ve){(0,l.m)(ve)?ve():ve.unsubscribe()}},2416:(ft,Se,F)=>{F.d(Se,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(ft,Se,F)=>{F.d(Se,{E:()=>H});const H=new(F(9751).y)(le=>le.complete())},8996:(ft,Se,F)=>{F.d(Se,{D:()=>Re});var l=F(8421),H=F(5363),P=F(9468),_e=F(9751),fe=F(2202),ve=F(576),W=F(9672);function ee(De,Ke){if(!De)throw new Error("Iterable cannot be null");return new _e.y(ie=>{(0,W.f)(ie,Ke,()=>{const ue=De[Symbol.asyncIterator]();(0,W.f)(ie,Ke,()=>{ue.next().then(be=>{be.done?ie.complete():ie.next(be.value)})},0,!0)})})}var Ge=F(3670),Fe=F(8239),Ce=F(1144),at=F(6495),we=F(2206),me=F(4532),nt=F(3260);function Re(De,Ke){return Ke?function Ue(De,Ke){if(null!=De){if((0,Ge.c)(De))return function oe(De,Ke){return(0,l.Xf)(De).pipe((0,P.R)(Ke),(0,H.Q)(Ke))}(De,Ke);if((0,Ce.z)(De))return function de(De,Ke){return new _e.y(ie=>{let ue=0;return Ke.schedule(function(){ue===De.length?ie.complete():(ie.next(De[ue++]),ie.closed||this.schedule())})})}(De,Ke);if((0,Fe.t)(De))return function le(De,Ke){return(0,l.Xf)(De).pipe((0,P.R)(Ke),(0,H.Q)(Ke))}(De,Ke);if((0,we.D)(De))return ee(De,Ke);if((0,at.T)(De))return function z(De,Ke){return new _e.y(ie=>{let ue;return(0,W.f)(ie,Ke,()=>{ue=De[fe.h](),(0,W.f)(ie,Ke,()=>{let be,Q;try{({value:be,done:Q}=ue.next())}catch(te){return void ie.error(te)}Q?ie.complete():ie.next(be)},0,!0)}),()=>(0,ve.m)(ue?.return)&&ue.return()})}(De,Ke);if((0,nt.L)(De))return function et(De,Ke){return ee((0,nt.Q)(De),Ke)}(De,Ke)}throw(0,me.z)(De)}(De,Ke):(0,l.Xf)(De)}},8421:(ft,Se,F)=>{F.d(Se,{Xf:()=>Ge});var l=F(655),H=F(1144),P=F(8239),oe=F(9751),le=F(3670),_e=F(2206),de=F(4532),fe=F(6495),ve=F(3260),W=F(576),z=F(7849),ee=F(8822);function Ge(Ue){if(Ue instanceof oe.y)return Ue;if(null!=Ue){if((0,le.c)(Ue))return function Fe(Ue){return new oe.y(Re=>{const De=Ue[ee.L]();if((0,W.m)(De.subscribe))return De.subscribe(Re);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Ue);if((0,H.z)(Ue))return function Ce(Ue){return new oe.y(Re=>{for(let De=0;De<Ue.length&&!Re.closed;De++)Re.next(Ue[De]);Re.complete()})}(Ue);if((0,P.t)(Ue))return function at(Ue){return new oe.y(Re=>{Ue.then(De=>{Re.closed||(Re.next(De),Re.complete())},De=>Re.error(De)).then(null,z.h)})}(Ue);if((0,_e.D)(Ue))return me(Ue);if((0,fe.T)(Ue))return function we(Ue){return new oe.y(Re=>{for(const De of Ue)if(Re.next(De),Re.closed)return;Re.complete()})}(Ue);if((0,ve.L)(Ue))return function nt(Ue){return me((0,ve.Q)(Ue))}(Ue)}throw(0,de.z)(Ue)}function me(Ue){return new oe.y(Re=>{(function et(Ue,Re){var De,Ke,ie,ue;return(0,l.mG)(this,void 0,void 0,function*(){try{for(De=(0,l.KL)(Ue);!(Ke=yield De.next()).done;)if(Re.next(Ke.value),Re.closed)return}catch(be){ie={error:be}}finally{try{Ke&&!Ke.done&&(ue=De.return)&&(yield ue.call(De))}finally{if(ie)throw ie.error}}Re.complete()})})(Ue,Re).catch(De=>Re.error(De))})}},6451:(ft,Se,F)=>{F.d(Se,{T:()=>_e});var l=F(8189),H=F(8421),P=F(515),oe=F(3269),le=F(8996);function _e(...de){const fe=(0,oe.yG)(de),ve=(0,oe._6)(de,1/0),W=de;return W.length?1===W.length?(0,H.Xf)(W[0]):(0,l.J)(ve)((0,le.D)(W,fe)):P.E}},5403:(ft,Se,F)=>{F.d(Se,{x:()=>H});var l=F(930);function H(oe,le,_e,de,fe){return new P(oe,le,_e,de,fe)}class P extends l.Lv{constructor(le,_e,de,fe,ve,W){super(le),this.onFinalize=ve,this.shouldUnsubscribe=W,this._next=_e?function(z){try{_e(z)}catch(ee){le.error(ee)}}:super._next,this._error=fe?function(z){try{fe(z)}catch(ee){le.error(ee)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(z){le.error(z)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var le;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:_e}=this;super.unsubscribe(),!_e&&(null===(le=this.onFinalize)||void 0===le||le.call(this))}}}},4004:(ft,Se,F)=>{F.d(Se,{U:()=>P});var l=F(4482),H=F(5403);function P(oe,le){return(0,l.e)((_e,de)=>{let fe=0;_e.subscribe((0,H.x)(de,ve=>{de.next(oe.call(le,ve,fe++))}))})}},8189:(ft,Se,F)=>{F.d(Se,{J:()=>P});var l=F(5577),H=F(4671);function P(oe=1/0){return(0,l.z)(H.y,oe)}},5577:(ft,Se,F)=>{F.d(Se,{z:()=>fe});var l=F(4004),H=F(8421),P=F(4482),oe=F(9672),le=F(5403),de=F(576);function fe(ve,W,z=1/0){return(0,de.m)(W)?fe((ee,Ge)=>(0,l.U)((Fe,Ce)=>W(ee,Fe,Ge,Ce))((0,H.Xf)(ve(ee,Ge))),z):("number"==typeof W&&(z=W),(0,P.e)((ee,Ge)=>function _e(ve,W,z,ee,Ge,Fe,Ce,at){const we=[];let me=0,nt=0,et=!1;const Ue=()=>{et&&!we.length&&!me&&W.complete()},Re=Ke=>me<ee?De(Ke):we.push(Ke),De=Ke=>{Fe&&W.next(Ke),me++;let ie=!1;(0,H.Xf)(z(Ke,nt++)).subscribe((0,le.x)(W,ue=>{Ge?.(ue),Fe?Re(ue):W.next(ue)},()=>{ie=!0},void 0,()=>{if(ie)try{for(me--;we.length&&me<ee;){const ue=we.shift();Ce?(0,oe.f)(W,Ce,()=>De(ue)):De(ue)}Ue()}catch(ue){W.error(ue)}}))};return ve.subscribe((0,le.x)(W,Re,()=>{et=!0,Ue()})),()=>{at?.()}}(ee,Ge,ve,z)))}},5363:(ft,Se,F)=>{F.d(Se,{Q:()=>oe});var l=F(9672),H=F(4482),P=F(5403);function oe(le,_e=0){return(0,H.e)((de,fe)=>{de.subscribe((0,P.x)(fe,ve=>(0,l.f)(fe,le,()=>fe.next(ve),_e),()=>(0,l.f)(fe,le,()=>fe.complete(),_e),ve=>(0,l.f)(fe,le,()=>fe.error(ve),_e)))})}},3099:(ft,Se,F)=>{F.d(Se,{B:()=>le});var l=F(8421),H=F(7579),P=F(930),oe=F(4482);function le(de={}){const{connector:fe=(()=>new H.x),resetOnError:ve=!0,resetOnComplete:W=!0,resetOnRefCountZero:z=!0}=de;return ee=>{let Ge,Fe,Ce,at=0,we=!1,me=!1;const nt=()=>{Fe?.unsubscribe(),Fe=void 0},et=()=>{nt(),Ge=Ce=void 0,we=me=!1},Ue=()=>{const Re=Ge;et(),Re?.unsubscribe()};return(0,oe.e)((Re,De)=>{at++,!me&&!we&&nt();const Ke=Ce=Ce??fe();De.add(()=>{at--,0===at&&!me&&!we&&(Fe=_e(Ue,z))}),Ke.subscribe(De),!Ge&&at>0&&(Ge=new P.Hp({next:ie=>Ke.next(ie),error:ie=>{me=!0,nt(),Fe=_e(et,ve,ie),Ke.error(ie)},complete:()=>{we=!0,nt(),Fe=_e(et,W),Ke.complete()}}),(0,l.Xf)(Re).subscribe(Ge))})(ee)}}function _e(de,fe,...ve){if(!0===fe)return void de();if(!1===fe)return;const W=new P.Hp({next:()=>{W.unsubscribe(),de()}});return fe(...ve).subscribe(W)}},9468:(ft,Se,F)=>{F.d(Se,{R:()=>H});var l=F(4482);function H(P,oe=0){return(0,l.e)((le,_e)=>{_e.add(P.schedule(()=>le.subscribe(_e),oe))})}},8505:(ft,Se,F)=>{F.d(Se,{b:()=>le});var l=F(576),H=F(4482),P=F(5403),oe=F(4671);function le(_e,de,fe){const ve=(0,l.m)(_e)||de||fe?{next:_e,error:de,complete:fe}:_e;return ve?(0,H.e)((W,z)=>{var ee;null===(ee=ve.subscribe)||void 0===ee||ee.call(ve);let Ge=!0;W.subscribe((0,P.x)(z,Fe=>{var Ce;null===(Ce=ve.next)||void 0===Ce||Ce.call(ve,Fe),z.next(Fe)},()=>{var Fe;Ge=!1,null===(Fe=ve.complete)||void 0===Fe||Fe.call(ve),z.complete()},Fe=>{var Ce;Ge=!1,null===(Ce=ve.error)||void 0===Ce||Ce.call(ve,Fe),z.error(Fe)},()=>{var Fe,Ce;Ge&&(null===(Fe=ve.unsubscribe)||void 0===Fe||Fe.call(ve)),null===(Ce=ve.finalize)||void 0===Ce||Ce.call(ve)}))}):oe.y}},4408:(ft,Se,F)=>{F.d(Se,{o:()=>le});var l=F(727);class H extends l.w0{constructor(de,fe){super()}schedule(de,fe=0){return this}}const P={setInterval(_e,de,...fe){const{delegate:ve}=P;return ve?.setInterval?ve.setInterval(_e,de,...fe):setInterval(_e,de,...fe)},clearInterval(_e){const{delegate:de}=P;return(de?.clearInterval||clearInterval)(_e)},delegate:void 0};var oe=F(8737);class le extends H{constructor(de,fe){super(de,fe),this.scheduler=de,this.work=fe,this.pending=!1}schedule(de,fe=0){var ve;if(this.closed)return this;this.state=de;const W=this.id,z=this.scheduler;return null!=W&&(this.id=this.recycleAsyncId(z,W,fe)),this.pending=!0,this.delay=fe,this.id=null!==(ve=this.id)&&void 0!==ve?ve:this.requestAsyncId(z,this.id,fe),this}requestAsyncId(de,fe,ve=0){return P.setInterval(de.flush.bind(de,this),ve)}recycleAsyncId(de,fe,ve=0){if(null!=ve&&this.delay===ve&&!1===this.pending)return fe;null!=fe&&P.clearInterval(fe)}execute(de,fe){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const ve=this._execute(de,fe);if(ve)return ve;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,fe){let W,ve=!1;try{this.work(de)}catch(z){ve=!0,W=z||new Error("Scheduled action threw falsy error")}if(ve)return this.unsubscribe(),W}unsubscribe(){if(!this.closed){const{id:de,scheduler:fe}=this,{actions:ve}=fe;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(ve,this),null!=de&&(this.id=this.recycleAsyncId(fe,de,null)),this.delay=null,super.unsubscribe()}}}},7565:(ft,Se,F)=>{F.d(Se,{v:()=>P});var l=F(6063);class H{constructor(le,_e=H.now){this.schedulerActionCtor=le,this.now=_e}schedule(le,_e=0,de){return new this.schedulerActionCtor(this,le).schedule(de,_e)}}H.now=l.l.now;class P extends H{constructor(le,_e=H.now){super(le,_e),this.actions=[],this._active=!1}flush(le){const{actions:_e}=this;if(this._active)return void _e.push(le);let de;this._active=!0;do{if(de=le.execute(le.state,le.delay))break}while(le=_e.shift());if(this._active=!1,de){for(;le=_e.shift();)le.unsubscribe();throw de}}}},4986:(ft,Se,F)=>{F.d(Se,{P:()=>oe,z:()=>P});var l=F(4408);const P=new(F(7565).v)(l.o),oe=P},6063:(ft,Se,F)=>{F.d(Se,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(ft,Se,F)=>{F.d(Se,{z:()=>l});const l={setTimeout(H,P,...oe){const{delegate:le}=l;return le?.setTimeout?le.setTimeout(H,P,...oe):setTimeout(H,P,...oe)},clearTimeout(H){const{delegate:P}=l;return(P?.clearTimeout||clearTimeout)(H)},delegate:void 0}},2202:(ft,Se,F)=>{F.d(Se,{h:()=>H});const H=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(ft,Se,F)=>{F.d(Se,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(ft,Se,F)=>{F.d(Se,{_6:()=>_e,jO:()=>oe,yG:()=>le});var l=F(576),H=F(3532);function P(de){return de[de.length-1]}function oe(de){return(0,l.m)(P(de))?de.pop():void 0}function le(de){return(0,H.K)(P(de))?de.pop():void 0}function _e(de,fe){return"number"==typeof P(de)?de.pop():fe}},8737:(ft,Se,F)=>{function l(H,P){if(H){const oe=H.indexOf(P);0<=oe&&H.splice(oe,1)}}F.d(Se,{P:()=>l})},3888:(ft,Se,F)=>{function l(H){const oe=H(le=>{Error.call(le),le.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}F.d(Se,{d:()=>l})},2806:(ft,Se,F)=>{F.d(Se,{O:()=>oe,x:()=>P});var l=F(2416);let H=null;function P(le){if(l.v.useDeprecatedSynchronousErrorHandling){const _e=!H;if(_e&&(H={errorThrown:!1,error:null}),le(),_e){const{errorThrown:de,error:fe}=H;if(H=null,de)throw fe}}else le()}function oe(le){l.v.useDeprecatedSynchronousErrorHandling&&H&&(H.errorThrown=!0,H.error=le)}},9672:(ft,Se,F)=>{function l(H,P,oe,le=0,_e=!1){const de=P.schedule(function(){oe(),_e?H.add(this.schedule(null,le)):this.unsubscribe()},le);if(H.add(de),!_e)return de}F.d(Se,{f:()=>l})},4671:(ft,Se,F)=>{function l(H){return H}F.d(Se,{y:()=>l})},1144:(ft,Se,F)=>{F.d(Se,{z:()=>l});const l=H=>H&&"number"==typeof H.length&&"function"!=typeof H},2206:(ft,Se,F)=>{F.d(Se,{D:()=>H});var l=F(576);function H(P){return Symbol.asyncIterator&&(0,l.m)(P?.[Symbol.asyncIterator])}},576:(ft,Se,F)=>{function l(H){return"function"==typeof H}F.d(Se,{m:()=>l})},3670:(ft,Se,F)=>{F.d(Se,{c:()=>P});var l=F(8822),H=F(576);function P(oe){return(0,H.m)(oe[l.L])}},6495:(ft,Se,F)=>{F.d(Se,{T:()=>P});var l=F(2202),H=F(576);function P(oe){return(0,H.m)(oe?.[l.h])}},8239:(ft,Se,F)=>{F.d(Se,{t:()=>H});var l=F(576);function H(P){return(0,l.m)(P?.then)}},3260:(ft,Se,F)=>{F.d(Se,{L:()=>oe,Q:()=>P});var l=F(655),H=F(576);function P(le){return(0,l.FC)(this,arguments,function*(){const de=le.getReader();try{for(;;){const{value:fe,done:ve}=yield(0,l.qq)(de.read());if(ve)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(fe)}}finally{de.releaseLock()}})}function oe(le){return(0,H.m)(le?.getReader)}},3532:(ft,Se,F)=>{F.d(Se,{K:()=>H});var l=F(576);function H(P){return P&&(0,l.m)(P.schedule)}},4482:(ft,Se,F)=>{F.d(Se,{A:()=>H,e:()=>P});var l=F(576);function H(oe){return(0,l.m)(oe?.lift)}function P(oe){return le=>{if(H(le))return le.lift(function(_e){try{return oe(_e,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(ft,Se,F)=>{function l(){}F.d(Se,{Z:()=>l})},9635:(ft,Se,F)=>{F.d(Se,{U:()=>P,z:()=>H});var l=F(4671);function H(...oe){return P(oe)}function P(oe){return 0===oe.length?l.y:1===oe.length?oe[0]:function(_e){return oe.reduce((de,fe)=>fe(de),_e)}}},7849:(ft,Se,F)=>{F.d(Se,{h:()=>P});var l=F(2416),H=F(3410);function P(oe){H.z.setTimeout(()=>{const{onUnhandledError:le}=l.v;if(!le)throw oe;le(oe)})}},4532:(ft,Se,F)=>{function l(H){return new TypeError(`You provided ${null!==H&&"object"==typeof H?"an invalid object":`'${H}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Se,{z:()=>l})},655:(ft,Se,F)=>{function oe(Q,te){var ge={};for(var ae in Q)Object.prototype.hasOwnProperty.call(Q,ae)&&te.indexOf(ae)<0&&(ge[ae]=Q[ae]);if(null!=Q&&"function"==typeof Object.getOwnPropertySymbols){var $e=0;for(ae=Object.getOwnPropertySymbols(Q);$e<ae.length;$e++)te.indexOf(ae[$e])<0&&Object.prototype.propertyIsEnumerable.call(Q,ae[$e])&&(ge[ae[$e]]=Q[ae[$e]])}return ge}function fe(Q,te,ge,ae){return new(ge||(ge=Promise))(function(He,bt){function cn(fn){try{Qe(ae.next(fn))}catch(En){bt(En)}}function zt(fn){try{Qe(ae.throw(fn))}catch(En){bt(En)}}function Qe(fn){fn.done?He(fn.value):function $e(He){return He instanceof ge?He:new ge(function(bt){bt(He)})}(fn.value).then(cn,zt)}Qe((ae=ae.apply(Q,te||[])).next())})}function we(Q){return this instanceof we?(this.v=Q,this):new we(Q)}function me(Q,te,ge){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var $e,ae=ge.apply(Q,te||[]),He=[];return $e={},bt("next"),bt("throw"),bt("return"),$e[Symbol.asyncIterator]=function(){return this},$e;function bt(on){ae[on]&&($e[on]=function(an){return new Promise(function(Kt,Ht){He.push([on,an,Kt,Ht])>1||cn(on,an)})})}function cn(on,an){try{!function zt(on){on.value instanceof we?Promise.resolve(on.value.v).then(Qe,fn):En(He[0][2],on)}(ae[on](an))}catch(Kt){En(He[0][3],Kt)}}function Qe(on){cn("next",on)}function fn(on){cn("throw",on)}function En(on,an){on(an),He.shift(),He.length&&cn(He[0][0],He[0][1])}}function et(Q){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ge,te=Q[Symbol.asyncIterator];return te?te.call(Q):(Q=function ee(Q){var te="function"==typeof Symbol&&Symbol.iterator,ge=te&&Q[te],ae=0;if(ge)return ge.call(Q);if(Q&&"number"==typeof Q.length)return{next:function(){return Q&&ae>=Q.length&&(Q=void 0),{value:Q&&Q[ae++],done:!Q}}};throw new TypeError(te?"Object is not iterable.":"Symbol.iterator is not defined.")}(Q),ge={},ae("next"),ae("throw"),ae("return"),ge[Symbol.asyncIterator]=function(){return this},ge);function ae(He){ge[He]=Q[He]&&function(bt){return new Promise(function(cn,zt){!function $e(He,bt,cn,zt){Promise.resolve(zt).then(function(Qe){He({value:Qe,done:cn})},bt)}(cn,zt,(bt=Q[He](bt)).done,bt.value)})}}}F.d(Se,{FC:()=>me,KL:()=>et,_T:()=>oe,mG:()=>fe,qq:()=>we})},4650:(ft,Se,F)=>{F.d(Se,{$8M:()=>Zl,$Z:()=>Ky,AFp:()=>R0,AaK:()=>fe,BQk:()=>Mm,CHM:()=>Hh,CRH:()=>A0,CZH:()=>Fu,CqO:()=>$1,D6c:()=>zC,EJc:()=>GR,EiD:()=>Nd,EpF:()=>V1,F$t:()=>Aa,F4k:()=>j1,FYo:()=>Pd,FiY:()=>xe,G48:()=>m_,Gf:()=>nC,GfV:()=>Hg,Gpc:()=>z,Hsn:()=>Iu,Ikx:()=>Xv,JOm:()=>wa,JVY:()=>fy,KtG:()=>qo,L6k:()=>kg,LAX:()=>Fg,LFG:()=>Yn,LMc:()=>gN,LSH:()=>Cf,Lbi:()=>PA,Lck:()=>YS,MAs:()=>xv,MGl:()=>sp,MMx:()=>m0,NdJ:()=>Rv,OlP:()=>An,Oqu:()=>qv,PXZ:()=>WA,Q6J:()=>Nm,QGY:()=>Mv,QP$:()=>Le,QbO:()=>kA,Qsj:()=>by,QtT:()=>UD,R0b:()=>io,RDi:()=>bw,Rgc:()=>Sp,SBq:()=>xf,SDv:()=>Ym,Sil:()=>UA,Suo:()=>Ru,TTD:()=>$s,TgZ:()=>Sa,Tol:()=>tD,Udp:()=>X1,VKq:()=>HD,W1O:()=>sC,WLB:()=>GD,X6Q:()=>OC,XFs:()=>tt,Xpm:()=>Ie,Xts:()=>Ef,Y36:()=>Ld,YKP:()=>g0,YNc:()=>Am,Yjl:()=>j,Yz7:()=>an,Z0I:()=>Yi,ZZ4:()=>Y0,_Bn:()=>BD,_UZ:()=>xm,_Vd:()=>Nf,_c5:()=>HC,_uU:()=>oD,aQg:()=>v_,c2e:()=>FA,cJS:()=>Ht,cg1:()=>t0,d8E:()=>e0,dDg:()=>KR,dqk:()=>Pt,eBb:()=>va,eFA:()=>SC,ekj:()=>eD,eoX:()=>qA,f3M:()=>Cd,g9A:()=>CC,h0i:()=>yc,hGG:()=>GC,hij:()=>Lm,iGM:()=>o_,ifc:()=>yt,ip1:()=>DC,jDz:()=>VD,kEZ:()=>to,kL8:()=>pD,lG2:()=>Y,lqb:()=>oc,lri:()=>GA,mCW:()=>_,n5z:()=>Ws,oAB:()=>tn,oJD:()=>Df,oxw:()=>Rm,pB0:()=>Lg,pQV:()=>d0,q3G:()=>Un,q4F:()=>xw,qLn:()=>Rf,qOj:()=>Em,qZA:()=>Tu,qzn:()=>Ns,rWj:()=>zA,s9C:()=>Pm,sBO:()=>XA,sIi:()=>tp,s_b:()=>i_,soG:()=>F0,tb:()=>Ms,tp0:()=>vt,uIk:()=>Tv,vHH:()=>Ce,vpe:()=>no,wAp:()=>xt,xp6:()=>yI,ynx:()=>Om,z2F:()=>p_,z3N:()=>To,zSh:()=>Iw,zs3:()=>_u});var l=F(7579),H=F(727),P=F(9751),oe=F(6451),le=F(3099);function _e(s){for(let o in s)if(s[o]===_e)return o;throw Error("Could not find renamed property on target object.")}function de(s,o){for(const c in o)o.hasOwnProperty(c)&&!s.hasOwnProperty(c)&&(s[c]=o[c])}function fe(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(fe).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const c=o.indexOf("\n");return-1===c?o:o.substring(0,c)}function ve(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const W=_e({__forward_ref__:_e});function z(s){return s.__forward_ref__=z,s.toString=function(){return fe(this())},s}function ee(s){return Ge(s)?s():s}function Ge(s){return"function"==typeof s&&s.hasOwnProperty(W)&&s.__forward_ref__===z}class Ce extends Error{constructor(o,c){super(function at(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,c)),this.code=o}}function we(s){return"string"==typeof s?s:null==s?"":String(s)}function Re(s,o){throw new Ce(-201,!1)}function Qe(s,o,c,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${c} ${d} ${o} <=Actual]`))}function an(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function Ht(s){return{providers:s.providers||[],imports:s.imports||[]}}function Nr(s){return Br(s,Vr)||Br(s,Ri)}function Yi(s){return null!==Nr(s)}function Br(s,o){return s.hasOwnProperty(o)?s[o]:null}function fs(s){return s&&(s.hasOwnProperty(qn)||s.hasOwnProperty(ps))?s[qn]:null}const Vr=_e({\u0275prov:_e}),qn=_e({\u0275inj:_e}),Ri=_e({ngInjectableDef:_e}),ps=_e({ngInjectorDef:_e});var tt=(()=>((tt=tt||{})[tt.Default=0]="Default",tt[tt.Host=1]="Host",tt[tt.Self=2]="Self",tt[tt.SkipSelf=4]="SkipSelf",tt[tt.Optional=8]="Optional",tt))();let Xn;function Cn(s){const o=Xn;return Xn=s,o}function mr(s,o,c){const d=Nr(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:c&tt.Optional?null:void 0!==o?o:void Re(fe(s))}function Tn(s){return{toString:s}.toString()}var In=(()=>((In=In||{})[In.OnPush=0]="OnPush",In[In.Default=1]="Default",In))(),yt=(()=>{return(s=yt||(yt={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",yt;var s})();const Pt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),xr={},Ot=[],jr=_e({\u0275cmp:_e}),jt=_e({\u0275dir:_e}),gi=_e({\u0275pipe:_e}),Qt=_e({\u0275mod:_e}),lr=_e({\u0275fac:_e}),xn=_e({__NG_ELEMENT_ID__:_e});let it=0;function Ie(s){return Tn(()=>{const c=!0===s.standalone,d={},f={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:d,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===In.OnPush,directiveDefs:null,pipeDefs:null,standalone:c,dependencies:c&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||Ot,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||yt.Emulated,id:"c"+it++,styles:s.styles||Ot,_:null,setInput:null,schemas:s.schemas||null,tView:null},p=s.dependencies,y=s.features;return f.inputs=G(s.inputs,d),f.outputs=G(s.outputs),y&&y.forEach(w=>w(f)),f.directiveDefs=p?()=>("function"==typeof p?p():p).map(Et).filter(It):null,f.pipeDefs=p?()=>("function"==typeof p?p():p).map(re).filter(It):null,f})}function Et(s){return O(s)||B(s)}function It(s){return null!==s}function tn(s){return Tn(()=>({type:s.type,bootstrap:s.bootstrap||Ot,declarations:s.declarations||Ot,imports:s.imports||Ot,exports:s.exports||Ot,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function G(s,o){if(null==s)return xr;const c={};for(const d in s)if(s.hasOwnProperty(d)){let f=s[d],p=f;Array.isArray(f)&&(p=f[1],f=f[0]),c[f]=d,o&&(o[f]=p)}return c}const Y=Ie;function j(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function O(s){return s[jr]||null}function B(s){return s[jt]||null}function re(s){return s[gi]||null}function Le(s){const o=O(s)||B(s)||re(s);return null!==o&&o.standalone}function ct(s,o){const c=s[Qt]||null;if(!c&&!0===o)throw new Error(`Type ${fe(s)} does not have '\u0275mod' property.`);return c}function tr(s){return Array.isArray(s)&&"object"==typeof s[1]}function _i(s){return Array.isArray(s)&&!0===s[1]}function Lo(s){return 0!=(8&s.flags)}function kc(s){return 2==(2&s.flags)}function Va(s){return 1==(1&s.flags)}function ei(s){return null!==s.template}function Fc(s){return 0!=(256&s[2])}function wr(s,o){return s.hasOwnProperty(lr)?s[lr]:null}class jo{constructor(o,c,d){this.previousValue=o,this.currentValue=c,this.firstChange=d}isFirstChange(){return this.firstChange}}function $s(){return Xu}function Xu(s){return s.type.prototype.ngOnChanges&&(s.setInput=Uc),Ll}function Ll(){const s=$o(this),o=s?.current;if(o){const c=s.previous;if(c===xr)s.previous=o;else for(let d in o)c[d]=o[d];s.current=null,this.ngOnChanges(o)}}function Uc(s,o,c,d){const f=$o(s)||function ti(s,o){return s[ed]=o}(s,{previous:xr,current:null}),p=f.current||(f.current={}),y=f.previous,w=this.declaredInputs[c],E=y[w];p[w]=new jo(E&&E.currentValue,o,y===xr),s[d]=o}$s.ngInherit=!0;const ed="__ngSimpleChanges__";function $o(s){return s[ed]||null}function Ln(s){for(;Array.isArray(s);)s=s[0];return s}function Pi(s,o){return Ln(o[s])}function Dr(s,o){return Ln(o[s.index])}function Go(s,o){return s.data[o]}function un(s,o){const c=o[s];return tr(c)?c:c[0]}function Hs(s){return 64==(64&s[2])}function wi(s,o){return null==o?null:s[o]}function $a(s){s[18]=0}function jn(s,o){s[5]+=o;let c=s,d=s[3];for(;null!==d&&(1===o&&1===c[5]||-1===o&&0===c[5]);)d[5]+=o,c=d,d=d[3]}const Ft={lFrame:Ja(null),bindingsEnabled:!0};function bo(){return Ft.bindingsEnabled}function Me(){return Ft.lFrame.lView}function Yt(){return Ft.lFrame.tView}function Hh(s){return Ft.lFrame.contextLView=s,s[8]}function qo(s){return Ft.lFrame.contextLView=null,s}function nr(){let s=Wo();for(;null!==s&&64===s.type;)s=s.parent;return s}function Wo(){return Ft.lFrame.currentTNode}function Bl(){const s=Ft.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}function Hr(s,o){const c=Ft.lFrame;c.currentTNode=s,c.isParent=o}function Vl(){return Ft.lFrame.isParent}function Zo(){Ft.lFrame.isParent=!1}function rr(){const s=Ft.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Ka(){return Ft.lFrame.bindingIndex++}function ws(s){const o=Ft.lFrame,c=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,c}function $c(s){Ft.lFrame.inI18n=s}function id(s,o){const c=Ft.lFrame;c.bindingIndex=c.bindingRootIndex=s,Ko(o)}function Ko(s){Ft.lFrame.currentDirectiveIndex=s}function Hc(s){const o=Ft.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}function Ya(){return Ft.lFrame.currentQueryIndex}function Gc(s){Ft.lFrame.currentQueryIndex=s}function Qa(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function sd(s,o,c){if(c&tt.SkipSelf){let f=o,p=s;for(;!(f=f.parent,null!==f||c&tt.Host||(f=Qa(p),null===f||(p=p[15],10&f.type))););if(null===f)return!1;o=f,s=p}const d=Ft.lFrame=qh();return d.currentTNode=o,d.lView=s,!0}function Yo(s){const o=qh(),c=s[1];Ft.lFrame=o,o.currentTNode=c.firstChild,o.lView=s,o.tView=c,o.contextLView=s,o.bindingIndex=c.bindingStartIndex,o.inI18n=!1}function qh(){const s=Ft.lFrame,o=null===s?null:s.child;return null===o?Ja(s):o}function Ja(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Wh(){const s=Ft.lFrame;return Ft.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const od=Wh;function Gs(){const s=Wh();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function Rn(){return Ft.lFrame.selectedIndex}function Ds(s){Ft.lFrame.selectedIndex=s}function Pn(){const s=Ft.lFrame;return Go(s.tView,s.selectedIndex)}function jl(s,o){for(let c=o.directiveStart,d=o.directiveEnd;c<d;c++){const p=s.data[c].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:E,ngAfterViewChecked:A,ngOnDestroy:M}=p;y&&(s.contentHooks||(s.contentHooks=[])).push(-c,y),w&&((s.contentHooks||(s.contentHooks=[])).push(c,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(c,w)),E&&(s.viewHooks||(s.viewHooks=[])).push(-c,E),A&&((s.viewHooks||(s.viewHooks=[])).push(c,A),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(c,A)),null!=M&&(s.destroyHooks||(s.destroyHooks=[])).push(c,M)}}function Qo(s,o,c){Xo(s,o,3,c)}function Jo(s,o,c,d){(3&s[2])===c&&Xo(s,o,c,d)}function cd(s,o){let c=s[2];(3&c)===o&&(c&=2047,c+=1,s[2]=c)}function Xo(s,o,c,d){const p=d??-1,y=o.length-1;let w=0;for(let E=void 0!==d?65535&s[18]:0;E<y;E++)if("number"==typeof o[E+1]){if(w=o[E],null!=d&&w>=d)break}else o[E]<0&&(s[18]+=65536),(w<p||-1==p)&&(ud(s,c,o,E),s[18]=(4294901760&s[18])+E+2),E++}function ud(s,o,c,d){const f=c[d]<0,p=c[d+1],w=s[f?-c[d]:c[d]];if(f){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{p.call(w)}finally{}}}else try{p.call(w)}finally{}}class Di{constructor(o,c,d){this.factory=o,this.resolving=!1,this.canSeeViewProviders=c,this.injectImpl=d}}function Cs(s,o,c){let d=0;for(;d<c.length;){const f=c[d];if("number"==typeof f){if(0!==f)break;d++;const p=c[d++],y=c[d++],w=c[d++];s.setAttribute(o,y,w,p)}else{const p=f,y=c[++d];Yc(p)?s.setProperty(o,p,y):s.setAttribute(o,p,y),d++}}return d}function el(s){return 3===s||4===s||6===s}function Yc(s){return 64===s.charCodeAt(0)}function tl(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let c=-1;for(let d=0;d<o.length;d++){const f=o[d];"number"==typeof f?c=f:0===c||hd(s,c,f,null,-1===c||2===c?o[++d]:null)}}return s}function hd(s,o,c,d,f){let p=0,y=s.length;if(-1===o)y=-1;else for(;p<s.length;){const w=s[p++];if("number"==typeof w){if(w===o){y=-1;break}if(w>o){y=p-1;break}}}for(;p<s.length;){const w=s[p];if("number"==typeof w)break;if(w===c){if(null===d)return void(null!==f&&(s[p+1]=f));if(d===s[p+1])return void(s[p+2]=f)}p++,null!==d&&p++,null!==f&&p++}-1!==y&&(s.splice(y,0,o),p=y+1),s.splice(p++,0,c),null!==d&&s.splice(p++,0,d),null!==f&&s.splice(p++,0,f)}function Yh(s){return-1!==s}function ir(s){return 32767&s}function qs(s,o){let c=function Qh(s){return s>>16}(s),d=o;for(;c>0;)d=d[15],c--;return d}let Qc=!0;function nl(s){const o=Qc;return Qc=s,o}let fd=0;const ri={};function Es(s,o){const c=zl(s,o);if(-1!==c)return c;const d=o[1];d.firstCreatePass&&(s.injectorIndex=o.length,Jc(d.data,s),Jc(o,null),Jc(d.blueprint,null));const f=rl(s,o),p=s.injectorIndex;if(Yh(f)){const y=ir(f),w=qs(f,o),E=w[1].data;for(let A=0;A<8;A++)o[p+A]=w[y+A]|E[y+A]}return o[p+8]=f,p}function Jc(s,o){s.push(0,0,0,0,0,0,0,0,o)}function zl(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function rl(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let c=0,d=null,f=o;for(;null!==f;){if(d=oa(f),null===d)return-1;if(c++,f=f[15],-1!==d.injectorIndex)return d.injectorIndex|c<<16}return-1}function Do(s,o,c){!function pd(s,o,c){let d;"string"==typeof c?d=c.charCodeAt(0)||0:c.hasOwnProperty(xn)&&(d=c[xn]),null==d&&(d=c[xn]=fd++);const f=255&d;o.data[s+(f>>5)]|=1<<f}(s,o,c)}function ta(s,o,c){if(c&tt.Optional||void 0!==s)return s;Re()}function Co(s,o,c,d){if(c&tt.Optional&&void 0===d&&(d=null),0==(c&(tt.Self|tt.Host))){const f=s[9],p=Cn(void 0);try{return f?f.get(o,d,c&tt.Optional):mr(o,d,c&tt.Optional)}finally{Cn(p)}}return ta(d,0,c)}function na(s,o,c,d=tt.Default,f){if(null!==s){if(1024&o[2]){const y=function ef(s,o,c,d,f){let p=s,y=o;for(;null!==p&&null!==y&&1024&y[2]&&!(256&y[2]);){const w=gd(p,y,c,d|tt.Self,ri);if(w!==ri)return w;let E=p.parent;if(!E){const A=y[21];if(A){const M=A.get(c,ri,d);if(M!==ri)return M}E=oa(y),y=y[15]}p=E}return f}(s,o,c,d,ri);if(y!==ri)return y}const p=gd(s,o,c,d,ri);if(p!==ri)return p}return Co(o,c,d,f)}function gd(s,o,c,d,f){const p=function Xh(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(xn)?s[xn]:void 0;return"number"==typeof o?o>=0?255&o:Xc:o}(c);if("function"==typeof p){if(!sd(o,s,d))return d&tt.Host?ta(f,0,d):Co(o,c,d,f);try{const y=p(d);if(null!=y||d&tt.Optional)return y;Re()}finally{od()}}else if("number"==typeof p){let y=null,w=zl(s,o),E=-1,A=d&tt.Host?o[16][6]:null;for((-1===w||d&tt.SkipSelf)&&(E=-1===w?rl(s,o):o[w+8],-1!==E&&Wl(d,!1)?(y=o[1],w=ir(E),o=qs(E,o)):w=-1);-1!==w;){const M=o[1];if(ra(p,w,M.data)){const U=ql(w,o,c,y,d,A);if(U!==ri)return U}E=o[w+8],-1!==E&&Wl(d,o[1].data[w+8]===A)&&ra(p,w,o)?(y=M,w=ir(E),o=qs(E,o)):w=-1}}return f}function ql(s,o,c,d,f,p){const y=o[1],w=y.data[s+8],M=sl(w,y,c,null==d?kc(w)&&Qc:d!=y&&0!=(3&w.type),f&tt.Host&&p===w);return null!==M?Xi(o,y,M,w):ri}function sl(s,o,c,d,f){const p=s.providerIndexes,y=o.data,w=1048575&p,E=s.directiveStart,M=p>>20,Z=f?w+M:s.directiveEnd;for(let se=d?w:w+M;se<Z;se++){const Ee=y[se];if(se<E&&c===Ee||se>=E&&Ee.type===c)return se}if(f){const se=y[E];if(se&&ei(se)&&se.type===c)return E}return null}function Xi(s,o,c,d){let f=s[c];const p=o.data;if(function Kc(s){return s instanceof Di}(f)){const y=f;y.resolving&&function nt(s,o){const c=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Ce(-200,`Circular dependency in DI detected for ${s}${c}`)}(function me(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():we(s)}(p[c]));const w=nl(y.canSeeViewProviders);y.resolving=!0;const E=y.injectImpl?Cn(y.injectImpl):null;sd(s,d,tt.Default);try{f=s[c]=y.factory(void 0,p,s,d),o.firstCreatePass&&c>=d.directiveStart&&function Zc(s,o,c){const{ngOnChanges:d,ngOnInit:f,ngDoCheck:p}=o.type.prototype;if(d){const y=Xu(o);(c.preOrderHooks||(c.preOrderHooks=[])).push(s,y),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,y)}f&&(c.preOrderHooks||(c.preOrderHooks=[])).push(0-s,f),p&&((c.preOrderHooks||(c.preOrderHooks=[])).push(s,p),(c.preOrderCheckHooks||(c.preOrderCheckHooks=[])).push(s,p))}(c,p[c],o)}finally{null!==E&&Cn(E),nl(w),y.resolving=!1,od()}}return f}function ra(s,o,c){return!!(c[o+(s>>5)]&1<<s)}function Wl(s,o){return!(s&tt.Self||s&tt.Host&&o)}class ia{constructor(o,c){this._tNode=o,this._lView=c}get(o,c,d){return na(this._tNode,this._lView,o,d,c)}}function Xc(){return new ia(nr(),Me())}function Ws(s){return Tn(()=>{const o=s.prototype.constructor,c=o[lr]||sa(o),d=Object.prototype;let f=Object.getPrototypeOf(s.prototype).constructor;for(;f&&f!==d;){const p=f[lr]||sa(f);if(p&&p!==c)return p;f=Object.getPrototypeOf(f)}return p=>new p})}function sa(s){return Ge(s)?()=>{const o=sa(ee(s));return o&&o()}:wr(s)}function oa(s){const o=s[1],c=o.type;return 2===c?o.declTNode:1===c?s[6]:null}function Zl(s){return function il(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const c=s.attrs;if(c){const d=c.length;let f=0;for(;f<d;){const p=c[f];if(el(p))break;if(0===p)f+=2;else if("number"==typeof p)for(f++;f<d&&"string"==typeof c[f];)f++;else{if(p===o)return c[f+1];f+=2}}}return null}(nr(),s)}const aa="__parameters__";function ca(s,o,c){return Tn(()=>{const d=function eu(s){return function(...c){if(s){const d=s(...c);for(const f in d)this[f]=d[f]}}}(o);function f(...p){if(this instanceof f)return d.apply(this,p),this;const y=new f(...p);return w.annotation=y,w;function w(E,A,M){const U=E.hasOwnProperty(aa)?E[aa]:Object.defineProperty(E,aa,{value:[]})[aa];for(;U.length<=M;)U.push(null);return(U[M]=U[M]||[]).push(y),E}}return c&&(f.prototype=Object.create(c.prototype)),f.prototype.ngMetadataName=s,f.annotationCls=f,f})}class An{constructor(o,c){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof c?this.__NG_ELEMENT_ID__=c:void 0!==c&&(this.\u0275prov=an({token:this,providedIn:c.providedIn||"root",factory:c.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Cr(s,o){void 0===o&&(o=s);for(let c=0;c<s.length;c++){let d=s[c];Array.isArray(d)?(o===s&&(o=s.slice(0,c)),Cr(d,o)):o!==s&&o.push(d)}return o}function Zs(s,o){s.forEach(c=>Array.isArray(c)?Zs(c,o):o(c))}function ol(s,o,c){o>=s.length?s.push(c):s.splice(o,0,c)}function Li(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function Ts(s,o){const c=[];for(let d=0;d<s;d++)c.push(o);return c}function ii(s,o,c){let d=Gr(s,o);return d>=0?s[1|d]=c:(d=~d,function Mg(s,o,c,d){let f=s.length;if(f==o)s.push(c,d);else if(1===f)s.push(d,s[0]),s[0]=c;else{for(f--,s.push(s[f-1],s[f]);f>o;)s[f]=s[f-2],f--;s[o]=c,s[o+1]=d}}(s,d,o,c)),d}function Yl(s,o){const c=Gr(s,o);if(c>=0)return s[1|c]}function Gr(s,o){return function fa(s,o,c){let d=0,f=s.length>>c;for(;f!==d;){const p=d+(f-d>>1),y=s[p<<c];if(o===y)return p<<c;y>o?f=p:d=p+1}return~(f<<c)}(s,o,1)}const ts={},tc="__NG_DI_FLAG__",ga="ngTempTokenPath",Is=/\n/gm,Ss="__source";let ll;function ma(s){const o=ll;return ll=s,o}function Dd(s,o=tt.Default){if(void 0===ll)throw new Ce(-203,!1);return null===ll?mr(s,void 0,o):ll.get(s,o&tt.Optional?null:void 0,o)}function Yn(s,o=tt.Default){return(function Wn(){return Xn}()||Dd)(ee(s),o)}function Cd(s,o=tt.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Yn(s,o)}function T(s){const o=[];for(let c=0;c<s.length;c++){const d=ee(s[c]);if(Array.isArray(d)){if(0===d.length)throw new Ce(900,!1);let f,p=tt.Default;for(let y=0;y<d.length;y++){const w=d[y],E=x(w);"number"==typeof E?-1===E?f=w.token:p|=E:f=w}o.push(Yn(f,p))}else o.push(Yn(d))}return o}function I(s,o){return s[tc]=o,s.prototype[tc]=o,s}function x(s){return s[tc]}const xe=I(ca("Optional"),8),vt=I(ca("SkipSelf"),4);let hf,iu,ou;function bw(s){hf=s}function Ed(){return void 0!==hf?hf:typeof document<"u"?document:void 0}function su(s){return function Td(){if(void 0===iu&&(iu=null,Pt.trustedTypes))try{iu=Pt.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return iu}()?.createHTML(s)||s}function Id(s){return function pf(){if(void 0===ou&&(ou=null,Pt.trustedTypes))try{ou=Pt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return ou}()?.createHTML(s)||s}class Ks{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Sd extends Ks{getTypeName(){return"HTML"}}class gf extends Ks{getTypeName(){return"Style"}}class Ys extends Ks{getTypeName(){return"Script"}}class mf extends Ks{getTypeName(){return"URL"}}class rc extends Ks{getTypeName(){return"ResourceURL"}}function To(s){return s instanceof Ks?s.changingThisBreaksApplicationSecurity:s}function Ns(s,o){const c=function _f(s){return s instanceof Ks&&s.getTypeName()||null}(s);if(null!=c&&c!==o){if("ResourceURL"===c&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${c} (see https://g.co/ng/security#xss)`)}return c===o}function fy(s){return new Sd(s)}function kg(s){return new gf(s)}function va(s){return new Ys(s)}function Fg(s){return new mf(s)}function Lg(s){return new rc(s)}function ss(s){const o=new Ad(s);return function b(){try{return!!(new window.DOMParser).parseFromString(su(""),"text/html")}catch{return!1}}()?new fl(o):o}class fl{constructor(o){this.inertDocumentHelper=o}getInertBodyElement(o){o="<body><remove></remove>"+o;try{const c=(new window.DOMParser).parseFromString(su(o),"text/html").body;return null===c?this.inertDocumentHelper.getInertBodyElement(o):(c.removeChild(c.firstChild),c)}catch{return null}}}class Ad{constructor(o){if(this.defaultDoc=o,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const c=this.inertDocument.createElement("html");this.inertDocument.appendChild(c);const d=this.inertDocument.createElement("body");c.appendChild(d)}}getInertBodyElement(o){const c=this.inertDocument.createElement("template");if("content"in c)return c.innerHTML=su(o),c;const d=this.inertDocument.createElement("body");return d.innerHTML=su(o),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(d),d}stripCustomNsAttrs(o){const c=o.attributes;for(let f=c.length-1;0<f;f--){const y=c.item(f).name;("xmlns:ns1"===y||0===y.indexOf("ns1:"))&&o.removeAttribute(y)}let d=o.firstChild;for(;d;)d.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(d),d=d.nextSibling}}const m=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;function _(s){return(s=String(s)).match(m)?s:"unsafe:"+s}function D(s){const o={};for(const c of s.split(","))o[c]=!0;return o}function N(...s){const o={};for(const c of s)for(const d in c)c.hasOwnProperty(d)&&(o[d]=!0);return o}const k=D("area,br,col,hr,img,wbr"),ne=D("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Ne=D("rp,rt"),Nn=N(k,N(ne,D("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),N(Ne,D("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),N(Ne,ne)),si=D("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),vf=N(si,D("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),D("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),bf=D("script,style,template");class py{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(o){let c=o.firstChild,d=!0;for(;c;)if(c.nodeType===Node.ELEMENT_NODE?d=this.startElement(c):c.nodeType===Node.TEXT_NODE?this.chars(c.nodeValue):this.sanitizedSomething=!0,d&&c.firstChild)c=c.firstChild;else for(;c;){c.nodeType===Node.ELEMENT_NODE&&this.endElement(c);let f=this.checkClobberedElement(c,c.nextSibling);if(f){c=f;break}c=this.checkClobberedElement(c,c.parentNode)}return this.buf.join("")}startElement(o){const c=o.nodeName.toLowerCase();if(!Nn.hasOwnProperty(c))return this.sanitizedSomething=!0,!bf.hasOwnProperty(c);this.buf.push("<"),this.buf.push(c);const d=o.attributes;for(let f=0;f<d.length;f++){const p=d.item(f),y=p.name,w=y.toLowerCase();if(!vf.hasOwnProperty(w)){this.sanitizedSomething=!0;continue}let E=p.value;si[w]&&(E=_(E)),this.buf.push(" ",y,'="',wf(E),'"')}return this.buf.push(">"),!0}endElement(o){const c=o.nodeName.toLowerCase();Nn.hasOwnProperty(c)&&!k.hasOwnProperty(c)&&(this.buf.push("</"),this.buf.push(c),this.buf.push(">"))}chars(o){this.buf.push(wf(o))}checkClobberedElement(o,c){if(c&&(o.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${o.outerHTML}`);return c}}const gy=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,ic=/([^\#-~ |!])/g;function wf(s){return s.replace(/&/g,"&amp;").replace(gy,function(o){return"&#"+(1024*(o.charCodeAt(0)-55296)+(o.charCodeAt(1)-56320)+65536)+";"}).replace(ic,function(o){return"&#"+o.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let lu;function Nd(s,o){let c=null;try{lu=lu||ss(s);let d=o?String(o):"";c=lu.getInertBodyElement(d);let f=5,p=d;do{if(0===f)throw new Error("Failed to sanitize html because the input is unstable");f--,d=p,p=c.innerHTML,c=lu.getInertBodyElement(d)}while(d!==p);return su((new py).sanitizeChildren(pl(c)||c))}finally{if(c){const d=pl(c)||c;for(;d.firstChild;)d.removeChild(d.firstChild)}}}function pl(s){return"content"in s&&function xd(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}var Un=(()=>((Un=Un||{})[Un.NONE=0]="NONE",Un[Un.HTML=1]="HTML",Un[Un.STYLE=2]="STYLE",Un[Un.SCRIPT=3]="SCRIPT",Un[Un.URL=4]="URL",Un[Un.RESOURCE_URL=5]="RESOURCE_URL",Un))();function Df(s){const o=cu();return o?Id(o.sanitize(Un.HTML,s)||""):Ns(s,"HTML")?Id(To(s)):Nd(Ed(),we(s))}function Cf(s){const o=cu();return o?o.sanitize(Un.URL,s)||"":Ns(s,"URL")?To(s):_(we(s))}function cu(){const s=Me();return s&&s[12]}const Ef=new An("ENVIRONMENT_INITIALIZER"),Tf=new An("INJECTOR",-1),ww=new An("INJECTOR_DEF_TYPES");class Dw{get(o,c=ts){if(c===ts){const d=new Error(`NullInjectorError: No provider for ${fe(o)}!`);throw d.name="NullInjectorError",d}return c}}function RT(...s){return{\u0275providers:Cw(0,s)}}function Cw(s,...o){const c=[],d=new Set;let f;return Zs(o,p=>{const y=p;If(y,c,[],d)&&(f||(f=[]),f.push(y))}),void 0!==f&&Ew(f,c),c}function Ew(s,o){for(let c=0;c<s.length;c++){const{providers:f}=s[c];Zs(f,p=>{o.push(p)})}}function If(s,o,c,d){if(!(s=ee(s)))return!1;let f=null,p=fs(s);const y=!p&&O(s);if(p||y){if(y&&!y.standalone)return!1;f=s}else{const E=s.ngModule;if(p=fs(E),!p)return!1;f=E}const w=d.has(f);if(y){if(w)return!1;if(d.add(f),y.dependencies){const E="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const A of E)If(A,o,c,d)}}else{if(!p)return!1;{if(null!=p.imports&&!w){let A;d.add(f);try{Zs(p.imports,M=>{If(M,o,c,d)&&(A||(A=[]),A.push(M))})}finally{}void 0!==A&&Ew(A,o)}if(!w){const A=wr(f)||(()=>new f);o.push({provide:f,useFactory:A,deps:Ot},{provide:ww,useValue:f,multi:!0},{provide:Ef,useValue:()=>Yn(f),multi:!0})}const E=p.providers;null==E||w||Zs(E,M=>{o.push(M)})}}return f!==s&&void 0!==s.providers}const Ug=_e({provide:String,useValue:_e});function Sf(s){return null!==s&&"object"==typeof s&&Ug in s}function sc(s){return"function"==typeof s}const Iw=new An("Set Injector scope."),Md={},jM={};let _y;function Bg(){return void 0===_y&&(_y=new Dw),_y}class oc{}class Vg extends oc{constructor(o,c,d,f){super(),this.parent=c,this.source=d,this.scopes=f,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,yy(o,y=>this.processProvider(y)),this.records.set(Tf,Rd(void 0,this)),f.has("environment")&&this.records.set(oc,Rd(void 0,this));const p=this.records.get(Iw);null!=p&&"string"==typeof p.value&&this.scopes.add(p.value),this.injectorDefTypes=new Set(this.get(ww.multi,Ot,tt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const c=ma(this),d=Cn(void 0);try{return o()}finally{ma(c),Cn(d)}}get(o,c=ts,d=tt.Default){this.assertNotDestroyed();const f=ma(this),p=Cn(void 0);try{if(!(d&tt.SkipSelf)){let w=this.records.get(o);if(void 0===w){const E=function UT(s){return"function"==typeof s||"object"==typeof s&&s instanceof An}(o)&&Nr(o);w=E&&this.injectableDefInScope(E)?Rd(jg(o),Md):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(d&tt.Self?Bg():this.parent).get(o,c=d&tt.Optional&&c===ts?null:c)}catch(y){if("NullInjectorError"===y.name){if((y[ga]=y[ga]||[]).unshift(fe(o)),f)throw y;return function V(s,o,c,d){const f=s[ga];throw o[Ss]&&f.unshift(o[Ss]),s.message=function X(s,o,c,d=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let f=fe(o);if(Array.isArray(o))f=o.map(fe).join(" -> ");else if("object"==typeof o){let p=[];for(let y in o)if(o.hasOwnProperty(y)){let w=o[y];p.push(y+":"+("string"==typeof w?JSON.stringify(w):fe(w)))}f=`{${p.join(", ")}}`}return`${c}${d?"("+d+")":""}[${f}]: ${s.replace(Is,"\n  ")}`}("\n"+s.message,f,c,d),s.ngTokenPath=f,s[ga]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{Cn(p),ma(f)}}resolveInjectorInitializers(){const o=ma(this),c=Cn(void 0);try{const d=this.get(Ef.multi,Ot,tt.Self);for(const f of d)f()}finally{ma(o),Cn(c)}}toString(){const o=[],c=this.records;for(const d of c.keys())o.push(fe(d));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Ce(205,!1)}processProvider(o){let c=sc(o=ee(o))?o:ee(o&&o.provide);const d=function kT(s){return Sf(s)?Rd(void 0,s.useValue):Rd(Sw(s),Md)}(o);if(sc(o)||!0!==o.multi)this.records.get(c);else{let f=this.records.get(c);f||(f=Rd(void 0,Md,!0),f.factory=()=>T(f.multi),this.records.set(c,f)),c=o,f.multi.push(o)}this.records.set(c,d)}hydrate(o,c){return c.value===Md&&(c.value=jM,c.value=c.factory()),"object"==typeof c.value&&c.value&&function LT(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(c.value)&&this._ngOnDestroyHooks.add(c.value),c.value}injectableDefInScope(o){if(!o.providedIn)return!1;const c=ee(o.providedIn);return"string"==typeof c?"any"===c||this.scopes.has(c):this.injectorDefTypes.has(c)}}function jg(s){const o=Nr(s),c=null!==o?o.factory:wr(s);if(null!==c)return c;if(s instanceof An)throw new Ce(204,!1);if(s instanceof Function)return function $M(s){const o=s.length;if(o>0)throw Ts(o,"?"),new Ce(204,!1);const c=function Fn(s){const o=s&&(s[Vr]||s[Ri]);if(o){const c=function hs(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${c}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${c}" class.`),o}return null}(s);return null!==c?()=>c.factory(s):()=>new s}(s);throw new Ce(204,!1)}function Sw(s,o,c){let d;if(sc(s)){const f=ee(s);return wr(f)||jg(f)}if(Sf(s))d=()=>ee(s.useValue);else if(function Tw(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...T(s.deps||[]));else if(function Af(s){return!(!s||!s.useExisting)}(s))d=()=>Yn(ee(s.useExisting));else{const f=ee(s&&(s.useClass||s.provide));if(!function FT(s){return!!s.deps}(s))return wr(f)||jg(f);d=()=>new f(...T(s.deps))}return d}function Rd(s,o,c=!1){return{factory:s,value:o,multi:c?[]:void 0}}function Aw(s){return!!s.\u0275providers}function yy(s,o){for(const c of s)Array.isArray(c)?yy(c,o):Aw(c)?yy(c.\u0275providers,o):o(c)}class vy{}class jT{resolveComponentFactory(o){throw function VT(s){const o=Error(`No component factory found for ${fe(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Nf=(()=>{class s{}return s.NULL=new jT,s})();function $T(){return uu(nr(),Me())}function uu(s,o){return new xf(Dr(s,o))}let xf=(()=>{class s{constructor(c){this.nativeElement=c}}return s.__NG_ELEMENT_ID__=$T,s})();function Js(s){return s instanceof xf?s.nativeElement:s}class Pd{}let by=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function HT(){const s=Me(),c=un(nr().index,s);return(tr(c)?c:s)[11]}(),s})(),GT=(()=>{class s{}return s.\u0275prov=an({token:s,providedIn:"root",factory:()=>null}),s})();class Hg{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const xw=new Hg("14.2.6"),wy={};function Cy(s){return s.ngOriginalError}class Rf{constructor(){this._console=console}handleError(o){const c=this._findOriginalError(o);this._console.error("ERROR",o),c&&this._console.error("ORIGINAL ERROR",c)}_findOriginalError(o){let c=o&&Cy(o);for(;c&&Cy(c);)c=Cy(c);return c||null}}const YT=/^>|^->|<!--|-->|--!>|<!-$/g,Pw=/(<|>)/;const Ty=new Map;let eI=0;const Uw="__ngContext__";function Jt(s,o){tr(o)?(s[Uw]=o[20],function nI(s){Ty.set(s[20],s)}(o)):s[Uw]=o}function ml(s){return s instanceof Function?s():s}var wa=(()=>((wa=wa||{})[wa.Important=1]="Important",wa[wa.DashCase=2]="DashCase",wa))();let xy;function yl(s,o){return xy(s,o)}function Er(s){const o=s[3];return _i(o)?o[3]:o}function nn(s){return Oy(s[13])}function Kg(s){return Oy(s[4])}function Oy(s){for(;null!==s&&!_i(s);)s=s[4];return s}function fu(s,o,c,d,f){if(null!=d){let p,y=!1;_i(d)?p=d:tr(d)&&(y=!0,d=d[0]);const w=Ln(d);0===s&&null!==c?null==f?Pf(o,c,w):bl(o,c,w,f||null,!0):1===s&&null!==c?bl(o,c,w,f||null,!0):2===s?Xw(o,w,y):3===s&&o.destroyNode(w),null!=p&&function YM(s,o,c,d,f){const p=c[7];p!==Ln(c)&&fu(o,s,d,p,f);for(let w=10;w<c.length;w++){const E=c[w];nm(E[1],E,s,o,d,p)}}(o,s,p,c,f)}}function Yg(s,o){return s.createText(o)}function My(s,o,c){s.setValue(o,c)}function zw(s,o){return s.createComment(function Ey(s){return s.replace(YT,o=>o.replace(Pw,"\u200b$1\u200b"))}(o))}function Qg(s,o,c){return s.createElement(o,c)}function Ry(s,o){const c=s[9],d=c.indexOf(o),f=o[3];512&o[2]&&(o[2]&=-513,jn(f,-1)),c.splice(d,1)}function Xg(s,o){if(s.length<=10)return;const c=10+o,d=s[c];if(d){const f=d[17];null!==f&&f!==s&&Ry(f,d),o>0&&(s[c-1][4]=d[4]);const p=Li(s,10+o);!function Jg(s,o){nm(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(d[1],d);const y=p[19];null!==y&&y.detachView(p[1]),d[3]=null,d[4]=null,d[2]&=-65}return d}function em(s,o){if(!(128&o[2])){const c=o[11];c.destroyNode&&nm(s,o,c,3,null,null),function Zw(s){let o=s[13];if(!o)return tm(s[1],s);for(;o;){let c=null;if(tr(o))c=o[13];else{const d=o[10];d&&(c=d)}if(!c){for(;o&&!o[4]&&o!==s;)tr(o)&&tm(o[1],o),o=o[3];null===o&&(o=s),tr(o)&&tm(o[1],o),c=o&&o[4]}o=c}}(o)}}function tm(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Yw(s,o){let c;if(null!=s&&null!=(c=s.destroyHooks))for(let d=0;d<c.length;d+=2){const f=o[c[d]];if(!(f instanceof Di)){const p=c[d+1];if(Array.isArray(p))for(let y=0;y<p.length;y+=2){const w=f[p[y]],E=p[y+1];try{E.call(w)}finally{}}else try{p.call(f)}finally{}}}}(s,o),function Py(s,o){const c=s.cleanup,d=o[7];let f=-1;if(null!==c)for(let p=0;p<c.length-1;p+=2)if("string"==typeof c[p]){const y=c[p+1],w="function"==typeof y?y(o):Ln(o[y]),E=d[f=c[p+2]],A=c[p+3];"boolean"==typeof A?w.removeEventListener(c[p],E,A):A>=0?d[f=A]():d[f=-A].unsubscribe(),p+=2}else{const y=d[f=c[p+1]];c[p].call(y)}if(null!==d){for(let p=f+1;p<d.length;p++)(0,d[p])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const c=o[17];if(null!==c&&_i(o[3])){c!==o[3]&&Ry(c,o);const d=o[19];null!==d&&d.detachView(s)}!function Sy(s){Ty.delete(s[20])}(o)}}function ky(s,o,c){return Fy(s,o.parent,c)}function Fy(s,o,c){let d=o;for(;null!==d&&40&d.type;)d=(o=d).parent;if(null===d)return c[0];if(2&d.flags){const f=s.data[d.directiveStart].encapsulation;if(f===yt.None||f===yt.Emulated)return null}return Dr(d,c)}function bl(s,o,c,d,f){s.insertBefore(o,c,d,f)}function Pf(s,o,c){s.appendChild(o,c)}function Ly(s,o,c,d,f){null!==d?bl(s,o,c,d,f):Pf(s,o,c)}function qr(s,o){return s.parentNode(o)}function Uy(s,o,c){return pI(s,o,c)}function fI(s,o,c){return 40&s.type?Dr(s,c):null}let pu,pI=fI;function gu(s,o){pI=s,pu=o}function kd(s,o,c,d){const f=ky(s,d,o),p=o[11],w=Uy(d.parent||o[6],d,o);if(null!=f)if(Array.isArray(c))for(let E=0;E<c.length;E++)Ly(p,f,c[E],w,!1);else Ly(p,f,c,w,!1);void 0!==pu&&pu(p,d,o,c,f)}function mu(s,o){if(null!==o){const c=o.type;if(3&c)return Dr(o,s);if(4&c)return kf(-1,s[o.index]);if(8&c){const d=o.child;if(null!==d)return mu(s,d);{const f=s[o.index];return _i(f)?kf(-1,f):Ln(f)}}if(32&c)return yl(o,s)()||Ln(s[o.index]);{const d=Jw(s,o);return null!==d?Array.isArray(d)?d[0]:mu(Er(s[16]),d):mu(s,o.next)}}return null}function Jw(s,o){return null!==o?s[16][6].projection[o.projection]:null}function kf(s,o){const c=10+s+1;if(c<o.length){const d=o[c],f=d[1].firstChild;if(null!==f)return mu(d,f)}return o[7]}function Xw(s,o,c){const d=qr(s,o);d&&function Qw(s,o,c,d){s.removeChild(o,c,d)}(s,d,o,c)}function e1(s,o,c,d,f,p,y){for(;null!=c;){const w=d[c.index],E=c.type;if(y&&0===o&&(w&&Jt(Ln(w),d),c.flags|=4),64!=(64&c.flags))if(8&E)e1(s,o,c.child,d,f,p,!1),fu(o,s,f,w,p);else if(32&E){const A=yl(c,d);let M;for(;M=A();)fu(o,s,f,M,p);fu(o,s,f,w,p)}else 16&E?gI(s,o,d,c,f,p):fu(o,s,f,w,p);c=y?c.projectionNext:c.next}}function nm(s,o,c,d,f,p){e1(c,d,s.firstChild,o,f,p,!1)}function gI(s,o,c,d,f,p){const y=c[16],E=y[6].projection[d.projection];if(Array.isArray(E))for(let A=0;A<E.length;A++)fu(o,s,f,E[A],p);else e1(s,o,E,y[3],f,p,!0)}function mI(s,o,c){s.setAttribute(o,"style",c)}function By(s,o,c){""===c?s.removeAttribute(o,"class"):s.setAttribute(o,"class",c)}function Vy(s,o,c){let d=s.length;for(;;){const f=s.indexOf(o,c);if(-1===f)return f;if(0===f||s.charCodeAt(f-1)<=32){const p=o.length;if(f+p===d||s.charCodeAt(f+p)<=32)return f}c=f+1}}const t1="ng-template";function _I(s,o,c){let d=0;for(;d<s.length;){let f=s[d++];if(c&&"class"===f){if(f=s[d],-1!==Vy(f.toLowerCase(),o,0))return!0}else if(1===f){for(;d<s.length&&"string"==typeof(f=s[d++]);)if(f.toLowerCase()===o)return!0;return!1}}return!1}function rm(s){return 4===s.type&&s.value!==t1}function Ff(s,o,c){return o===(4!==s.type||c?s.value:t1)}function im(s,o,c){let d=4;const f=s.attrs||[],p=function jy(s){for(let o=0;o<s.length;o++)if(el(s[o]))return o;return s.length}(f);let y=!1;for(let w=0;w<o.length;w++){const E=o[w];if("number"!=typeof E){if(!y)if(4&d){if(d=2|1&d,""!==E&&!Ff(s,E,c)||""===E&&1===o.length){if(Ei(d))return!1;y=!0}}else{const A=8&d?E:o[++w];if(8&d&&null!==s.attrs){if(!_I(s.attrs,A,c)){if(Ei(d))return!1;y=!0}continue}const U=Lf(8&d?"class":E,f,rm(s),c);if(-1===U){if(Ei(d))return!1;y=!0;continue}if(""!==A){let Z;Z=U>p?"":f[U+1].toLowerCase();const se=8&d?Z:null;if(se&&-1!==Vy(se,A,0)||2&d&&A!==Z){if(Ei(d))return!1;y=!0}}}}else{if(!y&&!Ei(d)&&!Ei(E))return!1;if(y&&Ei(E))continue;y=!1,d=E|1&d}}return Ei(d)||y}function Ei(s){return 0==(1&s)}function Lf(s,o,c,d){if(null===o)return-1;let f=0;if(d||!c){let p=!1;for(;f<o.length;){const y=o[f];if(y===s)return f;if(3===y||6===y)p=!0;else{if(1===y||2===y){let w=o[++f];for(;"string"==typeof w;)w=o[++f];continue}if(4===y)break;if(0===y){f+=4;continue}}f+=p?1:2}return-1}return function r1(s,o){let c=s.indexOf(4);if(c>-1)for(c++;c<s.length;){const d=s[c];if("number"==typeof d)return-1;if(d===o)return c;c++}return-1}(o,s)}function sm(s,o,c=!1){for(let d=0;d<o.length;d++)if(im(s,o[d],c))return!0;return!1}function om(s,o){e:for(let c=0;c<o.length;c++){const d=o[c];if(s.length===d.length){for(let f=0;f<s.length;f++)if(s[f]!==d[f])continue e;return!0}}return!1}function $y(s,o){return s?":not("+o.trim()+")":o}function i1(s){let o=s[0],c=1,d=2,f="",p=!1;for(;c<s.length;){let y=s[c];if("string"==typeof y)if(2&d){const w=s[++c];f+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&d?f+="."+y:4&d&&(f+=" "+y);else""!==f&&!Ei(y)&&(o+=$y(p,f),f=""),d=y,p=p||!Ei(d);c++}return""!==f&&(o+=$y(p,f)),o}const qt={};function yI(s){Hy(Yt(),Me(),Rn()+s,!1)}function Hy(s,o,c,d){if(!d)if(3==(3&o[2])){const p=s.preOrderCheckHooks;null!==p&&Qo(o,p,c)}else{const p=s.preOrderHooks;null!==p&&Jo(o,p,0,c)}Ds(c)}function o1(s,o=null,c=null,d){const f=zy(s,o,c,d);return f.resolveInjectorInitializers(),f}function zy(s,o=null,c=null,d,f=new Set){const p=[c||Ot,RT(s)];return d=d||("object"==typeof s?void 0:fe(s)),new Vg(p,o||Bg(),d||null,f)}let _u=(()=>{class s{static create(c,d){if(Array.isArray(c))return o1({name:""},d,c,"");{const f=c.name??"";return o1({name:f},c.parent,c.providers,f)}}}return s.THROW_IF_NOT_FOUND=ts,s.NULL=new Dw,s.\u0275prov=an({token:s,providedIn:"any",factory:()=>Yn(Tf)}),s.__NG_ELEMENT_ID__=-1,s})();function Ld(s,o=tt.Default){const c=Me();return null===c?Yn(s,o):na(nr(),c,ee(s),o)}function Ky(){throw new Error("invalid")}function Yy(s,o){return s<<17|o<<2}function Xs(s){return s>>17&32767}function Qy(s){return 2|s}function Da(s){return(131068&s)>>2}function Gf(s,o){return-131069&s|o<<2}function fm(s){return 1|s}function iv(s,o){const c=s.contentQueries;if(null!==c)for(let d=0;d<c.length;d+=2){const f=c[d],p=c[d+1];if(-1!==p){const y=s.data[p];Gc(f),y.contentQueries(2,o[p],p)}}}function sv(s,o,c,d,f,p,y,w,E,A,M){const U=o.blueprint.slice();return U[0]=f,U[2]=76|d,(null!==M||s&&1024&s[2])&&(U[2]|=1024),$a(U),U[3]=U[15]=s,U[8]=c,U[10]=y||s&&s[10],U[11]=w||s&&s[11],U[12]=E||s&&s[12]||null,U[9]=A||s&&s[9]||null,U[6]=p,U[20]=function tI(){return eI++}(),U[21]=M,U[16]=2==o.type?s[16]:U,U}function Wf(s,o,c,d,f){let p=s.data[o];if(null===p)p=vm(s,o,c,d,f),function rd(){return Ft.lFrame.inI18n}()&&(p.flags|=64);else if(64&p.type){p.type=c,p.value=d,p.attrs=f;const y=Bl();p.injectorIndex=null===y?-1:y.injectorIndex}return Hr(p,!0),p}function vm(s,o,c,d,f){const p=Wo(),y=Vl(),E=s.data[o]=function VI(s,o,c,d,f,p){return{type:c,index:d,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:f,attrs:p,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?p:p&&p.parent,c,o,d,f);return null===s.firstChild&&(s.firstChild=E),null!==p&&(y?null==p.child&&null!==E.parent&&(p.child=E):null===p.next&&(p.next=E)),E}function Ca(s,o,c,d){if(0===c)return-1;const f=o.length;for(let p=0;p<c;p++)o.push(d),s.blueprint.push(d),s.data.push(null);return f}function S1(s,o,c){Yo(o);try{const d=s.viewQuery;null!==d&&_v(1,d,c);const f=s.template;null!==f&&UI(s,o,f,1,c),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&iv(s,o),s.staticViewQueries&&_v(2,s.viewQuery,c);const p=s.components;null!==p&&function I1(s,o){for(let c=0;c<o.length;c++)gv(s,o[c])}(o,p)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{o[2]&=-5,Gs()}}function ov(s,o,c,d){const f=o[2];if(128!=(128&f)){Yo(o);try{$a(o),function Za(s){return Ft.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==c&&UI(s,o,c,2,d);const y=3==(3&f);if(y){const A=s.preOrderCheckHooks;null!==A&&Qo(o,A,null)}else{const A=s.preOrderHooks;null!==A&&Jo(o,A,0,null),cd(o,0)}if(function N1(s){for(let o=nn(s);null!==o;o=Kg(o)){if(!o[2])continue;const c=o[9];for(let d=0;d<c.length;d++){const f=c[d],p=f[3];0==(512&f[2])&&jn(p,1),f[2]|=512}}}(o),function pv(s){for(let o=nn(s);null!==o;o=Kg(o))for(let c=10;c<o.length;c++){const d=o[c],f=d[1];Hs(d)&&ov(f,d,f.template,d[8])}}(o),null!==s.contentQueries&&iv(s,o),y){const A=s.contentCheckHooks;null!==A&&Qo(o,A)}else{const A=s.contentHooks;null!==A&&Jo(o,A,1),cd(o,1)}!function E1(s,o){const c=s.hostBindingOpCodes;if(null!==c)try{for(let d=0;d<c.length;d++){const f=c[d];if(f<0)Ds(~f);else{const p=f,y=c[++d],w=c[++d];id(y,p),w(2,o[p])}}}finally{Ds(-1)}}(s,o);const w=s.components;null!==w&&function T1(s,o){for(let c=0;c<o.length;c++)GI(s,o[c])}(o,w);const E=s.viewQuery;if(null!==E&&_v(2,E,d),y){const A=s.viewCheckHooks;null!==A&&Qo(o,A)}else{const A=s.viewHooks;null!==A&&Jo(o,A,2),cd(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,jn(o[3],-1))}finally{Gs()}}}function UI(s,o,c,d,f){const p=Rn(),y=2&d;try{Ds(-1),y&&o.length>22&&Hy(s,o,22,!1),c(d,f)}finally{Ds(p)}}function av(s,o,c){if(Lo(o)){const f=o.directiveEnd;for(let p=o.directiveStart;p<f;p++){const y=s.data[p];y.contentQueries&&y.contentQueries(1,c[p],p)}}}function pt(s,o,c){!bo()||(function hv(s,o,c,d){const f=c.directiveStart,p=c.directiveEnd;s.firstCreatePass||Es(c,o),Jt(d,o);const y=c.initialInputs;for(let w=f;w<p;w++){const E=s.data[w],A=ei(E);A&&HI(o,c,E);const M=Xi(o,s,w,c);Jt(M,o),null!==y&&Yr(0,w-f,M,E,0,y),A&&(un(c.index,o)[8]=M)}}(s,o,c,Dr(c,o)),128==(128&c.flags)&&function A1(s,o,c){const d=c.directiveStart,f=c.directiveEnd,p=c.index,y=function zh(){return Ft.lFrame.currentDirectiveIndex}();try{Ds(p);for(let w=d;w<f;w++){const E=s.data[w],A=o[w];Ko(w),(null!==E.hostBindings||0!==E.hostVars||null!==E.hostAttrs)&&yr(E,A)}}finally{Ds(-1),Ko(y)}}(s,o,c))}function wn(s,o,c=Dr){const d=o.localNames;if(null!==d){let f=o.index+1;for(let p=0;p<d.length;p+=2){const y=d[p+1],w=-1===y?c(o,s):s[y];s[f++]=w}}}function Rr(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=lv(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function lv(s,o,c,d,f,p,y,w,E,A){const M=22+d,U=M+f,Z=function bm(s,o){const c=[];for(let d=0;d<o;d++)c.push(d<s?null:qt);return c}(M,U),se="function"==typeof A?A():A;return Z[1]={type:s,blueprint:Z,template:c,queries:null,viewQuery:w,declTNode:o,data:Z.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:U,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof p?p():p,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:E,consts:se,incompleteFirstPass:!1}}function Kf(s,o,c,d){const f=yv(o);null===c?f.push(d):(f.push(c),s.firstCreatePass&&vv(s).push(d,f.length-1))}function cv(s,o,c){for(let d in s)if(s.hasOwnProperty(d)){const f=s[d];(c=null===c?{}:c).hasOwnProperty(d)?c[d].push(o,f):c[d]=[o,f]}return c}function Vd(s,o){const d=o.directiveEnd,f=s.data,p=o.attrs,y=[];let w=null,E=null;for(let A=o.directiveStart;A<d;A++){const M=f[A],U=M.inputs,Z=null===p||rm(o)?null:hc(U,p);y.push(Z),w=cv(U,A,w),E=cv(M.outputs,A,E)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=16),w.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=y,o.inputs=w,o.outputs=E}function oi(s,o,c,d,f,p,y,w){const E=Dr(o,c);let M,A=o.inputs;!w&&null!=A&&(M=A[d])?(Pr(s,c,M,d,f),kc(o)&&uv(c,o.index)):3&o.type&&(d=function jI(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),f=null!=y?y(f,o.value||"",d):f,p.setProperty(E,d,f))}function uv(s,o){const c=un(o,s);16&c[2]||(c[2]|=32)}function Io(s,o,c,d){let f=!1;if(bo()){const p=function ai(s,o,c){const d=s.directiveRegistry;let f=null;if(d)for(let p=0;p<d.length;p++){const y=d[p];sm(c,y.selectors,!1)&&(f||(f=[]),Do(Es(c,o),s,y.type),ei(y)?(dc(s,c),f.unshift(y)):f.push(y))}return f}(s,o,c),y=null===d?null:{"":-1};if(null!==p){f=!0,Qf(c,s.data.length,p.length);for(let M=0;M<p.length;M++){const U=p[M];U.providersResolver&&U.providersResolver(U)}let w=!1,E=!1,A=Ca(s,o,p.length,null);for(let M=0;M<p.length;M++){const U=p[M];c.mergedAttrs=tl(c.mergedAttrs,U.hostAttrs),fv(s,c,o,A,U),li(A,U,y),null!==U.contentQueries&&(c.flags|=8),(null!==U.hostBindings||null!==U.hostAttrs||0!==U.hostVars)&&(c.flags|=128);const Z=U.type.prototype;!w&&(Z.ngOnChanges||Z.ngOnInit||Z.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(c.index),w=!0),!E&&(Z.ngOnChanges||Z.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(c.index),E=!0),A++}Vd(s,c)}y&&function Zr(s,o,c){if(o){const d=s.localNames=[];for(let f=0;f<o.length;f+=2){const p=c[o[f+1]];if(null==p)throw new Ce(-301,!1);d.push(o[f],p)}}}(c,d,y)}return c.mergedAttrs=tl(c.mergedAttrs,c.attrs),f}function dv(s,o,c,d,f,p){const y=p.hostBindings;if(y){let w=s.hostBindingOpCodes;null===w&&(w=s.hostBindingOpCodes=[]);const E=~o.index;(function Wr(s){let o=s.length;for(;o>0;){const c=s[--o];if("number"==typeof c&&c<0)return c}return 0})(w)!=E&&w.push(E),w.push(d,f,y)}}function yr(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function dc(s,o){o.flags|=2,(s.components||(s.components=[])).push(o.index)}function li(s,o,c){if(c){if(o.exportAs)for(let d=0;d<o.exportAs.length;d++)c[o.exportAs[d]]=s;ei(o)&&(c[""]=s)}}function Qf(s,o,c){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+c,s.providerIndexes=o}function fv(s,o,c,d,f){s.data[d]=f;const p=f.factory||(f.factory=wr(f.type)),y=new Di(p,ei(f),Ld);s.blueprint[d]=y,c[d]=y,dv(s,o,0,d,Ca(s,c,f.hostVars,qt),f)}function HI(s,o,c){const d=Dr(o,s),f=Rr(c),p=s[10],y=fc(s,sv(s,f,null,c.onPush?32:16,d,o,p,p.createRenderer(d,c),null,null,null));s[o.index]=y}function Dl(s,o,c,d,f,p,y){if(null==p)s.removeAttribute(o,f,c);else{const w=null==y?we(p):y(p,d||"",f);s.setAttribute(o,f,w,c)}}function Yr(s,o,c,d,f,p){const y=p[o];if(null!==y){const w=d.setInput;for(let E=0;E<y.length;){const A=y[E++],M=y[E++],U=y[E++];null!==w?d.setInput(c,U,A,M):c[M]=U}}}function hc(s,o){let c=null,d=0;for(;d<o.length;){const f=o[d];if(0!==f)if(5!==f){if("number"==typeof f)break;s.hasOwnProperty(f)&&(null===c&&(c=[]),c.push(f,s[f],o[d+1])),d+=2}else d+=2;else d+=4}return c}function jd(s,o,c,d){return new Array(s,!0,!1,o,null,0,d,c,null,null)}function GI(s,o){const c=un(o,s);if(Hs(c)){const d=c[1];48&c[2]?ov(d,c,d.template,c[8]):c[5]>0&&wm(c)}}function wm(s){for(let d=nn(s);null!==d;d=Kg(d))for(let f=10;f<d.length;f++){const p=d[f];if(Hs(p))if(512&p[2]){const y=p[1];ov(y,p,y.template,p[8])}else p[5]>0&&wm(p)}const c=s[1].components;if(null!==c)for(let d=0;d<c.length;d++){const f=un(c[d],s);Hs(f)&&f[5]>0&&wm(f)}}function gv(s,o){const c=un(o,s),d=c[1];(function rn(s,o){for(let c=o.length;c<s.blueprint.length;c++)o.push(s.blueprint[c])})(d,c),S1(d,c,c[8])}function fc(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function mv(s){for(;s;){s[2]|=32;const o=Er(s);if(Fc(s)&&!o)return s;s=o}return null}function Cl(s,o,c,d=!0){const f=o[10];f.begin&&f.begin();try{ov(s,o,s.template,c)}catch(y){throw d&&zI(o,y),y}finally{f.end&&f.end()}}function _v(s,o,c){Gc(0),o(s,c)}function yv(s){return s[7]||(s[7]=[])}function vv(s){return s.cleanup||(s.cleanup=[])}function zI(s,o){const c=s[9],d=c?c.get(Rf,null):null;d&&d.handleError(o)}function Pr(s,o,c,d,f){for(let p=0;p<c.length;){const y=c[p++],w=c[p++],E=o[y],A=s.data[y];null!==A.setInput?A.setInput(E,f,d,w):E[w]=f}}function $d(s,o,c){let d=c?s.styles:null,f=c?s.classes:null,p=0;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?p=w:1==p?f=ve(f,w):2==p&&(d=ve(d,w+": "+o[++y]+";"))}c?s.styles=d:s.stylesWithoutHost=d,c?s.classes=f:s.classesWithoutHost=f}function Dm(s,o,c,d,f=!1){for(;null!==c;){const p=o[c.index];if(null!==p&&d.push(Ln(p)),_i(p))for(let w=10;w<p.length;w++){const E=p[w],A=E[1].firstChild;null!==A&&Dm(E[1],E,A,d)}const y=c.type;if(8&y)Dm(s,o,c.child,d);else if(32&y){const w=yl(c,o);let E;for(;E=w();)d.push(E)}else if(16&y){const w=Jw(o,c);if(Array.isArray(w))d.push(...w);else{const E=Er(o[16]);Dm(E[1],E,w,d,!0)}}c=f?c.projectionNext:c.next}return d}class Jf{constructor(o,c){this._lView=o,this._cdRefInjectingView=c,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,c=o[1];return Dm(c,o,c.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(_i(o)){const c=o[8],d=c?c.indexOf(this):-1;d>-1&&(Xg(o,d),Li(c,d))}this._attachedToViewContainer=!1}em(this._lView[1],this._lView)}onDestroy(o){Kf(this._lView[1],this._lView,null,o)}markForCheck(){mv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Cl(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Ce(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Ww(s,o){nm(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Ce(902,!1);this._appRef=o}}class x1 extends Jf{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Cl(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class Cm extends Nf{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const c=O(o);return new Hd(c,this.ngModule)}}function O1(s){const o=[];for(let c in s)s.hasOwnProperty(c)&&o.push({propName:s[c],templateName:c});return o}class qI{constructor(o,c){this.injector=o,this.parentInjector=c}get(o,c,d){const f=this.injector.get(o,wy,d);return f!==wy||c===wy?f:this.parentInjector.get(o,c,d)}}class Hd extends vy{constructor(o,c){super(),this.componentDef=o,this.ngModule=c,this.componentType=o.type,this.selector=function am(s){return s.map(i1).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!c}get inputs(){return O1(this.componentDef.inputs)}get outputs(){return O1(this.componentDef.outputs)}create(o,c,d,f){let p=(f=f||this.ngModule)instanceof oc?f:f?.injector;p&&null!==this.componentDef.getStandaloneInjector&&(p=this.componentDef.getStandaloneInjector(p)||p);const y=p?new qI(o,p):o,w=y.get(Pd,null);if(null===w)throw new Ce(407,!1);const E=y.get(GT,null),A=w.createRenderer(null,this.componentDef),M=this.componentDef.selectors[0][0]||"div",U=d?function BI(s,o,c){return s.selectRootElement(o,c===yt.ShadowDom)}(A,d,this.componentDef.encapsulation):Qg(w.createRenderer(null,this.componentDef),M,function M1(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(M)),Z=this.componentDef.onPush?288:272,se=lv(0,null,null,1,0,null,null,null,null,null),Ee=sv(null,se,null,Z,null,null,w,A,E,y,null);let We,Je;Yo(Ee);try{const dt=function Xf(s,o,c,d,f,p){const y=c[1];c[22]=s;const E=Wf(y,22,2,"#host",null),A=E.mergedAttrs=o.hostAttrs;null!==A&&($d(E,A,!0),null!==s&&(Cs(f,s,A),null!==E.classes&&By(f,s,E.classes),null!==E.styles&&mI(f,s,E.styles)));const M=d.createRenderer(s,o),U=sv(c,Rr(o),null,o.onPush?32:16,c[22],E,d,M,p||null,null,null);return y.firstCreatePass&&(Do(Es(E,c),y,o.type),dc(y,E),Qf(E,c.length,1)),fc(c,U),c[22]=U}(U,this.componentDef,Ee,w,A);if(U)if(d)Cs(A,U,["ng-version",xw.full]);else{const{attrs:At,classes:ke}=function Uf(s){const o=[],c=[];let d=1,f=2;for(;d<s.length;){let p=s[d];if("string"==typeof p)2===f?""!==p&&o.push(p,s[++d]):8===f&&c.push(p);else{if(!Ei(f))break;f=p}d++}return{attrs:o,classes:c}}(this.componentDef.selectors[0]);At&&Cs(A,U,At),ke&&ke.length>0&&By(A,U,ke.join(" "))}if(Je=Go(se,22),void 0!==c){const At=Je.projection=[];for(let ke=0;ke<this.ngContentSelectors.length;ke++){const Rt=c[ke];At.push(null!=Rt?Array.from(Rt):null)}}We=function WI(s,o,c,d){const f=c[1],p=function Yf(s,o,c){const d=nr();s.firstCreatePass&&(c.providersResolver&&c.providersResolver(c),fv(s,d,o,Ca(s,o,1,null),c),Vd(s,d));const f=Xi(o,s,d.directiveStart,d);Jt(f,o);const p=Dr(d,o);return p&&Jt(p,o),f}(f,c,o);if(s[8]=c[8]=p,null!==d)for(const w of d)w(p,o);if(o.contentQueries){const w=nr();o.contentQueries(1,p,w.directiveStart)}const y=nr();return!f.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(Ds(y.index),dv(c[1],y,0,y.directiveStart,y.directiveEnd,o),yr(o,p)),p}(dt,this.componentDef,Ee,[wu]),S1(se,Ee,null)}finally{Gs()}return new bu(this.componentType,We,uu(Je,Ee),Ee,Je)}}class bu extends class BT{}{constructor(o,c,d,f,p){super(),this.location=d,this._rootLView=f,this._tNode=p,this.instance=c,this.hostView=this.changeDetectorRef=new x1(f),this.componentType=o}setInput(o,c){const d=this._tNode.inputs;let f;if(null!==d&&(f=d[o])){const p=this._rootLView;Pr(p[1],p,f,o,c),uv(p,this._tNode.index)}}get injector(){return new ia(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function wu(){const s=nr();jl(Me()[1],s)}function Em(s){let o=function P1(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),c=!0;const d=[s];for(;o;){let f;if(ei(s))f=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Ce(903,!1);f=o.\u0275dir}if(f){if(c){d.push(f);const y=s;y.inputs=Cv(s.inputs),y.declaredInputs=Cv(s.declaredInputs),y.outputs=Cv(s.outputs);const w=f.hostBindings;w&&k1(s,w);const E=f.viewQuery,A=f.contentQueries;if(E&&Tm(s,E),A&&ep(s,A),de(s.inputs,f.inputs),de(s.declaredInputs,f.declaredInputs),de(s.outputs,f.outputs),ei(f)&&f.data.animation){const M=s.data;M.animation=(M.animation||[]).concat(f.data.animation)}}const p=f.features;if(p)for(let y=0;y<p.length;y++){const w=p[y];w&&w.ngInherit&&w(s),w===Em&&(c=!1)}}o=Object.getPrototypeOf(o)}!function Dv(s){let o=0,c=null;for(let d=s.length-1;d>=0;d--){const f=s[d];f.hostVars=o+=f.hostVars,f.hostAttrs=tl(f.hostAttrs,c=tl(c,f.hostAttrs))}}(d)}function Cv(s){return s===xr?{}:s===Ot?[]:s}function Tm(s,o){const c=s.viewQuery;s.viewQuery=c?(d,f)=>{o(d,f),c(d,f)}:o}function ep(s,o){const c=s.contentQueries;s.contentQueries=c?(d,f,p)=>{o(d,f,p),c(d,f,p)}:o}function k1(s,o){const c=s.hostBindings;s.hostBindings=c?(d,f)=>{o(d,f),c(d,f)}:o}let Du=null;function pc(){if(!Du){const s=Pt.Symbol;if(s&&s.iterator)Du=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let c=0;c<o.length;++c){const d=o[c];"entries"!==d&&"size"!==d&&Map.prototype[d]===Map.prototype.entries&&(Du=d)}}}return Du}function tp(s){return!!Gd(s)&&(Array.isArray(s)||!(s instanceof Map)&&pc()in s)}function Gd(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ea(s,o,c){return s[o]=c}function Ii(s,o,c){return!Object.is(s[o],c)&&(s[o]=c,!0)}function Cu(s,o,c,d){const f=Ii(s,o,c);return Ii(s,o+1,d)||f}function Tv(s,o,c,d){const f=Me();return Ii(f,Ka(),o)&&(Yt(),function Kr(s,o,c,d,f,p){const y=Dr(s,o);Dl(o[11],y,p,s.value,c,d,f)}(Pn(),f,s,o,c,d)),Tv}function gc(s,o,c,d){return Ii(s,Ka(),c)?o+we(c)+d:qt}function Am(s,o,c,d,f,p,y,w){const E=Me(),A=Yt(),M=s+22,U=A.firstCreatePass?function XI(s,o,c,d,f,p,y,w,E){const A=o.consts,M=Wf(o,s,4,y||null,wi(A,w));Io(o,c,M,wi(A,E)),jl(o,M);const U=M.tViews=lv(2,M,d,f,p,o.directiveRegistry,o.pipeRegistry,null,o.schemas,A);return null!==o.queries&&(o.queries.template(o,M),U.queries=o.queries.embeddedTView(M)),M}(M,A,E,o,c,d,f,p,y):A.data[M];Hr(U,!1);const Z=E[11].createComment("");kd(A,E,Z,U),Jt(Z,E),fc(E,E[M]=jd(Z,E,Z,U)),Va(U)&&pt(A,E,U),null!=y&&wn(E,U,w)}function xv(s){return function Qi(s,o){return s[o]}(function Wa(){return Ft.lFrame.contextLView}(),22+s)}function Nm(s,o,c){const d=Me();return Ii(d,Ka(),o)&&oi(Yt(),Pn(),d,s,o,d[11],c,!1),Nm}function Ao(s,o,c,d,f){const y=f?"class":"style";Pr(s,c,o.inputs[y],y,d)}function Sa(s,o,c,d){const f=Me(),p=Yt(),y=22+s,w=f[11],E=f[y]=Qg(w,o,function Wc(){return Ft.lFrame.currentNamespace}()),A=p.firstCreatePass?function Ov(s,o,c,d,f,p,y){const w=o.consts,A=Wf(o,s,2,f,wi(w,p));return Io(o,c,A,wi(w,y)),null!==A.attrs&&$d(A,A.attrs,!1),null!==A.mergedAttrs&&$d(A,A.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,A),A}(y,p,f,0,o,c,d):p.data[y];Hr(A,!0);const M=A.mergedAttrs;null!==M&&Cs(w,E,M);const U=A.classes;null!==U&&By(w,E,U);const Z=A.styles;return null!==Z&&mI(w,E,Z),64!=(64&A.flags)&&kd(p,f,E,A),0===function Ga(){return Ft.lFrame.elementDepthCount}()&&Jt(E,f),function nd(){Ft.lFrame.elementDepthCount++}(),Va(A)&&(pt(p,f,A),av(p,A,f)),null!==d&&wn(f,A),Sa}function Tu(){let s=nr();Vl()?Zo():(s=s.parent,Hr(s,!1));const o=s;!function za(){Ft.lFrame.elementDepthCount--}();const c=Yt();return c.firstCreatePass&&(jl(c,s),Lo(s)&&c.queries.elementEnd(s)),null!=o.classesWithoutHost&&function Hl(s){return 0!=(16&s.flags)}(o)&&Ao(c,o,Me(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Gl(s){return 0!=(32&s.flags)}(o)&&Ao(c,o,Me(),o.stylesWithoutHost,!1),Tu}function xm(s,o,c,d){return Sa(s,o,c,d),Tu(),xm}function Om(s,o,c){const d=Me(),f=Yt(),p=s+22,y=f.firstCreatePass?function tS(s,o,c,d,f){const p=o.consts,y=wi(p,d),w=Wf(o,s,8,"ng-container",y);return null!==y&&$d(w,y,!0),Io(o,c,w,wi(p,f)),null!==o.queries&&o.queries.elementStart(o,w),w}(p,f,d,o,c):f.data[p];Hr(y,!0);const w=d[p]=d[11].createComment("");return kd(f,d,w,y),Jt(w,d),Va(y)&&(pt(f,d,y),av(f,y,d)),null!=c&&wn(d,y),Om}function Mm(){let s=nr();const o=Yt();return Vl()?Zo():(s=s.parent,Hr(s,!1)),o.firstCreatePass&&(jl(o,s),Lo(s)&&o.queries.elementEnd(s)),Mm}function V1(){return Me()}function Mv(s){return!!s&&"function"==typeof s.then}function j1(s){return!!s&&"function"==typeof s.subscribe}const $1=j1;function Rv(s,o,c,d){const f=Me(),p=Yt(),y=nr();return function Pv(s,o,c,d,f,p,y,w){const E=Va(d),M=s.firstCreatePass&&vv(s),U=o[8],Z=yv(o);let se=!0;if(3&d.type||w){const Je=Dr(d,o),dt=w?w(Je):Je,At=Z.length,ke=w?_n=>w(Ln(_n[d.index])):d.index;let Rt=null;if(!w&&E&&(Rt=function nS(s,o,c,d){const f=s.cleanup;if(null!=f)for(let p=0;p<f.length-1;p+=2){const y=f[p];if(y===c&&f[p+1]===d){const w=o[7],E=f[p+2];return w.length>E?w[E]:null}"string"==typeof y&&(p+=2)}return null}(s,o,f,d.index)),null!==Rt)(Rt.__ngLastListenerFn__||Rt).__ngNextListenerFn__=p,Rt.__ngLastListenerFn__=p,se=!1;else{p=kv(d,o,U,p,!1);const _n=c.listen(dt,f,p);Z.push(p,_n),M&&M.push(f,ke,At,At+1)}}else p=kv(d,o,U,p,!1);const Ee=d.outputs;let We;if(se&&null!==Ee&&(We=Ee[f])){const Je=We.length;if(Je)for(let dt=0;dt<Je;dt+=2){const zn=o[We[dt]][We[dt+1]].subscribe(p),wc=Z.length;Z.push(p,zn),M&&M.push(f,d.index,wc,-(wc+1))}}}(p,f,f[11],y,s,o,0,d),Rv}function G1(s,o,c,d){try{return!1!==c(d)}catch(f){return zI(s,f),!1}}function kv(s,o,c,d,f){return function p(y){if(y===Function)return d;mv(2&s.flags?un(s.index,o):o);let E=G1(o,0,d,y),A=p.__ngNextListenerFn__;for(;A;)E=G1(o,0,A,y)&&E,A=A.__ngNextListenerFn__;return f&&!1===E&&(y.preventDefault(),y.returnValue=!1),E}}function Rm(s=1){return function zs(s){return(Ft.lFrame.contextLView=function ad(s,o){for(;s>0;)o=o[15],s--;return o}(s,Ft.lFrame.contextLView))[8]}(s)}function Fv(s,o){let c=null;const d=function n1(s){const o=s.attrs;if(null!=o){const c=o.indexOf(5);if(0==(1&c))return o[c+1]}return null}(s);for(let f=0;f<o.length;f++){const p=o[f];if("*"!==p){if(null===d?sm(s,p,!0):om(d,p))return f}else c=f}return c}function Aa(s){const o=Me()[16][6];if(!o.projection){const d=o.projection=Ts(s?s.length:1,null),f=d.slice();let p=o.child;for(;null!==p;){const y=s?Fv(p,s):0;null!==y&&(f[y]?f[y].projectionNext=p:d[y]=p,f[y]=p),p=p.next}}}function Iu(s,o=0,c){const d=Me(),f=Yt(),p=Wf(f,22+s,16,null,c||null);null===p.projection&&(p.projection=o),Zo(),64!=(64&p.flags)&&function KM(s,o,c){gI(o[11],0,o,c,ky(s,c,o),Uy(c.parent||o[6],c,o))}(f,d,p)}function Pm(s,o,c){return sp(s,"",o,"",c),Pm}function sp(s,o,c,d,f){const p=Me(),y=gc(p,o,c,d);return y!==qt&&oi(Yt(),Pn(),p,s,y,p[11],f,!1),sp}function Kd(s,o,c,d,f){const p=s[c+1],y=null===o;let w=d?Xs(p):Da(p),E=!1;for(;0!==w&&(!1===E||y);){const M=s[w+1];iS(s[w],o)&&(E=!0,s[w+1]=d?fm(M):Qy(M)),w=d?Xs(M):Da(M)}E&&(s[c+1]=d?Qy(p):fm(p))}function iS(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Gr(s,o)>=0}const kr={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Fm(s){return s.substring(kr.key,kr.keyEnd)}function jv(s,o){const c=kr.textEnd;return c===o?-1:(o=kr.keyEnd=function Su(s,o,c){for(;o<c&&s.charCodeAt(o)>32;)o++;return o}(s,kr.key=o,c),Tl(s,o,c))}function Tl(s,o,c){for(;o<c&&s.charCodeAt(o)<=32;)o++;return o}function X1(s,o,c){return No(s,o,c,!1),X1}function eD(s,o){return No(s,o,null,!0),eD}function tD(s){!function xs(s,o,c,d){const f=Yt(),p=ws(2);f.firstUpdatePass&&zv(f,null,p,d);const y=Me();if(c!==qt&&Ii(y,p,c)){const w=f.data[Rn()];if(sD(w,d)&&!Os(f,p)){let E=d?w.classesWithoutHost:w.stylesWithoutHost;null!==E&&(c=ve(E,c||"")),Ao(f,w,y,c,d)}else!function cp(s,o,c,d,f,p,y,w){f===qt&&(f=Ot);let E=0,A=0,M=0<f.length?f[0]:null,U=0<p.length?p[0]:null;for(;null!==M||null!==U;){const Z=E<f.length?f[E+1]:void 0,se=A<p.length?p[A+1]:void 0;let We,Ee=null;M===U?(E+=2,A+=2,Z!==se&&(Ee=U,We=se)):null===U||null!==M&&M<U?(E+=2,Ee=M):(A+=2,Ee=U,We=se),null!==Ee&&rD(s,o,c,d,Ee,We,y,w),M=E<f.length?f[E]:null,U=A<p.length?p[A]:null}}(f,w,y,y[11],y[p+1],y[p+1]=function lS(s,o,c){if(null==c||""===c)return Ot;const d=[],f=To(c);if(Array.isArray(f))for(let p=0;p<f.length;p++)s(d,f[p],!0);else if("object"==typeof f)for(const p in f)f.hasOwnProperty(p)&&s(d,p,f[p]);else"string"==typeof f&&o(d,f);return d}(s,o,c),d,p)}}(ii,Na,s,!0)}function Na(s,o){for(let c=function K1(s){return function Yd(s){kr.key=0,kr.keyEnd=0,kr.value=0,kr.valueEnd=0,kr.textEnd=s.length}(s),jv(s,Tl(s,0,kr.textEnd))}(o);c>=0;c=jv(o,c))ii(s,Fm(o),!0)}function No(s,o,c,d){const f=Me(),p=Yt(),y=ws(2);p.firstUpdatePass&&zv(p,s,y,d),o!==qt&&Ii(f,y,o)&&rD(p,p.data[Rn()],f,f[11],s,f[y+1]=function up(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=fe(To(s)))),s}(o,c),d,y)}function Os(s,o){return o>=s.expandoStartIndex}function zv(s,o,c,d){const f=s.data;if(null===f[c+1]){const p=f[Rn()],y=Os(s,c);sD(p,d)&&null===o&&!y&&(o=!1),o=function ap(s,o,c,d){const f=Hc(s);let p=d?o.residualClasses:o.residualStyles;if(null===f)0===(d?o.classBindings:o.styleBindings)&&(c=lp(c=Qd(null,s,o,c,d),o.attrs,d),p=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==f)if(c=Qd(f,s,o,c,d),null===p){let E=function oS(s,o,c){const d=c?o.classBindings:o.styleBindings;if(0!==Da(d))return s[Xs(d)]}(s,o,d);void 0!==E&&Array.isArray(E)&&(E=Qd(null,s,o,E[1],d),E=lp(E,o.attrs,d),function aS(s,o,c,d){s[Xs(c?o.classBindings:o.styleBindings)]=d}(s,o,d,E))}else p=function nD(s,o,c){let d;const f=o.directiveEnd;for(let p=1+o.directiveStylingLast;p<f;p++)d=lp(d,s[p].hostAttrs,c);return lp(d,o.attrs,c)}(s,o,d)}return void 0!==p&&(d?o.residualClasses=p:o.residualStyles=p),c}(f,p,o,d),function Vv(s,o,c,d,f,p){let y=p?o.classBindings:o.styleBindings,w=Xs(y),E=Da(y);s[d]=c;let M,A=!1;if(Array.isArray(c)){const U=c;M=U[1],(null===M||Gr(U,M)>0)&&(A=!0)}else M=c;if(f)if(0!==E){const Z=Xs(s[w+1]);s[d+1]=Yy(Z,w),0!==Z&&(s[Z+1]=Gf(s[Z+1],d)),s[w+1]=function _1(s,o){return 131071&s|o<<17}(s[w+1],d)}else s[d+1]=Yy(w,0),0!==w&&(s[w+1]=Gf(s[w+1],d)),w=d;else s[d+1]=Yy(E,0),0===w?w=d:s[E+1]=Gf(s[E+1],d),E=d;A&&(s[d+1]=Qy(s[d+1])),Kd(s,M,d,!0),Kd(s,M,d,!1),function rS(s,o,c,d,f){const p=f?s.residualClasses:s.residualStyles;null!=p&&"string"==typeof o&&Gr(p,o)>=0&&(c[d+1]=fm(c[d+1]))}(o,M,s,d,p),y=Yy(w,E),p?o.classBindings=y:o.styleBindings=y}(f,p,o,c,y,d)}}function Qd(s,o,c,d,f){let p=null;const y=c.directiveEnd;let w=c.directiveStylingLast;for(-1===w?w=c.directiveStart:w++;w<y&&(p=o[w],d=lp(d,p.hostAttrs,f),p!==s);)w++;return null!==s&&(c.directiveStylingLast=w),d}function lp(s,o,c){const d=c?1:2;let f=-1;if(null!==o)for(let p=0;p<o.length;p++){const y=o[p];"number"==typeof y?f=y:f===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),ii(s,y,!!c||o[++p]))}return void 0===s?null:s}function rD(s,o,c,d,f,p,y,w){if(!(3&o.type))return;const E=s.data,A=E[w+1];_c(function y1(s){return 1==(1&s)}(A)?iD(E,o,c,f,Da(A),y):void 0)||(_c(p)||function m1(s){return 2==(2&s)}(A)&&(p=iD(E,null,c,f,w,y)),function QM(s,o,c,d,f){if(o)f?s.addClass(c,d):s.removeClass(c,d);else{let p=-1===d.indexOf("-")?void 0:wa.DashCase;null==f?s.removeStyle(c,d,p):("string"==typeof f&&f.endsWith("!important")&&(f=f.slice(0,-10),p|=wa.Important),s.setStyle(c,d,f,p))}}(d,y,Pi(Rn(),c),f,p))}function iD(s,o,c,d,f,p){const y=null===o;let w;for(;f>0;){const E=s[f],A=Array.isArray(E),M=A?E[1]:E,U=null===M;let Z=c[f+1];Z===qt&&(Z=U?Ot:void 0);let se=U?Yl(Z,d):M===d?Z:void 0;if(A&&!_c(se)&&(se=Yl(E,d)),_c(se)&&(w=se,y))return w;const Ee=s[f+1];f=y?Xs(Ee):Da(Ee)}if(null!==o){let E=p?o.residualClasses:o.residualStyles;null!=E&&(w=Yl(E,d))}return w}function _c(s){return void 0!==s}function sD(s,o){return 0!=(s.flags&(o?16:32))}function oD(s,o=""){const c=Me(),d=Yt(),f=s+22,p=d.firstCreatePass?Wf(d,f,1,o,null):d.data[f],y=c[f]=Yg(c[11],o);kd(d,c,y,p),Hr(p,!1)}function qv(s){return Lm("",s,""),qv}function Lm(s,o,c){const d=Me(),f=gc(d,s,o,c);return f!==qt&&function Ti(s,o,c){const d=Pi(o,s);My(s[11],d,c)}(d,Rn(),f),Lm}function Xv(s,o,c){const d=Me();return Ii(d,Ka(),o)&&oi(Yt(),Pn(),d,s,o,d[11],c,!0),Xv}function e0(s,o,c){const d=Me();if(Ii(d,Ka(),o)){const p=Yt(),y=Pn();oi(p,y,d,s,o,function bv(s,o,c){return(null===s||ei(s))&&(c=function td(s){for(;Array.isArray(s);){if("object"==typeof s[1])return s;s=s[0]}return null}(c[o.index])),c[11]}(Hc(p.data),y,d),c,!0)}return e0}const xu=void 0;var Vm=["en",[["a","p"],["AM","PM"],xu],[["AM","PM"],xu,xu],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],xu,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],xu,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",xu,"{1} 'at' {0}",xu],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function CS(s){const c=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===c&&0===d?1:5}];let Xd={};function t0(s){const o=function ES(s){return s.toLowerCase().replace(/_/g,"-")}(s);let c=gD(o);if(c)return c;const d=o.split("-")[0];if(c=gD(d),c)return c;if("en"===d)return Vm;throw new Ce(701,!1)}function pD(s){return t0(s)[xt.PluralCase]}function gD(s){return s in Xd||(Xd[s]=Pt.ng&&Pt.ng.common&&Pt.ng.common.locales&&Pt.ng.common.locales[s]),Xd[s]}var xt=(()=>((xt=xt||{})[xt.LocaleId=0]="LocaleId",xt[xt.DayPeriodsFormat=1]="DayPeriodsFormat",xt[xt.DayPeriodsStandalone=2]="DayPeriodsStandalone",xt[xt.DaysFormat=3]="DaysFormat",xt[xt.DaysStandalone=4]="DaysStandalone",xt[xt.MonthsFormat=5]="MonthsFormat",xt[xt.MonthsStandalone=6]="MonthsStandalone",xt[xt.Eras=7]="Eras",xt[xt.FirstDayOfWeek=8]="FirstDayOfWeek",xt[xt.WeekendRange=9]="WeekendRange",xt[xt.DateFormat=10]="DateFormat",xt[xt.TimeFormat=11]="TimeFormat",xt[xt.DateTimeFormat=12]="DateTimeFormat",xt[xt.NumberSymbols=13]="NumberSymbols",xt[xt.NumberFormats=14]="NumberFormats",xt[xt.CurrencyCode=15]="CurrencyCode",xt[xt.CurrencySymbol=16]="CurrencySymbol",xt[xt.CurrencyName=17]="CurrencyName",xt[xt.Currencies=18]="Currencies",xt[xt.Directionality=19]="Directionality",xt[xt.PluralCase=20]="PluralCase",xt[xt.ExtraData=21]="ExtraData",xt))();const mD=["zero","one","two","few","many"],Ou="en-US",gp={marker:"element"},jm={marker:"ICU"};var ur=(()=>((ur=ur||{})[ur.SHIFT=2]="SHIFT",ur[ur.APPEND_EAGERLY=1]="APPEND_EAGERLY",ur[ur.COMMENT=2]="COMMENT",ur))();let vD=Ou;function bD(s){(function zt(s,o){null==s&&Qe(o,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&(vD=s.toLowerCase().replace(/_/g,"-"))}function n0(s,o,c){const d=o.insertBeforeIndex,f=Array.isArray(d)?d[0]:d;return null===f?fI(s,0,c):Ln(c[f])}function $m(s,o,c,d,f){const p=o.insertBeforeIndex;if(Array.isArray(p)){let y=d,w=null;if(3&o.type||(w=y,y=f),null!==y&&0==(2&o.flags))for(let E=1;E<p.length;E++)bl(s,y,c[p[E]],w,!1)}}function r0(s,o){if(s.push(o),s.length>1)for(let c=s.length-2;c>=0;c--){const d=s[c];s0(d)||vR(d,o)&&null===IS(d)&&SS(d,o.index)}}function s0(s){return!(64&s.type)}function vR(s,o){return s0(o)||s.index>o.index}function IS(s){const o=s.insertBeforeIndex;return Array.isArray(o)?o[0]:o}function SS(s,o){const c=s.insertBeforeIndex;Array.isArray(c)?c[0]=o:(gu(n0,$m),s.insertBeforeIndex=o)}function mp(s,o){const c=s.data[o];return null===c||"string"==typeof c?null:c.hasOwnProperty("currentCaseLViewIndex")?c:c.value}function wD(s,o,c){const d=vm(s,c,64,null,null);return r0(o,d),d}function eh(s,o){const c=o[s.currentCaseLViewIndex];return null===c?c:c<0?~c:c}function Gm(s){return s>>>17}function DD(s){return(131070&s)>>>1}let _p=0,yp=0;function o0(s,o,c,d){const f=c[11];let y,p=null;for(let w=0;w<o.length;w++){const E=o[w];if("string"==typeof E){const A=o[++w];null===c[A]&&(c[A]=Yg(f,E))}else if("number"==typeof E)switch(1&E){case 0:const A=Gm(E);let M,U;if(null===p&&(p=A,y=qr(f,d)),A===p?(M=d,U=y):(M=null,U=Ln(c[A])),null!==U){const We=DD(E);bl(f,U,c[We],M,!1);const dt=mp(s,We);if(null!==dt&&"object"==typeof dt){const At=eh(dt,c);null!==At&&o0(s,dt.create[At],c,c[dt.anchorIdx])}}break;case 1:const se=o[++w],Ee=o[++w];Dl(f,Pi(E>>>1,c),null,null,se,Ee,null)}else switch(E){case jm:const A=o[++w],M=o[++w];null===c[M]&&Jt(c[M]=zw(f,A),c);break;case gp:const U=o[++w],Z=o[++w];null===c[Z]&&Jt(c[Z]=Qg(f,U,null),c)}}}function On(s,o,c,d,f){for(let p=0;p<c.length;p++){const y=c[p],w=c[++p];if(y&f){let E="";for(let A=p+1;A<=p+w;A++){const M=c[A];if("string"==typeof M)E+=M;else if("number"==typeof M)if(M<0)E+=we(o[d-M]);else{const U=M>>>2;switch(3&M){case 1:const Z=c[++A],se=c[++A],Ee=s.data[U];"string"==typeof Ee?Dl(o[11],o[U],null,Ee,Z,E,se):oi(s,Ee,o,Z,E,o[11],se,!1);break;case 0:const We=o[U];null!==We&&My(o[11],We,E);break;case 2:TD(s,mp(s,U),o,E);break;case 3:ED(s,mp(s,U),d,o)}}}}else{const E=c[p+1];if(E>0&&3==(3&E)){const M=mp(s,E>>>2);o[M.currentCaseLViewIndex]<0&&ED(s,M,d,o)}}p+=w}}function ED(s,o,c,d){let f=d[o.currentCaseLViewIndex];if(null!==f){let p=_p;f<0&&(f=d[o.currentCaseLViewIndex]=~f,p=-1),On(s,d,o.update[f],c,p)}}function TD(s,o,c,d){const f=function qm(s,o){let c=s.cases.indexOf(o);if(-1===c)switch(s.type){case 1:{const d=function _D(s,o){const c=pD(o)(parseInt(s,10)),d=mD[c];return void 0!==d?d:"other"}(o,function TS(){return vD}());c=s.cases.indexOf(d),-1===c&&"other"!==d&&(c=s.cases.indexOf("other"));break}case 0:c=s.cases.indexOf("other")}return-1===c?null:c}(o,d);if(eh(o,c)!==f&&(th(s,o,c),c[o.currentCaseLViewIndex]=null===f?null:~f,null!==f)){const y=c[o.anchorIdx];y&&o0(s,o.create[f],c,y)}}function th(s,o,c){let d=eh(o,c);if(null!==d){const f=o.remove[d];for(let p=0;p<f.length;p++){const y=f[p];if(y>0){const w=Pi(y,c);null!==w&&Xw(c[11],w)}else th(s,mp(s,~y),c)}}}function MS(){const s=[];let c,d,o=-1;function p(w,E){o=0;const A=eh(w,E);d=null!==A?w.remove[A]:Ot}function y(){if(o<d.length){const w=d[o++];return w>0?c[w]:(s.push(o,d),p(c[1].data[~w],c),y())}return 0===s.length?null:(d=s.pop(),o=s.pop(),y())}return function f(w,E){for(c=E;s.length;)s.pop();return p(w.value,E),y}}const nh=/\ufffd(\d+):?\d*\ufffd/gi,Wm=/\ufffd(\d+)\ufffd/,PS=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ih=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,a0=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,wR=/\uE500/g;function Zm(s,o,c,d,f,p,y){const w=Ca(s,d,1,null);let E=w<<ur.SHIFT,A=Bl();o===A&&(A=null),null===A&&(E|=ur.APPEND_EAGERLY),y&&(E|=ur.COMMENT,function lI(s){void 0===xy&&(xy=s())}(MS)),f.push(E,null===p?"":p);const M=vm(s,w,y?32:1,null===p?"":p,null);r0(c,M);const U=M.index;return Hr(M,!1),null!==A&&o!==A&&function Hm(s,o){let c=s.insertBeforeIndex;null===c?(gu(n0,$m),c=s.insertBeforeIndex=[null,o]):(function be(s,o,c){s!=o&&Qe(c,s,o,"==")}(Array.isArray(c),!0,"Expecting array here"),c.push(o))}(A,U),M}function kS(s,o,c,d,f,p,y){const w=y.match(nh),E=Zm(s,o,c,p,d,w?null:y,!1);w&&vp(f,y,E.index,null,0,null)}function vp(s,o,c,d,f,p){const y=s.length,w=y+1;s.push(null,null);const E=y+2,A=o.split(nh);let M=0;for(let U=0;U<A.length;U++){const Z=A[U];if(1&U){const se=f+parseInt(Z,10);s.push(-1-se),M|=OD(se)}else""!==Z&&s.push(Z)}return s.push(c<<2|(d?1:0)),d&&s.push(d,p),s[y]=M,s[w]=s.length-E,M}function OD(s){return 1<<Math.min(s,31)}function bp(s){let o,p,c="",d=0,f=!1;for(;null!==(o=ih.exec(s));)f?o[0]===`\ufffd/*${p}\ufffd`&&(d=o.index,f=!1):(c+=s.substring(d,o.index+o[0].length),p=o[1],f=!0);return c+=s.slice(d),c}function l0(s,o,c,d,f,p){let y=0;const w={type:f.type,currentCaseLViewIndex:Ca(s,o,1,null),anchorIdx:p,cases:[],create:[],remove:[],update:[]};(function BS(s,o,c){s.push(OD(o.mainBinding),2,-1-o.mainBinding,c<<2|2)})(c,f,p),function AS(s,o,c){const d=s.data[o];null===d?s.data[o]=c:d.value=c}(s,p,w);const E=f.values;for(let A=0;A<E.length;A++){const M=E[A],U=[];for(let Z=0;Z<M.length;Z++){const se=M[Z];if("string"!=typeof se){const Ee=U.push(se)-1;M[Z]=`\x3c!--\ufffd${Ee}\ufffd--\x3e`}}y=MD(s,w,o,c,d,f.cases[A],M.join(""),U)|y}y&&function VS(s,o,c){s.push(o,1,c<<2|3)}(c,y,p)}function LS(s){const o=[],c=[];let d=1,f=0;const p=c0(s=s.replace(PS,function(y,w,E){return d="select"===E?0:1,f=parseInt(w.slice(1),10),""}));for(let y=0;y<p.length;){let w=p[y++].trim();1===d&&(w=w.replace(/\s*(?:=)?(\w+)\s*/,"$1")),w.length&&o.push(w);const E=c0(p[y++]);o.length>c.length&&c.push(E)}return{type:d,mainBinding:f,cases:o,values:c}}function c0(s){if(!s)return[];let o=0;const c=[],d=[],f=/[{}]/g;let p;for(f.lastIndex=0;p=f.exec(s);){const w=p.index;if("}"==p[0]){if(c.pop(),0==c.length){const E=s.substring(o,w);PS.test(E)?d.push(LS(E)):d.push(E),o=w+1}}else{if(0==c.length){const E=s.substring(o,w);d.push(E),o=w+1}c.push("{")}}const y=s.substring(o);return d.push(y),d}function MD(s,o,c,d,f,p,y,w){const E=[],A=[],M=[];o.cases.push(p),o.create.push(E),o.remove.push(A),o.update.push(M);const Z=ss(Ed()).getInertBodyElement(y),se=pl(Z)||Z;return se?RD(s,o,c,d,E,A,M,se,f,w,0):0}function RD(s,o,c,d,f,p,y,w,E,A,M){let U=0,Z=w.firstChild;for(;Z;){const se=Ca(s,c,1,null);switch(Z.nodeType){case Node.ELEMENT_NODE:const Ee=Z,We=Ee.tagName.toLowerCase();if(Nn.hasOwnProperty(We)){Km(f,gp,We,E,se),s.data[se]=We;const ke=Ee.attributes;for(let Rt=0;Rt<ke.length;Rt++){const _n=ke.item(Rt),zn=_n.name.toLowerCase();_n.value.match(nh)?vf.hasOwnProperty(zn)&&vp(y,_n.value,se,_n.name,0,si[zn]?_:null):jS(f,se,_n)}U=RD(s,o,c,d,f,p,y,Z,se,A,M+1)|U,PD(p,se,M)}break;case Node.TEXT_NODE:const Je=Z.textContent||"",dt=Je.match(nh);Km(f,null,dt?"":Je,E,se),PD(p,se,M),dt&&(U=vp(y,Je,se,null,0,null)|U);break;case Node.COMMENT_NODE:const At=Wm.exec(Z.textContent||"");if(At){const Rt=A[parseInt(At[1],10)];Km(f,jm,"",E,se),l0(s,c,d,E,Rt,se),US(p,se,M)}}Z=Z.nextSibling}return U}function PD(s,o,c){0===c&&s.push(o)}function US(s,o,c){0===c&&(s.push(~o),s.push(o))}function Km(s,o,c,d,f){null!==o&&s.push(o),s.push(c,f,function zm(s,o,c){return s|o<<17|c<<1}(0,d,f))}function jS(s,o,c){s.push(o<<1|1,c.name,c.value)}function LD(s,o,c=-1){const d=Yt(),f=Me(),p=22+s,y=wi(d.consts,o),w=Bl();d.firstCreatePass&&function ND(s,o,c,d,f,p){const y=Bl(),w=[],E=[],A=[[]];f=function CR(s,o){if(function DR(s){return-1===s}(o))return bp(s);{const c=s.indexOf(`:${o}\ufffd`)+2+o.toString().length,d=s.search(new RegExp(`\ufffd\\/\\*\\d+:${o}\ufffd`));return bp(s.substring(c,d))}}(f,p);const M=function AD(s){return s.replace(wR," ")}(f).split(a0);for(let U=0;U<M.length;U++){let Z=M[U];if(0==(1&U)){const se=c0(Z);for(let Ee=0;Ee<se.length;Ee++){let We=se[Ee];if(0==(1&Ee)){const Je=We;""!==Je&&kS(s,y,A[0],w,E,c,Je)}else{const Je=We;if("object"!=typeof Je)throw new Error(`Unable to parse ICU expression in "${f}" message.`);l0(s,c,E,o,Je,Zm(s,y,A[0],c,w,"",!0).index)}}}else{const se=47===Z.charCodeAt(0),We=(Z.charCodeAt(se?1:0),22+Number.parseInt(Z.substring(se?2:1)));if(se)A.shift(),Hr(Bl(),!1);else{const Je=wD(s,A[0],We);A.unshift([]),Hr(Je,!0)}}}s.data[d]={create:w,update:E}}(d,null===w?0:w.index,f,p,y,c);const E=d.data[p],M=Fy(d,w===f[6]?null:w,f);(function OS(s,o,c,d){const f=s[11];for(let p=0;p<o.length;p++){const y=o[p++],w=o[p],E=(y&ur.COMMENT)===ur.COMMENT,A=(y&ur.APPEND_EAGERLY)===ur.APPEND_EAGERLY,M=y>>>ur.SHIFT;let U=s[M];null===U&&(U=s[M]=E?f.createComment(w):Yg(f,w)),A&&null!==c&&bl(f,c,U,d,!1)}})(f,E.create,M,w&&8&w.type?f[w.index]:null),$c(!0)}function Ym(s,o,c){LD(s,o,c),function sr(){$c(!1)}()}function d0(s){return function NS(s){s&&(_p|=1<<Math.min(yp,31)),yp++}(Ii(Me(),Ka(),s)),d0}function UD(s){!function xS(s,o,c){if(yp>0){const d=s.data[c];On(s,o,Array.isArray(d)?d:d.update,function Ji(){return Ft.lFrame.bindingIndex}()-yp-1,_p)}_p=0,yp=0}(Yt(),Me(),s+22)}function h0(s,o,c,d,f){if(s=ee(s),Array.isArray(s))for(let p=0;p<s.length;p++)h0(s[p],o,c,d,f);else{const p=Yt(),y=Me();let w=sc(s)?s:ee(s.provide),E=Sw(s);const A=nr(),M=1048575&A.providerIndexes,U=A.directiveStart,Z=A.providerIndexes>>20;if(sc(s)||!s.multi){const se=new Di(E,f,Ld),Ee=p0(w,o,f?M:M+Z,U);-1===Ee?(Do(Es(A,y),p,w),Qm(p,s,o.length),o.push(w),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),c.push(se),y.push(se)):(c[Ee]=se,y[Ee]=se)}else{const se=p0(w,o,M+Z,U),Ee=p0(w,o,M,M+Z),We=se>=0&&c[se],Je=Ee>=0&&c[Ee];if(f&&!Je||!f&&!We){Do(Es(A,y),p,w);const dt=function KS(s,o,c,d,f){const p=new Di(s,c,Ld);return p.multi=[],p.index=o,p.componentProviders=0,f0(p,f,d&&!c),p}(f?ZS:WS,c.length,f,d,E);!f&&Je&&(c[Ee].providerFactory=dt),Qm(p,s,o.length,0),o.push(w),A.directiveStart++,A.directiveEnd++,f&&(A.providerIndexes+=1048576),c.push(dt),y.push(dt)}else Qm(p,s,se>-1?se:Ee,f0(c[f?Ee:se],E,!f&&d));!f&&d&&Je&&c[Ee].componentProviders++}}}function Qm(s,o,c,d){const f=sc(o),p=function PT(s){return!!s.useClass}(o);if(f||p){const E=(p?ee(o.useClass):o).prototype.ngOnDestroy;if(E){const A=s.destroyHooks||(s.destroyHooks=[]);if(!f&&o.multi){const M=A.indexOf(c);-1===M?A.push(c,[d,E]):A[M+1].push(d,E)}else A.push(c,E)}}}function f0(s,o,c){return c&&s.componentProviders++,s.multi.push(o)-1}function p0(s,o,c,d){for(let f=c;f<d;f++)if(o[f]===s)return f;return-1}function WS(s,o,c,d){return Jm(this.multi,[])}function ZS(s,o,c,d){const f=this.multi;let p;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Xi(c,c[1],this.providerFactory.index,d);p=w.slice(0,y),Jm(f,p);for(let E=y;E<w.length;E++)p.push(w[E])}else p=[],Jm(f,p);return p}function Jm(s,o){for(let c=0;c<s.length;c++)o.push((0,s[c])());return o}function BD(s,o=[]){return c=>{c.providersResolver=(d,f)=>function qS(s,o,c){const d=Yt();if(d.firstCreatePass){const f=ei(s);h0(c,d.data,d.blueprint,f,!0),h0(o,d.data,d.blueprint,f,!1)}}(d,f?f(s):s,o)}}class yc{}class g0{}function YS(s,o){return new sh(s,o??null)}class sh extends yc{constructor(o,c){super(),this._parent=c,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Cm(this);const d=ct(o);this._bootstrapComponents=ml(d.bootstrap),this._r3Injector=zy(o,c,[{provide:yc,useValue:this},{provide:Nf,useValue:this.componentFactoryResolver}],fe(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(c=>c()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class ci extends g0{constructor(o){super(),this.moduleType=o}create(o){return new sh(this.moduleType,o)}}class QS extends yc{constructor(o,c,d){super(),this.componentFactoryResolver=new Cm(this),this.instance=null;const f=new Vg([...o,{provide:yc,useValue:this},{provide:Nf,useValue:this.componentFactoryResolver}],c||Bg(),d,new Set(["environment"]));this.injector=f,f.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function m0(s,o,c=null){return new QS(s,o,c).injector}let JS=(()=>{class s{constructor(c){this._injector=c,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(c){if(!c.standalone)return null;if(!this.cachedInjectors.has(c.id)){const d=Cw(0,c.type),f=d.length>0?m0([d],this._injector,`Standalone[${c.type.name}]`):null;this.cachedInjectors.set(c.id,f)}return this.cachedInjectors.get(c.id)}ngOnDestroy(){try{for(const c of this.cachedInjectors.values())null!==c&&c.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=an({token:s,providedIn:"environment",factory:()=>new s(Yn(oc))}),s})();function VD(s){s.getStandaloneInjector=o=>o.get(JS).getOrCreateStandaloneInjector(s)}function HD(s,o,c,d){return function KD(s,o,c,d,f,p){const y=o+c;return Ii(s,y,f)?Ea(s,y+1,p?d.call(p,f):d(f)):Ep(s,y+1)}(Me(),rr(),s,o,c,d)}function GD(s,o,c,d,f){return function YD(s,o,c,d,f,p,y){const w=o+c;return Cu(s,w,f,p)?Ea(s,w+2,y?d.call(y,f,p):d(f,p)):Ep(s,w+2)}(Me(),rr(),s,o,c,d,f)}function to(s,o,c,d,f,p){return function xa(s,o,c,d,f,p,y,w){const E=o+c;return function zd(s,o,c,d,f){const p=Cu(s,o,c,d);return Ii(s,o+2,f)||p}(s,E,f,p,y)?Ea(s,E+3,w?d.call(w,f,p,y):d(f,p,y)):Ep(s,E+3)}(Me(),rr(),s,o,c,d,f,p)}function Ep(s,o){const c=s[o];return c===qt?void 0:c}function D0(s){return o=>{setTimeout(s,void 0,o)}}const no=class XD extends l.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,c,d){let f=o,p=c||(()=>null),y=d;if(o&&"object"==typeof o){const E=o;f=E.next?.bind(E),p=E.error?.bind(E),y=E.complete?.bind(E)}this.__isAsync&&(p=D0(p),f&&(f=D0(f)),y&&(y=D0(y)));const w=super.subscribe({next:f,error:p,complete:y});return o instanceof H.w0&&o.add(w),w}};function eC(){return this._results[pc()]()}class r_{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const c=pc(),d=r_.prototype;d[c]||(d[c]=eC)}get changes(){return this._changes||(this._changes=new no)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,c){return this._results.reduce(o,c)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,c){const d=this;d.dirty=!1;const f=Cr(o);(this._changesDetected=!function _d(s,o,c){if(s.length!==o.length)return!1;for(let d=0;d<s.length;d++){let f=s[d],p=o[d];if(c&&(f=c(f),p=c(p)),p!==f)return!1}return!0}(d._results,f,c))&&(d._results=f,d.length=f.length,d.last=f[this.length-1],d.first=f[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Sp=(()=>{class s{}return s.__NG_ELEMENT_ID__=Ma,s})();const lA=Sp,Oa=class extends lA{constructor(o,c,d){super(),this._declarationLView=o,this._declarationTContainer=c,this.elementRef=d}createEmbeddedView(o,c){const d=this._declarationTContainer.tViews,f=sv(this._declarationLView,d,o,16,null,d.declTNode,null,null,null,null,c||null);f[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(f[19]=y.createEmbeddedView(d)),S1(d,f,o),new Jf(f)}};function Ma(){return Mu(nr(),Me())}function Mu(s,o){return 4&s.type?new Oa(o,s,uu(s,o)):null}let i_=(()=>{class s{}return s.__NG_ELEMENT_ID__=cA,s})();function cA(){return T0(nr(),Me())}const oh=i_,ah=class extends oh{constructor(o,c,d){super(),this._lContainer=o,this._hostTNode=c,this._hostLView=d}get element(){return uu(this._hostTNode,this._hostLView)}get injector(){return new ia(this._hostTNode,this._hostLView)}get parentInjector(){const o=rl(this._hostTNode,this._hostLView);if(Yh(o)){const c=qs(o,this._hostLView),d=ir(o);return new ia(c[1].data[d+8],c)}return new ia(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const c=C0(this._lContainer);return null!==c&&c[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,c,d){let f,p;"number"==typeof d?f=d:null!=d&&(f=d.index,p=d.injector);const y=o.createEmbeddedView(c||{},p);return this.insert(y,f),y}createComponent(o,c,d,f,p){const y=o&&!function Kl(s){return"function"==typeof s}(o);let w;if(y)w=c;else{const U=c||{};w=U.index,d=U.injector,f=U.projectableNodes,p=U.environmentInjector||U.ngModuleRef}const E=y?o:new Hd(O(o)),A=d||this.parentInjector;if(!p&&null==E.ngModule){const Z=(y?A:this.parentInjector).get(oc,null);Z&&(p=Z)}const M=E.create(A,f,void 0,p);return this.insert(M.hostView,w),M}insert(o,c){const d=o._lView,f=d[1];if(function jc(s){return _i(s[3])}(d)){const M=this.indexOf(o);if(-1!==M)this.detach(M);else{const U=d[3],Z=new ah(U,U[6],U[3]);Z.detach(Z.indexOf(o))}}const p=this._adjustIndex(c),y=this._lContainer;!function Kw(s,o,c,d){const f=10+d,p=c.length;d>0&&(c[f-1][4]=o),d<p-10?(o[4]=c[f],ol(c,10+d,o)):(c.push(o),o[4]=null),o[3]=c;const y=o[17];null!==y&&c!==y&&function dI(s,o){const c=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===c?s[9]=[o]:c.push(o)}(y,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=64}(f,d,y,p);const w=kf(p,y),E=d[11],A=qr(E,y[7]);return null!==A&&function qw(s,o,c,d,f,p){d[0]=f,d[6]=o,nm(s,d,c,1,f,p)}(f,y[6],E,d,A,w),o.attachToViewContainerRef(),ol(E0(y),p,o),o}move(o,c){return this.insert(o,c)}indexOf(o){const c=C0(this._lContainer);return null!==c?c.indexOf(o):-1}remove(o){const c=this._adjustIndex(o,-1),d=Xg(this._lContainer,c);d&&(Li(E0(this._lContainer),c),em(d[1],d))}detach(o){const c=this._adjustIndex(o,-1),d=Xg(this._lContainer,c);return d&&null!=Li(E0(this._lContainer),c)?new Jf(d):null}_adjustIndex(o,c=0){return o??this.length+c}};function C0(s){return s[8]}function E0(s){return s[8]||(s[8]=[])}function T0(s,o){let c;const d=o[s.index];if(_i(d))c=d;else{let f;if(8&s.type)f=Ln(d);else{const p=o[11];f=p.createComment("");const y=Dr(s,o);bl(p,qr(p,y),f,function lc(s,o){return s.nextSibling(o)}(p,y),!1)}o[s.index]=c=jd(d,o,f,s),fc(o,c)}return new ah(c,s,o)}class I0{constructor(o){this.queryList=o,this.matches=null}clone(){return new I0(this.queryList)}setDirty(){this.queryList.setDirty()}}class s_{constructor(o=[]){this.queries=o}createEmbeddedView(o){const c=o.queries;if(null!==c){const d=null!==o.contentQueries?o.contentQueries[0]:c.length,f=[];for(let p=0;p<d;p++){const y=c.getByIndex(p);f.push(this.queries[y.indexInDeclarationView].clone())}return new s_(f)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let c=0;c<this.queries.length;c++)null!==iC(o,c).matches&&this.queries[c].setDirty()}}class S0{constructor(o,c,d=null){this.predicate=o,this.flags=c,this.read=d}}class lh{constructor(o=[]){this.queries=o}elementStart(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(o,c)}elementEnd(o){for(let c=0;c<this.queries.length;c++)this.queries[c].elementEnd(o)}embeddedTView(o){let c=null;for(let d=0;d<this.length;d++){const f=null!==c?c.length:0,p=this.getByIndex(d).embeddedTView(o,f);p&&(p.indexInDeclarationView=d,null!==c?c.push(p):c=[p])}return null!==c?new lh(c):null}template(o,c){for(let d=0;d<this.queries.length;d++)this.queries[d].template(o,c)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Ap{constructor(o,c=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=c}elementStart(o,c){this.isApplyingToNode(c)&&this.matchTNode(o,c)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,c){this.elementStart(o,c)}embeddedTView(o,c){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,c),new Ap(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const c=this._declarationNodeIndex;let d=o.parent;for(;null!==d&&8&d.type&&d.index!==c;)d=d.parent;return c===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(o,c){const d=this.metadata.predicate;if(Array.isArray(d))for(let f=0;f<d.length;f++){const p=d[f];this.matchTNodeWithReadOption(o,c,hA(c,p)),this.matchTNodeWithReadOption(o,c,sl(c,o,p,!1,!1))}else d===Sp?4&c.type&&this.matchTNodeWithReadOption(o,c,-1):this.matchTNodeWithReadOption(o,c,sl(c,o,d,!1,!1))}matchTNodeWithReadOption(o,c,d){if(null!==d){const f=this.metadata.read;if(null!==f)if(f===xf||f===i_||f===Sp&&4&c.type)this.addMatch(c.index,-2);else{const p=sl(c,o,f,!1,!1);null!==p&&this.addMatch(c.index,p)}else this.addMatch(c.index,d)}}addMatch(o,c){null===this.matches?this.matches=[o,c]:this.matches.push(o,c)}}function hA(s,o){const c=s.localNames;if(null!==c)for(let d=0;d<c.length;d+=2)if(c[d]===o)return c[d+1];return null}function tC(s,o,c,d){return-1===c?function fA(s,o){return 11&s.type?uu(s,o):4&s.type?Mu(s,o):null}(o,s):-2===c?function pA(s,o,c){return c===xf?uu(o,s):c===Sp?Mu(o,s):c===i_?T0(o,s):void 0}(s,o,d):Xi(s,s[1],c,o)}function gA(s,o,c,d){const f=o[19].queries[d];if(null===f.matches){const p=s.data,y=c.matches,w=[];for(let E=0;E<y.length;E+=2){const A=y[E];w.push(A<0?null:tC(o,p[A],y[E+1],c.metadata.read))}f.matches=w}return f.matches}function Si(s,o,c,d){const f=s.queries.getByIndex(c),p=f.matches;if(null!==p){const y=gA(s,o,f,c);for(let w=0;w<p.length;w+=2){const E=p[w];if(E>0)d.push(y[w/2]);else{const A=p[w+1],M=o[-E];for(let U=10;U<M.length;U++){const Z=M[U];Z[17]===Z[3]&&Si(Z[1],Z,A,d)}if(null!==M[9]){const U=M[9];for(let Z=0;Z<U.length;Z++){const se=U[Z];Si(se[1],se,A,d)}}}}}return d}function o_(s){const o=Me(),c=Yt(),d=Ya();Gc(d+1);const f=iC(c,d);if(s.dirty&&function Vc(s){return 4==(4&s[2])}(o)===(2==(2&f.metadata.flags))){if(null===f.matches)s.reset([]);else{const p=f.crossesNgTemplate?Si(c,o,d,[]):gA(c,o,f,d);s.reset(p,Js),s.notifyOnChanges()}return!0}return!1}function nC(s,o,c){const d=Yt();d.firstCreatePass&&(ro(d,new S0(s,o,c),-1),2==(2&o)&&(d.staticViewQueries=!0)),rC(d,Me(),o)}function Ru(s,o,c,d){const f=Yt();if(f.firstCreatePass){const p=nr();ro(f,new S0(o,c,d),p.index),function _A(s,o){const c=s.contentQueries||(s.contentQueries=[]);o!==(c.length?c[c.length-1]:-1)&&c.push(s.queries.length-1,o)}(f,s),2==(2&c)&&(f.staticContentQueries=!0)}rC(f,Me(),c)}function A0(){return function mA(s,o){return s[19].queries[o].queryList}(Me(),Ya())}function rC(s,o,c){const d=new r_(4==(4&c));Kf(s,o,d,d.destroy),null===o[19]&&(o[19]=new s_),o[19].queries.push(new I0(d))}function ro(s,o,c){null===s.queries&&(s.queries=new lh),s.queries.track(new Ap(o,c))}function iC(s,o){return s.queries.getByIndex(o)}function sC(s,o){return Mu(s,o)}function l_(...s){}const DC=new An("Application Initializer");let Fu=(()=>{class s{constructor(c){this.appInits=c,this.resolve=l_,this.reject=l_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,f)=>{this.resolve=d,this.reject=f})}runInitializers(){if(this.initialized)return;const c=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let f=0;f<this.appInits.length;f++){const p=this.appInits[f]();if(Mv(p))c.push(p);else if($1(p)){const y=new Promise((w,E)=>{p.subscribe({complete:w,error:E})});c.push(y)}}Promise.all(c).then(()=>{d()}).catch(f=>{this.reject(f)}),0===c.length&&d(),this.initialized=!0}}return s.\u0275fac=function(c){return new(c||s)(Yn(DC,8))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const R0=new An("AppId",{providedIn:"root",factory:function P0(){return`${k0()}${k0()}${k0()}`}});function k0(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const CC=new An("Platform Initializer"),PA=new An("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Ms=new An("appBootstrapListener"),kA=new An("AnimationModuleType");let FA=(()=>{class s{log(c){console.log(c)}warn(c){console.warn(c)}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const F0=new An("LocaleId",{providedIn:"root",factory:()=>Cd(F0,tt.Optional|tt.SkipSelf)||function HR(){return typeof $localize<"u"&&$localize.locale||Ou}()}),GR=new An("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class LA{constructor(o,c){this.ngModuleFactory=o,this.componentFactories=c}}let UA=(()=>{class s{compileModuleSync(c){return new ci(c)}compileModuleAsync(c){return Promise.resolve(this.compileModuleSync(c))}compileModuleAndAllComponentsSync(c){const d=this.compileModuleSync(c),p=ml(ct(c).declarations).reduce((y,w)=>{const E=O(w);return E&&y.push(new Hd(E)),y},[]);return new LA(d,p)}compileModuleAndAllComponentsAsync(c){return Promise.resolve(this.compileModuleAndAllComponentsSync(c))}clearCache(){}clearCacheFor(c){}getModuleId(c){}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const uh=(()=>Promise.resolve(0))();function u_(s){typeof Zone>"u"?uh.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class io{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:c=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new no(!1),this.onMicrotaskEmpty=new no(!1),this.onStable=new no(!1),this.onError=new no(!1),typeof Zone>"u")throw new Ce(908,!1);Zone.assertZonePatched();const f=this;if(f._nesting=0,f._outer=f._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const p=Zone.AsyncStackTaggingZoneSpec;f._inner=f._inner.fork(new p("Angular"))}Zone.TaskTrackingZoneSpec&&(f._inner=f._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(f._inner=f._inner.fork(Zone.longStackTraceZoneSpec)),f.shouldCoalesceEventChangeDetection=!d&&c,f.shouldCoalesceRunChangeDetection=d,f.lastRequestAnimationFrameId=-1,f.nativeRequestAnimationFrame=function qR(){let s=Pt.requestAnimationFrame,o=Pt.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const c=s[Zone.__symbol__("OriginalDelegate")];c&&(s=c);const d=o[Zone.__symbol__("OriginalDelegate")];d&&(o=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function jA(s){const o=()=>{!function WR(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(Pt,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,B0(s),s.isCheckStableRunning=!0,TC(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),B0(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(c,d,f,p,y,w)=>{try{return $A(s),c.invokeTask(f,p,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===p.type||s.shouldCoalesceRunChangeDetection)&&o(),HA(s)}},onInvoke:(c,d,f,p,y,w,E)=>{try{return $A(s),c.invoke(f,p,y,w,E)}finally{s.shouldCoalesceRunChangeDetection&&o(),HA(s)}},onHasTask:(c,d,f,p)=>{c.hasTask(f,p),d===f&&("microTask"==p.change?(s._hasPendingMicrotasks=p.microTask,B0(s),TC(s)):"macroTask"==p.change&&(s.hasPendingMacrotasks=p.macroTask))},onHandleError:(c,d,f,p)=>(c.handleError(f,p),s.runOutsideAngular(()=>s.onError.emit(p)),!1)})}(f)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!io.isInAngularZone())throw new Ce(909,!1)}static assertNotInAngularZone(){if(io.isInAngularZone())throw new Ce(909,!1)}run(o,c,d){return this._inner.run(o,c,d)}runTask(o,c,d,f){const p=this._inner,y=p.scheduleEventTask("NgZoneEvent: "+f,o,U0,l_,l_);try{return p.runTask(y,c,d)}finally{p.cancelTask(y)}}runGuarded(o,c,d){return this._inner.runGuarded(o,c,d)}runOutsideAngular(o){return this._outer.run(o)}}const U0={};function TC(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function B0(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function $A(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function HA(s){s._nesting--,TC(s)}class ZR{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new no,this.onMicrotaskEmpty=new no,this.onStable=new no,this.onError=new no}run(o,c,d){return o.apply(c,d)}runGuarded(o,c,d){return o.apply(c,d)}runOutsideAngular(o){return o()}runTask(o,c,d,f){return o.apply(c,d)}}const GA=new An(""),zA=new An("");let Pa,KR=(()=>{class s{constructor(c,d,f){this._ngZone=c,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Pa||(function YR(s){Pa=s}(f),f.addToWindow(d)),this._watchAngularEvents(),c.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{io.assertNotInAngularZone(),u_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())u_(()=>{for(;0!==this._callbacks.length;){let c=this._callbacks.pop();clearTimeout(c.timeoutId),c.doneCb(this._didWork)}this._didWork=!1});else{let c=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(c)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(c=>({source:c.source,creationLocation:c.creationLocation,data:c.data})):[]}addCallback(c,d,f){let p=-1;d&&d>0&&(p=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==p),c(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:c,timeoutId:p,updateCb:f})}whenStable(c,d,f){if(f&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(c,d,f),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(c){this.registry.registerApplication(c,this)}unregisterApplication(c){this.registry.unregisterApplication(c)}findProviders(c,d,f){return[]}}return s.\u0275fac=function(c){return new(c||s)(Yn(io),Yn(qA),Yn(zA))},s.\u0275prov=an({token:s,factory:s.\u0275fac}),s})(),qA=(()=>{class s{constructor(){this._applications=new Map}registerApplication(c,d){this._applications.set(c,d)}unregisterApplication(c){this._applications.delete(c)}unregisterAllApplications(){this._applications.clear()}getTestability(c){return this._applications.get(c)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(c,d=!0){return Pa?.findTestabilityInTree(this,c,d)??null}}return s.\u0275fac=function(c){return new(c||s)},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),Al=null;const IC=new An("AllowMultipleToken"),V0=new An("PlatformDestroyListeners");class WA{constructor(o,c){this.name=o,this.token=c}}function SC(s,o,c=[]){const d=`Platform: ${o}`,f=new An(d);return(p=[])=>{let y=dh();if(!y||y.injector.get(IC,!1)){const w=[...c,...p,{provide:f,useValue:!0}];s?s(w):function ZA(s){if(Al&&!Al.get(IC,!1))throw new Ce(400,!1);Al=s;const o=s.get(G0);(function H0(s){const o=s.get(CC,null);o&&o.forEach(c=>c())})(s)}(function AC(s=[],o){return _u.create({name:o,providers:[{provide:Iw,useValue:"platform"},{provide:V0,useValue:new Set([()=>Al=null])},...s]})}(w,d))}return function YA(s){const o=dh();if(!o)throw new Ce(401,!1);return o}()}}function dh(){return Al?.get(G0)??null}let G0=(()=>{class s{constructor(c){this._injector=c,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(c,d){const f=function Mp(s,o){let c;return c="noop"===s?new ZR:("zone.js"===s?void 0:s)||new io(o),c}(d?.ngZone,function d_(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),p=[{provide:io,useValue:f}];return f.run(()=>{const y=_u.create({providers:p,parent:this.injector,name:c.moduleType.name}),w=c.create(y),E=w.injector.get(Rf,null);if(!E)throw new Ce(402,!1);return f.runOutsideAngular(()=>{const A=f.onError.subscribe({next:M=>{E.handleError(M)}});w.onDestroy(()=>{g_(this._modules,w),A.unsubscribe()})}),function h_(s,o,c){try{const d=c();return Mv(d)?d.catch(f=>{throw o.runOutsideAngular(()=>s.handleError(f)),f}):d}catch(d){throw o.runOutsideAngular(()=>s.handleError(d)),d}}(E,f,()=>{const A=w.injector.get(Fu);return A.runInitializers(),A.donePromise.then(()=>(bD(w.injector.get(F0,Ou)||Ou),this._moduleDoBootstrap(w),w))})})}bootstrapModule(c,d=[]){const f=f_({},d);return function so(s,o,c){const d=new ci(c);return Promise.resolve(d)}(0,0,c).then(p=>this.bootstrapModuleFactory(p,f))}_moduleDoBootstrap(c){const d=c.injector.get(p_);if(c._bootstrapComponents.length>0)c._bootstrapComponents.forEach(f=>d.bootstrap(f));else{if(!c.instance.ngDoBootstrap)throw new Ce(403,!1);c.instance.ngDoBootstrap(d)}this._modules.push(c)}onDestroy(c){this._destroyListeners.push(c)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Ce(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const c=this._injector.get(V0,null);c&&(c.forEach(d=>d()),c.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(c){return new(c||s)(Yn(_u))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function f_(s,o){return Array.isArray(o)?o.reduce(f_,s):{...s,...o}}let p_=(()=>{class s{constructor(c,d,f){this._zone=c,this._injector=d,this._exceptionHandler=f,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const p=new P.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new P.y(w=>{let E;this._zone.runOutsideAngular(()=>{E=this._zone.onStable.subscribe(()=>{io.assertNotInAngularZone(),u_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const A=this._zone.onUnstable.subscribe(()=>{io.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{E.unsubscribe(),A.unsubscribe()}});this.isStable=(0,oe.T)(p,y.pipe((0,le.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(c,d){const f=c instanceof vy;if(!this._injector.get(Fu).done)throw!f&&Le(c),new Ce(405,false);let y;y=f?c:this._injector.get(Nf).resolveComponentFactory(c),this.componentTypes.push(y.componentType);const w=function $0(s){return s.isBoundToModule}(y)?void 0:this._injector.get(yc),A=y.create(_u.NULL,[],d||y.selector,w),M=A.location.nativeElement,U=A.injector.get(GA,null);return U?.registerApplication(M),A.onDestroy(()=>{this.detachView(A.hostView),g_(this.components,A),U?.unregisterApplication(M)}),this._loadComponent(A),A}tick(){if(this._runningTick)throw new Ce(101,!1);try{this._runningTick=!0;for(let c of this._views)c.detectChanges()}catch(c){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(c))}finally{this._runningTick=!1}}attachView(c){const d=c;this._views.push(d),d.attachToAppRef(this)}detachView(c){const d=c;g_(this._views,d),d.detachFromAppRef()}_loadComponent(c){this.attachView(c.hostView),this.tick(),this.components.push(c),this._injector.get(Ms,[]).concat(this._bootstrapListeners).forEach(f=>f(c))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(c=>c()),this._views.slice().forEach(c=>c.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(c){return this._destroyListeners.push(c),()=>g_(this._destroyListeners,c)}destroy(){if(this._destroyed)throw new Ce(406,!1);const c=this._injector;c.destroy&&!c.destroyed&&c.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(c){return new(c||s)(Yn(io),Yn(oc),Yn(Rf))},s.\u0275prov=an({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function g_(s,o){const c=s.indexOf(o);c>-1&&s.splice(c,1)}let xC=!0,hh=!1;function OC(){return hh=!0,xC}function m_(){if(hh)throw new Error("Cannot enable prod mode after platform setup.");xC=!1}let XA=(()=>{class s{}return s.__NG_ELEMENT_ID__=eN,s})();function eN(s){return function RC(s,o,c){if(kc(s)&&!c){const d=un(s.index,o);return new Jf(d,d)}return 47&s.type?new Jf(o[16],o):null}(nr(),Me(),16==(16&s))}class K0{constructor(){}supports(o){return tp(o)}create(o){return new UC(o)}}const mh=(s,o)=>o;class UC{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||mh}forEachItem(o){let c;for(c=this._itHead;null!==c;c=c._next)o(c)}forEachOperation(o){let c=this._itHead,d=this._removalsHead,f=0,p=null;for(;c||d;){const y=!d||c&&c.currentIndex<VC(d,f,p)?c:d,w=VC(y,f,p),E=y.currentIndex;if(y===d)f--,d=d._nextRemoved;else if(c=c._next,null==y.previousIndex)f++;else{p||(p=[]);const A=w-f,M=E-f;if(A!=M){for(let Z=0;Z<A;Z++){const se=Z<p.length?p[Z]:p[Z]=0,Ee=se+Z;M<=Ee&&Ee<A&&(p[Z]=se+1)}p[y.previousIndex]=M-A}}w!==E&&o(y,w,E)}}forEachPreviousItem(o){let c;for(c=this._previousItHead;null!==c;c=c._nextPrevious)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachMovedItem(o){let c;for(c=this._movesHead;null!==c;c=c._nextMoved)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}forEachIdentityChange(o){let c;for(c=this._identityChangesHead;null!==c;c=c._nextIdentityChange)o(c)}diff(o){if(null==o&&(o=[]),!tp(o))throw new Ce(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let f,p,y,c=this._itHead,d=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)p=o[w],y=this._trackByFn(w,p),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,p,y,w)),Object.is(c.item,p)||this._addIdentityChange(c,p)):(c=this._mismatch(c,p,y,w),d=!0),c=c._next}else f=0,function QI(s,o){if(Array.isArray(s))for(let c=0;c<s.length;c++)o(s[c]);else{const c=s[pc()]();let d;for(;!(d=c.next()).done;)o(d.value)}}(o,w=>{y=this._trackByFn(f,w),null!==c&&Object.is(c.trackById,y)?(d&&(c=this._verifyReinsertion(c,w,y,f)),Object.is(c.item,w)||this._addIdentityChange(c,w)):(c=this._mismatch(c,w,y,f),d=!0),c=c._next,f++}),this.length=f;return this._truncate(c),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,c,d,f){let p;return null===o?p=this._itTail:(p=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._reinsertAfter(o,p,f)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(d,f))?(Object.is(o.item,c)||this._addIdentityChange(o,c),this._moveAfter(o,p,f)):o=this._addAfter(new aN(c,d),p,f),o}_verifyReinsertion(o,c,d,f){let p=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==p?o=this._reinsertAfter(p,o._prev,f):o.currentIndex!=f&&(o.currentIndex=f,this._addToMoves(o,f)),o}_truncate(o){for(;null!==o;){const c=o._next;this._addToRemovals(this._unlink(o)),o=c}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,c,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const f=o._prevRemoved,p=o._nextRemoved;return null===f?this._removalsHead=p:f._nextRemoved=p,null===p?this._removalsTail=f:p._prevRemoved=f,this._insertAfter(o,c,d),this._addToMoves(o,d),o}_moveAfter(o,c,d){return this._unlink(o),this._insertAfter(o,c,d),this._addToMoves(o,d),o}_addAfter(o,c,d){return this._insertAfter(o,c,d),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,c,d){const f=null===c?this._itHead:c._next;return o._next=f,o._prev=c,null===f?this._itTail=o:f._prev=o,null===c?this._itHead=o:c._next=o,null===this._linkedRecords&&(this._linkedRecords=new BC),this._linkedRecords.put(o),o.currentIndex=d,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const c=o._prev,d=o._next;return null===c?this._itHead=d:c._next=d,null===d?this._itTail=c:d._prev=c,o}_addToMoves(o,c){return o.previousIndex===c||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new BC),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,c){return o.item=c,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class aN{constructor(o,c){this.item=o,this.trackById=c,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class lN{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,c){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===c||c<=d.currentIndex)&&Object.is(d.trackById,o))return d;return null}remove(o){const c=o._prevDup,d=o._nextDup;return null===c?this._head=d:c._nextDup=d,null===d?this._tail=c:d._prevDup=c,null===this._head}}class BC{constructor(){this.map=new Map}put(o){const c=o.trackById;let d=this.map.get(c);d||(d=new lN,this.map.set(c,d)),d.add(o)}get(o,c){const f=this.map.get(o);return f?f.get(o,c):null}remove(o){const c=o.trackById;return this.map.get(c).remove(o)&&this.map.delete(c),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function VC(s,o,c){const d=s.previousIndex;if(null===d)return d;let f=0;return c&&d<c.length&&(f=c[d]),d+o+f}class jC{constructor(){}supports(o){return o instanceof Map||Gd(o)}create(){return new cN}}class cN{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let c;for(c=this._mapHead;null!==c;c=c._next)o(c)}forEachPreviousItem(o){let c;for(c=this._previousMapHead;null!==c;c=c._nextPrevious)o(c)}forEachChangedItem(o){let c;for(c=this._changesHead;null!==c;c=c._nextChanged)o(c)}forEachAddedItem(o){let c;for(c=this._additionsHead;null!==c;c=c._nextAdded)o(c)}forEachRemovedItem(o){let c;for(c=this._removalsHead;null!==c;c=c._nextRemoved)o(c)}diff(o){if(o){if(!(o instanceof Map||Gd(o)))throw new Ce(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let c=this._mapHead;if(this._appendAfter=null,this._forEach(o,(d,f)=>{if(c&&c.key===f)this._maybeAddToChanges(c,d),this._appendAfter=c,c=c._next;else{const p=this._getOrCreateRecordForKey(f,d);c=this._insertBeforeOrAppend(c,p)}}),c){c._prev&&(c._prev._next=null),this._removalsHead=c;for(let d=c;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,c){if(o){const d=o._prev;return c._next=o,c._prev=d,o._prev=c,d&&(d._next=c),o===this._mapHead&&(this._mapHead=c),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=c,c._prev=this._appendAfter):this._mapHead=c,this._appendAfter=c,null}_getOrCreateRecordForKey(o,c){if(this._records.has(o)){const f=this._records.get(o);this._maybeAddToChanges(f,c);const p=f._prev,y=f._next;return p&&(p._next=y),y&&(y._prev=p),f._next=null,f._prev=null,f}const d=new uN(o);return this._records.set(o,d),d.currentValue=c,this._addToAdditions(d),d}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,c){Object.is(c,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=c,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,c){o instanceof Map?o.forEach(c):Object.keys(o).forEach(d=>c(o[d],d))}}class uN{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function $C(){return new Y0([new K0])}let Y0=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(null!=d){const f=d.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||$C()),deps:[[s,new vt,new xe]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(null!=d)return d;throw new Ce(901,!1)}}return s.\u0275prov=an({token:s,providedIn:"root",factory:$C}),s})();function J0(){return new v_([new jC])}let v_=(()=>{class s{constructor(c){this.factories=c}static create(c,d){if(d){const f=d.factories.slice();c=c.concat(f)}return new s(c)}static extend(c){return{provide:s,useFactory:d=>s.create(c,d||J0()),deps:[[s,new vt,new xe]]}}find(c){const d=this.factories.find(f=>f.supports(c));if(d)return d;throw new Ce(901,!1)}}return s.\u0275prov=an({token:s,providedIn:"root",factory:J0}),s})();const HC=SC(null,"core",[]);let GC=(()=>{class s{constructor(c){}}return s.\u0275fac=function(c){return new(c||s)(Yn(p_))},s.\u0275mod=tn({type:s}),s.\u0275inj=Ht({}),s})();function zC(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function gN(s,o){const c=O(s),d=o.elementInjector||Bg();return new Hd(c).create(d,o.projectableNodes,o.hostElement,o.environmentInjector)}},3942:(ft,Se,F)=>{F.d(Se,{Z:()=>Ce});var l=F(2090),H=F(4859),P=F(9681),oe=F(1877);class le{constructor(we,me){this._delegate=we,this.firebase=me,(0,P._addComponent)(we,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,P.deleteApp)(this._delegate)))}_getService(we,me=P._DEFAULT_ENTRY_NAME){var nt;this._delegate.checkDestroyed();const et=this._delegate.container.getProvider(we);return!et.isInitialized()&&"EXPLICIT"===(null===(nt=et.getComponent())||void 0===nt?void 0:nt.instantiationMode)&&et.initialize(),et.getImmediate({identifier:me})}_removeServiceInstance(we,me=P._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(me)}_addComponent(we){(0,P._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,P._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),W=function ve(){const at=function fe(at){const we={},me={__esModule:!0,initializeApp:function Ue(ie,ue={}){const be=P.initializeApp(ie,ue);if((0,l.r3)(we,be.name))return we[be.name];const Q=new at(be,me);return we[be.name]=Q,Q},app:et,registerVersion:P.registerVersion,setLogLevel:P.setLogLevel,onLog:P.onLog,apps:null,SDK_VERSION:P.SDK_VERSION,INTERNAL:{registerComponent:function De(ie){const ue=ie.name,be=ue.replace("-compat","");if(P._registerComponent(ie)&&"PUBLIC"===ie.type){const Q=(te=et())=>{if("function"!=typeof te[be])throw de.create("invalid-app-argument",{appName:ue});return te[be]()};void 0!==ie.serviceProps&&(0,l.ZB)(Q,ie.serviceProps),me[be]=Q,at.prototype[be]=function(...te){return this._getService.bind(this,ue).apply(this,ie.multipleInstances?te:[])}}return"PUBLIC"===ie.type?me[be]:null},removeApp:function nt(ie){delete we[ie]},useAsService:function Ke(ie,ue){return"serverAuth"===ue?null:ue},modularAPIs:P}};function et(ie){if(!(0,l.r3)(we,ie=ie||P._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:ie});return we[ie]}return me.default=me,Object.defineProperty(me,"apps",{get:function Re(){return Object.keys(we).map(ie=>we[ie])}}),et.App=at,me}(le);return at.INTERNAL=Object.assign(Object.assign({},at.INTERNAL),{createFirebaseNamespace:ve,extendNamespace:function we(me){(0,l.ZB)(at,me)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),at}(),z=new oe.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){z.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const at=self.firebase.SDK_VERSION;at&&at.indexOf("LITE")>=0&&z.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Ce=W;!function Fe(at){(0,P.registerVersion)("@firebase/app-compat","0.1.37",at)}()},9681:(ft,Se,F)=>{F.r(Se),F.d(Se,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>fs,_DEFAULT_ENTRY_NAME:()=>zt,_addComponent:()=>on,_addOrOverwriteComponent:()=>an,_apps:()=>fn,_clearComponents:()=>Yi,_components:()=>En,_getProvider:()=>Ht,_registerComponent:()=>Kt,_removeServiceInstance:()=>Nr,deleteApp:()=>ps,getApp:()=>qn,getApps:()=>Ri,initializeApp:()=>Vr,onLog:()=>Wn,registerVersion:()=>Xn,setLogLevel:()=>Cn});var l=F(5861),H=F(4859),P=F(1877),oe=F(2090),le=F(8766);class _e{constructor(Ie){this.container=Ie}getPlatformInfoString(){return this.container.getProviders().map(st=>{if(function de(it){return"VERSION"===it.getComponent()?.type}(st)){const Et=st.getImmediate();return`${Et.library}/${Et.version}`}return null}).filter(st=>st).join(" ")}}const fe="@firebase/app",W=new P.Yd("@firebase/app"),zt="[DEFAULT]",Qe={[fe]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},fn=new Map,En=new Map;function on(it,Ie){try{it.container.addComponent(Ie)}catch(st){W.debug(`Component ${Ie.name} failed to register with FirebaseApp ${it.name}`,st)}}function an(it,Ie){it.container.addOrOverwriteComponent(Ie)}function Kt(it){const Ie=it.name;if(En.has(Ie))return W.debug(`There were multiple attempts to register component ${Ie}.`),!1;En.set(Ie,it);for(const st of fn.values())on(st,it);return!0}function Ht(it,Ie){const st=it.container.getProvider("heartbeat").getImmediate({optional:!0});return st&&st.triggerHeartbeat(),it.container.getProvider(Ie)}function Nr(it,Ie,st=zt){Ht(it,Ie).clearInstance(st)}function Yi(){En.clear()}const Fn=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class hs{constructor(Ie,st,Et){this._isDeleted=!1,this._options=Object.assign({},Ie),this._config=Object.assign({},st),this._name=st.name,this._automaticDataCollectionEnabled=st.automaticDataCollectionEnabled,this._container=Et,this.container.addComponent(new H.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ie){this.checkDestroyed(),this._automaticDataCollectionEnabled=Ie}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Ie){this._isDeleted=Ie}checkDestroyed(){if(this.isDeleted)throw Fn.create("app-deleted",{appName:this._name})}}const fs="9.12.1";function Vr(it,Ie={}){let st=it;"object"!=typeof Ie&&(Ie={name:Ie});const Et=Object.assign({name:zt,automaticDataCollectionEnabled:!1},Ie),It=Et.name;if("string"!=typeof It||!It)throw Fn.create("bad-app-name",{appName:String(It)});if(st||(st=(0,oe.aH)()),!st)throw Fn.create("no-options");const tn=fn.get(It);if(tn){if((0,oe.vZ)(st,tn.options)&&(0,oe.vZ)(Et,tn.config))return tn;throw Fn.create("duplicate-app",{appName:It})}const q=new H.H0(It);for(const Y of En.values())q.addComponent(Y);const G=new hs(st,Et,q);return fn.set(It,G),G}function qn(it=zt){const Ie=fn.get(it);if(!Ie&&it===zt)return Vr();if(!Ie)throw Fn.create("no-app",{appName:it});return Ie}function Ri(){return Array.from(fn.values())}function ps(it){return tt.apply(this,arguments)}function tt(){return(tt=(0,l.Z)(function*(it){const Ie=it.name;fn.has(Ie)&&(fn.delete(Ie),yield Promise.all(it.container.getProviders().map(st=>st.delete())),it.isDeleted=!0)})).apply(this,arguments)}function Xn(it,Ie,st){var Et;let It=null!==(Et=Qe[it])&&void 0!==Et?Et:it;st&&(It+=`-${st}`);const tn=It.match(/\s|\//),q=Ie.match(/\s|\//);if(tn||q){const G=[`Unable to register library "${It}" with version "${Ie}":`];return tn&&G.push(`library name "${It}" contains illegal characters (whitespace or "/")`),tn&&q&&G.push("and"),q&&G.push(`version name "${Ie}" contains illegal characters (whitespace or "/")`),void W.warn(G.join(" "))}Kt(new H.wA(`${It}-version`,()=>({library:It,version:Ie}),"VERSION"))}function Wn(it,Ie){if(null!==it&&"function"!=typeof it)throw Fn.create("invalid-log-argument");(0,P.Am)(it,Ie)}function Cn(it){(0,P.Ub)(it)}const Tn="firebase-heartbeat-store";let In=null;function bn(){return In||(In=(0,le.X3)("firebase-heartbeat-database",1,{upgrade:(it,Ie)=>{0===Ie&&it.createObjectStore(Tn)}}).catch(it=>{throw Fn.create("idb-open",{originalErrorMessage:it.message})})),In}function yt(){return(yt=(0,l.Z)(function*(it){var Ie;try{return(yield bn()).transaction(Tn).objectStore(Tn).get(er(it))}catch(st){if(st instanceof oe.ZR)W.warn(st.message);else{const Et=Fn.create("idb-get",{originalErrorMessage:null===(Ie=st)||void 0===Ie?void 0:Ie.message});W.warn(Et.message)}}})).apply(this,arguments)}function Pt(it,Ie){return Jr.apply(this,arguments)}function Jr(){return(Jr=(0,l.Z)(function*(it,Ie){var st;try{const It=(yield bn()).transaction(Tn,"readwrite");return yield It.objectStore(Tn).put(Ie,er(it)),It.done}catch(Et){if(Et instanceof oe.ZR)W.warn(Et.message);else{const It=Fn.create("idb-set",{originalErrorMessage:null===(st=Et)||void 0===st?void 0:st.message});W.warn(It.message)}}})).apply(this,arguments)}function er(it){return`${it.name}!${it.options.appId}`}class jr{constructor(Ie){this.container=Ie,this._heartbeatsCache=null;const st=this.container.getProvider("app").getImmediate();this._storage=new Qt(st),this._heartbeatsCachePromise=this._storage.read().then(Et=>(this._heartbeatsCache=Et,Et))}triggerHeartbeat(){var Ie=this;return(0,l.Z)(function*(){const Et=Ie.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),It=jt();if(null===Ie._heartbeatsCache&&(Ie._heartbeatsCache=yield Ie._heartbeatsCachePromise),Ie._heartbeatsCache.lastSentHeartbeatDate!==It&&!Ie._heartbeatsCache.heartbeats.some(tn=>tn.date===It))return Ie._heartbeatsCache.heartbeats.push({date:It,agent:Et}),Ie._heartbeatsCache.heartbeats=Ie._heartbeatsCache.heartbeats.filter(tn=>{const q=new Date(tn.date).valueOf();return Date.now()-q<=2592e6}),Ie._storage.overwrite(Ie._heartbeatsCache)})()}getHeartbeatsHeader(){var Ie=this;return(0,l.Z)(function*(){if(null===Ie._heartbeatsCache&&(yield Ie._heartbeatsCachePromise),null===Ie._heartbeatsCache||0===Ie._heartbeatsCache.heartbeats.length)return"";const st=jt(),{heartbeatsToSend:Et,unsentEntries:It}=function gi(it,Ie=1024){const st=[];let Et=it.slice();for(const It of it){const tn=st.find(q=>q.agent===It.agent);if(tn){if(tn.dates.push(It.date),lr(st)>Ie){tn.dates.pop();break}}else if(st.push({agent:It.agent,dates:[It.date]}),lr(st)>Ie){st.pop();break}Et=Et.slice(1)}return{heartbeatsToSend:st,unsentEntries:Et}}(Ie._heartbeatsCache.heartbeats),tn=(0,oe.L)(JSON.stringify({version:2,heartbeats:Et}));return Ie._heartbeatsCache.lastSentHeartbeatDate=st,It.length>0?(Ie._heartbeatsCache.heartbeats=It,yield Ie._storage.overwrite(Ie._heartbeatsCache)):(Ie._heartbeatsCache.heartbeats=[],Ie._storage.overwrite(Ie._heartbeatsCache)),tn})()}}function jt(){return(new Date).toISOString().substring(0,10)}class Qt{constructor(Ie){this.app=Ie,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,oe.hl)()&&(0,oe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Ie=this;return(0,l.Z)(function*(){return(yield Ie._canUseIndexedDBPromise)&&(yield function _t(it){return yt.apply(this,arguments)}(Ie.app))||{heartbeats:[]}})()}overwrite(Ie){var st=this;return(0,l.Z)(function*(){var Et;if(yield st._canUseIndexedDBPromise){const tn=yield st.read();return Pt(st.app,{lastSentHeartbeatDate:null!==(Et=Ie.lastSentHeartbeatDate)&&void 0!==Et?Et:tn.lastSentHeartbeatDate,heartbeats:Ie.heartbeats})}})()}add(Ie){var st=this;return(0,l.Z)(function*(){var Et;if(yield st._canUseIndexedDBPromise){const tn=yield st.read();return Pt(st.app,{lastSentHeartbeatDate:null!==(Et=Ie.lastSentHeartbeatDate)&&void 0!==Et?Et:tn.lastSentHeartbeatDate,heartbeats:[...tn.heartbeats,...Ie.heartbeats]})}})()}}function lr(it){return(0,oe.L)(JSON.stringify({version:2,heartbeats:it})).length}!function xn(it){Kt(new H.wA("platform-logger",Ie=>new _e(Ie),"PRIVATE")),Kt(new H.wA("heartbeat",Ie=>new jr(Ie),"PRIVATE")),Xn(fe,"0.8.2",it),Xn(fe,"0.8.2","esm2017"),Xn("fire-js","")}("")},4859:(ft,Se,F)=>{F.d(Se,{H0:()=>fe,wA:()=>P});var l=F(5861),H=F(2090);class P{constructor(W,z,ee){this.name=W,this.instanceFactory=z,this.type=ee,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(W){return this.instantiationMode=W,this}setMultipleInstances(W){return this.multipleInstances=W,this}setServiceProps(W){return this.serviceProps=W,this}setInstanceCreatedCallback(W){return this.onInstanceCreated=W,this}}const oe="[DEFAULT]";class le{constructor(W,z){this.name=W,this.container=z,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(W){const z=this.normalizeInstanceIdentifier(W);if(!this.instancesDeferred.has(z)){const ee=new H.BH;if(this.instancesDeferred.set(z,ee),this.isInitialized(z)||this.shouldAutoInitialize())try{const Ge=this.getOrInitializeService({instanceIdentifier:z});Ge&&ee.resolve(Ge)}catch{}}return this.instancesDeferred.get(z).promise}getImmediate(W){var z;const ee=this.normalizeInstanceIdentifier(W?.identifier),Ge=null!==(z=W?.optional)&&void 0!==z&&z;if(!this.isInitialized(ee)&&!this.shouldAutoInitialize()){if(Ge)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:ee})}catch(Fe){if(Ge)return null;throw Fe}}getComponent(){return this.component}setComponent(W){if(W.name!==this.name)throw Error(`Mismatching Component ${W.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=W,this.shouldAutoInitialize()){if(function de(ve){return"EAGER"===ve.instantiationMode}(W))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[z,ee]of this.instancesDeferred.entries()){const Ge=this.normalizeInstanceIdentifier(z);try{const Fe=this.getOrInitializeService({instanceIdentifier:Ge});ee.resolve(Fe)}catch{}}}}clearInstance(W=oe){this.instancesDeferred.delete(W),this.instancesOptions.delete(W),this.instances.delete(W)}delete(){var W=this;return(0,l.Z)(function*(){const z=Array.from(W.instances.values());yield Promise.all([...z.filter(ee=>"INTERNAL"in ee).map(ee=>ee.INTERNAL.delete()),...z.filter(ee=>"_delete"in ee).map(ee=>ee._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(W=oe){return this.instances.has(W)}getOptions(W=oe){return this.instancesOptions.get(W)||{}}initialize(W={}){const{options:z={}}=W,ee=this.normalizeInstanceIdentifier(W.instanceIdentifier);if(this.isInitialized(ee))throw Error(`${this.name}(${ee}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ge=this.getOrInitializeService({instanceIdentifier:ee,options:z});for(const[Fe,Ce]of this.instancesDeferred.entries())ee===this.normalizeInstanceIdentifier(Fe)&&Ce.resolve(Ge);return Ge}onInit(W,z){var ee;const Ge=this.normalizeInstanceIdentifier(z),Fe=null!==(ee=this.onInitCallbacks.get(Ge))&&void 0!==ee?ee:new Set;Fe.add(W),this.onInitCallbacks.set(Ge,Fe);const Ce=this.instances.get(Ge);return Ce&&W(Ce,Ge),()=>{Fe.delete(W)}}invokeOnInitCallbacks(W,z){const ee=this.onInitCallbacks.get(z);if(ee)for(const Ge of ee)try{Ge(W,z)}catch{}}getOrInitializeService({instanceIdentifier:W,options:z={}}){let ee=this.instances.get(W);if(!ee&&this.component&&(ee=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=W,ve===oe?void 0:ve),options:z}),this.instances.set(W,ee),this.instancesOptions.set(W,z),this.invokeOnInitCallbacks(ee,W),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,W,ee)}catch{}var ve;return ee||null}normalizeInstanceIdentifier(W=oe){return this.component?this.component.multipleInstances?W:oe:W}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class fe{constructor(W){this.name=W,this.providers=new Map}addComponent(W){const z=this.getProvider(W.name);if(z.isComponentSet())throw new Error(`Component ${W.name} has already been registered with ${this.name}`);z.setComponent(W)}addOrOverwriteComponent(W){this.getProvider(W.name).isComponentSet()&&this.providers.delete(W.name),this.addComponent(W)}getProvider(W){if(this.providers.has(W))return this.providers.get(W);const z=new le(W,this);return this.providers.set(W,z),z}getProviders(){return Array.from(this.providers.values())}}},1877:(ft,Se,F)=>{F.d(Se,{Am:()=>ve,Ub:()=>fe,Yd:()=>de,in:()=>H});const l=[];var H=(()=>{return(W=H||(H={}))[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",H;var W})();const P={debug:H.DEBUG,verbose:H.VERBOSE,info:H.INFO,warn:H.WARN,error:H.ERROR,silent:H.SILENT},oe=H.INFO,le={[H.DEBUG]:"log",[H.VERBOSE]:"log",[H.INFO]:"info",[H.WARN]:"warn",[H.ERROR]:"error"},_e=(W,z,...ee)=>{if(z<W.logLevel)return;const Ge=(new Date).toISOString(),Fe=le[z];if(!Fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${z})`);console[Fe](`[${Ge}]  ${W.name}:`,...ee)};class de{constructor(z){this.name=z,this._logLevel=oe,this._logHandler=_e,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(z){if(!(z in H))throw new TypeError(`Invalid value "${z}" assigned to \`logLevel\``);this._logLevel=z}setLogLevel(z){this._logLevel="string"==typeof z?P[z]:z}get logHandler(){return this._logHandler}set logHandler(z){if("function"!=typeof z)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=z}get userLogHandler(){return this._userLogHandler}set userLogHandler(z){this._userLogHandler=z}debug(...z){this._userLogHandler&&this._userLogHandler(this,H.DEBUG,...z),this._logHandler(this,H.DEBUG,...z)}log(...z){this._userLogHandler&&this._userLogHandler(this,H.VERBOSE,...z),this._logHandler(this,H.VERBOSE,...z)}info(...z){this._userLogHandler&&this._userLogHandler(this,H.INFO,...z),this._logHandler(this,H.INFO,...z)}warn(...z){this._userLogHandler&&this._userLogHandler(this,H.WARN,...z),this._logHandler(this,H.WARN,...z)}error(...z){this._userLogHandler&&this._userLogHandler(this,H.ERROR,...z),this._logHandler(this,H.ERROR,...z)}}function fe(W){l.forEach(z=>{z.setLogLevel(W)})}function ve(W,z){for(const ee of l){let Ge=null;z&&z.level&&(Ge=P[z.level]),ee.userLogHandler=null===W?null:(Fe,Ce,...at)=>{const we=at.map(me=>{if(null==me)return null;if("string"==typeof me)return me;if("number"==typeof me||"boolean"==typeof me)return me.toString();if(me instanceof Error)return me.message;try{return JSON.stringify(me)}catch{return null}}).filter(me=>me).join(" ");Ce>=(Ge??Fe.logLevel)&&W({level:H[Ce].toLowerCase(),message:we,args:at,type:Fe.name})}}}},8766:(ft,Se,F)=>{F.d(Se,{Lj:()=>Ue,X3:()=>et});var l=F(5861);let P,oe;const de=new WeakMap,fe=new WeakMap,ve=new WeakMap,W=new WeakMap,z=new WeakMap;let Fe={get(ue,be,Q){if(ue instanceof IDBTransaction){if("done"===be)return fe.get(ue);if("objectStoreNames"===be)return ue.objectStoreNames||ve.get(ue);if("store"===be)return Q.objectStoreNames[1]?void 0:Q.objectStore(Q.objectStoreNames[0])}return me(ue[be])},set:(ue,be,Q)=>(ue[be]=Q,!0),has:(ue,be)=>ue instanceof IDBTransaction&&("done"===be||"store"===be)||be in ue};function we(ue){return"function"==typeof ue?function at(ue){return ue!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function _e(){return oe||(oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ue)?function(...be){return ue.apply(nt(this),be),me(de.get(this))}:function(...be){return me(ue.apply(nt(this),be))}:function(be,...Q){const te=ue.call(nt(this),be,...Q);return ve.set(te,be.sort?be.sort():[be]),me(te)}}(ue):(ue instanceof IDBTransaction&&function Ge(ue){if(fe.has(ue))return;const be=new Promise((Q,te)=>{const ge=()=>{ue.removeEventListener("complete",ae),ue.removeEventListener("error",$e),ue.removeEventListener("abort",$e)},ae=()=>{Q(),ge()},$e=()=>{te(ue.error||new DOMException("AbortError","AbortError")),ge()};ue.addEventListener("complete",ae),ue.addEventListener("error",$e),ue.addEventListener("abort",$e)});fe.set(ue,be)}(ue),((ue,be)=>be.some(Q=>ue instanceof Q))(ue,function le(){return P||(P=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ue,Fe):ue)}function me(ue){if(ue instanceof IDBRequest)return function ee(ue){const be=new Promise((Q,te)=>{const ge=()=>{ue.removeEventListener("success",ae),ue.removeEventListener("error",$e)},ae=()=>{Q(me(ue.result)),ge()},$e=()=>{te(ue.error),ge()};ue.addEventListener("success",ae),ue.addEventListener("error",$e)});return be.then(Q=>{Q instanceof IDBCursor&&de.set(Q,ue)}).catch(()=>{}),z.set(be,ue),be}(ue);if(W.has(ue))return W.get(ue);const be=we(ue);return be!==ue&&(W.set(ue,be),z.set(be,ue)),be}const nt=ue=>z.get(ue);function et(ue,be,{blocked:Q,upgrade:te,blocking:ge,terminated:ae}={}){const $e=indexedDB.open(ue,be),He=me($e);return te&&$e.addEventListener("upgradeneeded",bt=>{te(me($e.result),bt.oldVersion,bt.newVersion,me($e.transaction))}),Q&&$e.addEventListener("blocked",()=>Q()),He.then(bt=>{ae&&bt.addEventListener("close",()=>ae()),ge&&bt.addEventListener("versionchange",()=>ge())}).catch(()=>{}),He}function Ue(ue,{blocked:be}={}){const Q=indexedDB.deleteDatabase(ue);return be&&Q.addEventListener("blocked",()=>be()),me(Q).then(()=>{})}const Re=["get","getKey","getAll","getAllKeys","count"],De=["put","add","delete","clear"],Ke=new Map;function ie(ue,be){if(!(ue instanceof IDBDatabase)||be in ue||"string"!=typeof be)return;if(Ke.get(be))return Ke.get(be);const Q=be.replace(/FromIndex$/,""),te=be!==Q,ge=De.includes(Q);if(!(Q in(te?IDBIndex:IDBObjectStore).prototype)||!ge&&!Re.includes(Q))return;const ae=function(){var $e=(0,l.Z)(function*(He,...bt){const cn=this.transaction(He,ge?"readwrite":"readonly");let zt=cn.store;return te&&(zt=zt.index(bt.shift())),(yield Promise.all([zt[Q](...bt),ge&&cn.done]))[0]});return function(bt){return $e.apply(this,arguments)}}();return Ke.set(be,ae),ae}!function Ce(ue){Fe=ue(Fe)}(ue=>({...ue,get:(be,Q,te)=>ie(be,Q)||ue.get(be,Q,te),has:(be,Q)=>!!ie(be,Q)||ue.has(be,Q)}))},5861:(ft,Se,F)=>{function l(P,oe,le,_e,de,fe,ve){try{var W=P[fe](ve),z=W.value}catch(ee){return void le(ee)}W.done?oe(z):Promise.resolve(z).then(_e,de)}function H(P){return function(){var oe=this,le=arguments;return new Promise(function(_e,de){var fe=P.apply(oe,le);function ve(z){l(fe,_e,de,ve,W,"next",z)}function W(z){l(fe,_e,de,ve,W,"throw",z)}ve(void 0)})}}F.d(Se,{Z:()=>H})}},ft=>{ft(ft.s=415)}]);